!function(t){"use strict";var e=function(t,e,r,i,o,n,a){o.theme("default").primaryPalette("pink",{"default":"500","hue-1":"200","hue-2":"800","hue-3":"A100"}).accentPalette("blue",{}).warnPalette("red"),i.html5Mode(!1).hashPrefix("!");var l="",c="/welcome";t.state("byt",{url:l,"abstract":!0}).state("byt.welcome",{url:c,templateUrl:"welcome/wlc.tpl.html",controller:"WlcController"}).state("byt.aggloList",{url:"/cities",templateUrl:"agglo-list/agglo-list.tpl.html",controller:"AggloListController"}).state("byt.aggloItem",{url:"/cities/:agglo_inter_code","abstract":!0,templateUrl:"agglo-item/agglo-item.tpl.html",controller:"AggloItemController",resolve:{q_agglo_inter_code:["$stateParams",function(t){return console.log("some resolve"),t.agglo_inter_code}]}}).state("byt.about",{url:"/about",templateUrl:"about/about.tpl.html",controller:"AboutController"}),e.otherwise(l+c),a.setPrefix("ppa").setStorageType("localStorage")};t.module("myApp.appConfig",["ui.router","ngMaterial","LocalStorageModule","myApp.templateFactory","myApp.ToolbarController","myApp.WlcController","myApp.AggloItemController","myApp.AggloListController","myApp.AboutController","anguphantom"]).config(["$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider","$mdThemingProvider","$mdIconProvider","localStorageServiceProvider",e])}(window.angular),function(t){"use strict";var e=function(){};t.module("myApp",["myApp.appConfig"]).run([e]);var r=function(){t.bootstrap(document,["myApp"])};t.element(document).ready(function(){window.cordova?document.addEventListener("deviceready",r,!1):r()})}(window.angular),window.onerror=function(){"use strict";alert("Непредвиденная ошибка")},function(t){"use strict";var e=function(t,e,r){r.setTitle("О проекте"),r.setPrevHref(e.href("byt.welcome")),t.htmlReady()};t.module("myApp.AboutController",["myApp.siteRepo"]).controller("AboutController",["$scope","$state","siteRepo",e])}(window.angular),function(t){"use strict";var e=function(t){t.state("byt.aggloItem.specList",{url:"/specs",views:{aggloItemContent:{templateUrl:"agglo-item/spec-list/spec-list.tpl.html",controller:"SpecListController"}}}).state("byt.aggloItem.specItem",{url:"/specs/:spec_id","abstract":!0,views:{aggloItemContent:{templateUrl:"agglo-item/spec-item/spec-item.tpl.html",controller:"SpecItemController"}},resolve:{q_spec_id:["$q","$stateParams","rubricRepo",function(t,e,r){var i=e.spec_id,o=t.defer();return r.getIds().indexOf(i)>=0?o.resolve(i):o.reject("param "+i+" is not supported"),o.promise}]}}).state("byt.aggloItem.specItem.salonList",{url:"/salons",views:{specItemContent:{templateUrl:"agglo-item/spec-item/salon-list/salon-list.tpl.html",controller:"SalonListController"}}}).state("byt.aggloItem.specItem.rubricItem",{url:"/rubrics/:rubric_id",views:{specItemContent:{templateUrl:"agglo-item/spec-item/rubric-item/rubric-item.tpl.html",controller:"RubricItemController"}},resolve:{q_rubric_id:["$stateParams",function(t){return t.rubric_id}]}})};t.module("myApp.aggloItemConfig",["myApp.SpecListController","myApp.SpecItemController","myApp.SalonListController","myApp.RubricItemController"]).config(["$stateProvider",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n,a,l,c){t.cur_agglo=null;var s=function(){var e=i.calcByInterCode(c);e?t.cur_agglo=e:r.go("byt.welcome")};i.retrieveData().then(s)["catch"](function(e){console.log("aggloRetrieveError"),console.log(e),l.error("Технические неполадки: не удалось подключиться к серверу."),t.htmlReady()}),e(function(){t.is_prg=!0},500)};t.module("myApp.AggloItemController",["myApp.aggloItemConfig","myApp.aggloRepo","myApp.rubricRepo","myApp.servRepo","myApp.masterRepo","myApp.notifFactory"]).controller("AggloItemController",["$scope","$timeout","$state","aggloRepo","rubricRepo","servRepo","masterRepo","notifFactory","q_agglo_inter_code",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o){o.setTitle("Выбор города"),o.setPrevHref(e.href("byt.welcome")),t.agglo_data=i.getData(),i.retrieveData()["catch"](function(t){r.error("Технические неполадки: не удалось подключиться к серверу."),console.log("aggloRetrieveError",t)})["finally"](function(){t.htmlReady()})};t.module("myApp.AggloListController",["myApp.notifFactory","myApp.aggloRepo","myApp.siteRepo"]).controller("AggloListController",["$scope","$state","notifFactory","aggloRepo","siteRepo",e])}(window.angular),function(t){"use strict";var e=function(t,e,r){t.msg_body=r,t.hideDialog=function(){e.hide()}};t.module("myApp.AlrtController",["ngMaterial"]).controller("AlrtController",["$scope","$mdDialog","msg_body",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o){t.site_data=i.getData(),t.scrollToTop=function(){e.hash("top_block"),r()},t.scroll_data=o.getData()};t.module("myApp.ToolbarController",["myApp.siteRepo","myApp.scrollRepo"]).controller("ToolbarController",["$scope","$location","$anchorScroll","siteRepo","scrollRepo",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n,a,l,c,s,d){d.setTitle("МисКра"),d.setPrevHref(""),t.is_socnet=window.IS_SOCNET;var m=function(){n.error("Не удалось определить город. Попробуйте выбрать вручную")};t.defineSocCity=function(){window.getSocCity?window.getSocCity(function(t){if(t){var e=l.findElemByProp(a.getData().arr_geo_agglo,"local_name",t);if(!e)return void n.error("Ваше местоположение "+t+" не поддерживается приложением");u(e)}else m()}):m()},t.loc_data=c.getData(),t.perm_data=s.getData();var u=function(t){e.go("byt.aggloItem.specList",{agglo_inter_code:t.inter_code})},p=function(){var e=c.getData().coords;a.calcAggloByCoords(e.lat,e.lng).then(function(e){e?(s.saveLocationPermission(),u(e)):(n.error("Местоположение не поддерживается сервисом. Попробуйте выбрать вручную."),t.htmlReady())})};t.defineLocation=function(){c.retrieveFromDevice().then(p)["catch"](function(e){n.error(e),t.htmlReady()})},t.cleanLocationPermission=function(){s.cleanLocationPermission()};var g=function(){s.checkLocationPermission().then(function(e){e,t.htmlReady()})};a.retrieveData().then(g)["catch"](function(e){n.error("Технические неполадки: не удалось подключиться к серверу."),console.log("aggloRetrieveError",e),t.htmlReady()}),o(function(){t.is_prg=!0},500)};t.module("myApp.WlcController",["ui.router","myApp.notifFactory","myApp.aggloRepo","myApp.hprFactory","myApp.locRepo","myApp.permRepo","myApp.siteRepo"]).controller("WlcController",["$scope","$state","$log","$http","$timeout","notifFactory","aggloRepo","hprFactory","locRepo","permRepo","siteRepo",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n,a,l){a.setTitle(t.cur_agglo.local_name),a.setPrevHref(r.href("byt.welcome")),t.rubric_data=i.getData();var c=n.calcByInterCode(l);i.retrieveData(c.id,"ru")["catch"](function(t){o.error("Ошибка загрузки категорий"),console.log(t)})["finally"](function(){t.htmlReady()}),e(function(){t.is_prg=!0},500)};t.module("myApp.SpecListController",["myApp.rubricRepo","myApp.notifFactory","myApp.aggloRepo","myApp.siteRepo"]).controller("SpecListController",["$scope","$timeout","$state","rubricRepo","notifFactory","aggloRepo","siteRepo","q_agglo_inter_code",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n){t.cur_spec=null;var a=function(){t.cur_spec=o.calcServGroupById(n)};t.is_show_rubrics="byt.aggloItem.specItem.rubricItem"===e.$current.name,t.onTabSelected=function(r){e.go("byt.aggloItem.specItem.rubricItem",{agglo_inter_code:t.cur_agglo.inter_code,spec_id:t.cur_spec.id,rubric_id:r})},o.retrieveData(t.cur_agglo.id,"ru").then(a)["catch"](function(e){i.error("Ошибка загрузки категорий"),console.log(e),t.htmlReady()}),r(function(){t.is_prg=!0},500)};t.module("myApp.SpecItemController",["myApp.notifFactory","myApp.rubricRepo"]).controller("SpecItemController",["$scope","$state","$timeout","notifFactory","rubricRepo","q_spec_id",e])}(window.angular),function(t,e){"use strict";var r=function(t,r){var i={key:e.APICOM_KEY,version:e.APICOM_VERSION},o=function(t){return 200!==t.status?r.reject("Ошибка запроса"):t.data?"404"===t.data.response_code?r.reject("Не найдено информации по салону"):"200"!==t.data.response_code?r.reject("Ошибка при получении информации о салоне"):(window.DG&&window.DG.apitracker.regBC(t.data.register_bc_url),t.data):r.reject("Ошибка запроса")},n=function(r,n){return i.id=r,i.hash=n,t({method:"GET",url:e.APICOM_ENDPOINT+"/profile",params:i}).then(o)};return{loadFirm:n}};t.module("myApp.firmItemFactory",[]).factory("firmItemFactory",["$http","$q",r])}(window.angular,window.APPCONF),function(t,e){"use strict";var r=function(t,r){var i={key:e.APICOM_KEY,version:e.APICOM_VERSION,sort:"distance",page:1,pagesize:50,what:""},o=function(t){return 200!==t.status?r.reject("Ошибка запроса"):t.data?"404"===t.data.response_code?{total:0,markers:[]}:"200"!==t.data.response_code?r.reject("Ошибка запроса"):{total:parseInt(t.data.total,10),result:t.data.result}:r.reject("Ошибка запроса")},n=function(r,n,a,l){return i.what=r,i.point=n.toString()+","+a.toString(),i.radius=l,t({method:"GET",url:e.APICOM_ENDPOINT+"/search",params:i}).then(o)};return{loadFirmsByPoint:n}};t.module("myApp.firmListFactory",[]).factory("firmListFactory",["$http","$q",r])}(window.angular,window.APPCONF),function(t){"use strict";var e=function(t,e){var r=function(){var r=t.defer();return"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){r.resolve(t.coords)},function(t){e.log("geoloc error",t),r.reject("Не удалось получить текущее местоположение")},{timeout:1e4}):r.reject("Не удалось получить текущее местоположение"),r.promise};return{getCurCoords:r}};t.module("myApp.geolocFactory",[]).factory("geolocFactory",["$q","$log",e])}(window.angular),function(t){"use strict";return t.module("anguphantom",[]).run(["$rootScope",function(t){var e=function(){"function"==typeof window.callPhantom&&(window.callPhantom({appResult:"clientFinished"}),console.log("callPhantomFromClient")),console.log("htmlReady")},r=function(){window.setTimeout(e,0)};t.htmlReady=function(){t.$evalAsync(r)}}])}(window.angular),function(t){"use strict";t.module("myApp.drct",["myApp.scrollRepo"]).directive("onFinishRender",["$timeout",function(t){return{restrict:"A",link:function(e,r,i){e.$last===!0&&(console.log("onFinishRender:last",e.$index),t(function(){e.$emit(i.onFinishRender)}))}}}]).directive("scrollWatcher",["scrollRepo",function(t){return function(e,r){var i=r[0];r.bind("scroll",function(){t.setPos(i.scrollTop),e.$apply()})}}])}(window.angular),function(t,e){"use strict";var r=function(t){t=t.substr(9,t.length-11);var e=t.split(",");return e.map(function(t){return{latitude:parseFloat(t.split(" ")[1]),longitude:parseFloat(t.split(" ")[0])}})},i=function(){var i=function(t,i,o){return e.isPointInside({latitude:i,longitude:o},r(t))},o=function(e,r,o){var n;return t.forEach(e,function(t){n||i(t.extent,r,o)&&(n=t)}),n};return{isPointInsideWkt:i,convertWktToArr:r,findAggloByCoords:o}};t.module("myApp.geoHelper",[]).factory("geoHelper",[i])}(window.angular,window.geolib),function(t){"use strict";var e=function(){function t(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var e=function(t,e){return 0===t.length?!0:0===e.length?!1:(t.sort(),e.sort(),("|"+e.join("|")+"|").indexOf("|"+t.join("|")+"|")>=0)},r=function(t,e,r){var i=t.map(function(t){return t[e]}).indexOf(r);return t[i]},i=function(t){t=t.substr(6,t.length-7);var e=t.split(" ");return{longitude:parseFloat(e[0]),latitude:parseFloat(e[1])}};return{findElemByProp:r,isArrInArr:e,randomIntFromInterval:t,coordsFromWktPoint:i}};t.module("myApp.hprFactory",[]).factory("hprFactory",[e])}(window.angular),function(t){"use strict";function e(e,r,i){function o(e,r){var i=!0;return t.forEach(e,function(t,e){r[e]!==t&&(i=!1)}),i}function n(n,a,l){var c=r.defer(),s=i.get(n);if(s){var d=t.fromJson(s),m=d.filter(t.bind(null,o,a));l?c.resolve(m):m.length>1?c.reject("notOnlyOne"):c.resolve(m[0])}else e.log("tbl not found",s,n),c.resolve(l?[]:null);return c.promise}function a(e,o){var n=r.defer(),a=i.get(e),l=a?t.fromJson(a):[],c=l.filter(function(t,e){return t.id===o.id?(l[e]=o,!0):!1})[0];return c||l.push(o),i.set(e,t.toJson(l)),n.resolve(o),n.promise}function l(e,n){var a=r.defer(),l=i.get(e);if(l){var c=t.fromJson(l);t.forEach(c,function(t,e){o(n,t)&&c.splice(e,1)}),i.set(e,t.fromJson(c))}return a.resolve(),a.promise}return{writeToStorage:a,readFromStorage:n,delFromStorage:l}}t.module("myApp.ldbHelper",["LocalStorageModule"]).factory("ldbHelper",["$log","$q","localStorageService",e])}(window.angular),function(t,e){"use strict";function r(t){for(var e,r,i,o,n=0;n<t.length;n++){var a=t[n];"moscow"===a.inter_code?(e=a,t.splice(n--,1)):"spb"===a.inter_code?(r=a,t.splice(n--,1)):"novosibirsk"===a.inter_code?(i=a,t.splice(n--,1)):"krasnodar"===a.inter_code&&(o=a,t.splice(n--,1))}t.splice(0,0,o),t.splice(0,0,i),t.splice(0,0,r),t.splice(0,0,e)}var i={arr_geo_agglo:[],is_loaded:!1},o=function(o,n,a){var l=function(e){i.arr_geo_agglo.length=0;var o=e.data.arr_geo_agglo;r(o),t.extend(i.arr_geo_agglo,o),i.is_loaded=!0},c=function(t,e){return e.inter_code===t};return{getData:function(){return i},retrieveData:function(){if(console.log("try: retrieving agglos"),i.is_loaded){var t=o.defer();return t.resolve(),t.promise}var r={method:"GET",url:e.APIMAS_ENDPOINT+"/territory/get-agglos"};return n(r).then(l)},calcByInterCode:function(e){return i.arr_geo_agglo.filter(t.bind(null,c,e))[0]},calcAggloByCoords:function(t,e){var r=a.findAggloByCoords(i.arr_geo_agglo,t,e),n=o.defer();return n.resolve(r),n.promise}}};t.module("myApp.aggloRepo",["myApp.geoHelper"]).factory("aggloRepo",["$q","$http","geoHelper",o])}(window.angular,window.APPCONF),function(t){"use strict";var e={cur_firm:null},r=function(t){return{getData:function(){return e},retrieveData:function(r,i){return t.loadFirm(r,i).then(function(t){e.cur_firm=t})}}};t.module("myApp.firmItemRepo",["myApp.firmItemFactory"]).factory("firmItemRepo",["firmItemFactory",r])}(window.angular),function(t){"use strict";var e={map_markers:{},total:0},r={hair:{name:"Парикмахерские"},cosmetic:{name:"Косметические услуги"},nail:{name:"Ногтевые студии"},makeup:{name:"Услуги визажиста"},massage:{name:"Услуги массажиста"}},i=function(t,e){var r='<md-button class="md-accent" style="margin:0" onclick="window.showFirmInfo(event,'+e.id+",'"+e.hash+"');\">Подробнее</md-button>",i="";e.micro_comment&&(i='<div><small class="md-caption">'+e.micro_comment+"</small></div>",e.fas_warning&&(i+='<div><small class="md-caption" style="color: #bb0000">'+e.fas_warning+"</small></div>"),i+="</div>");var o='<md-content style="background-color: transparent; font-size: 0.9rem"><div style="margin-bottom:2px"><strong>'+e.name+"</strong></div><div>"+e.address+"</div><md-divider></md-divider>"+i+'<div style="text-align: right">'+r+"</div></md-content>";t[e.id]={lat:parseFloat(e.lat),lng:parseFloat(e.lon),message:o}},o=function(e){var r={};return t.forEach(e,t.bind(null,i,r)),r},n=function(t){return{getData:function(){return e},clearData:function(){e.map_markers={}},retrieveData:function(i,n,a){var l=function(t){e.map_markers=o(t.result),e.total=t.total};return t.loadFirmsByPoint(r[a].name,i,n,3e3).then(l)}}};t.module("myApp.firmListRepo",["myApp.firmListFactory"]).factory("firmListRepo",["firmListFactory",n])}(window.angular),function(t){"use strict";var e={src_url:null},r=function(){return{getData:function(){return e},setUrl:function(t){e.src_url=t}}};t.module("myApp.fullRepo",[]).factory("fullRepo",[r])}(window.angular),function(t){"use strict";var e={is_defined:!1,is_device_progress:!1,coords:{lat:null,lng:null}},r=function(t,r){return{getData:function(){return e},retrieveFromDevice:function(){if(e.is_defined){var i=t.defer();return i.resolve(),i.promise}return e.is_device_progress=!0,r.getCurCoords().then(function(t){e.coords.lat=t.latitude,e.coords.lng=t.longitude,e.is_defined=!0})["finally"](function(){e.is_device_progress=!1})}}};t.module("myApp.locRepo",["myApp.geolocFactory"]).factory("locRepo",["$q","geolocFactory",r])}(window.angular),function(t,e){"use strict";var r={slc_master:null,is_in_progress:!1},i=function(t,i){var o=function(t){r.slc_master=t},n=function(){r.slc_master=null},a=function(n){var a=t.defer();r.is_in_progress=!0;var l={method:"GET",url:e.APIMAS_ENDPOINT+"/master/get-profile2",params:{id:n}};return i(l).then(function(t){return t.data?(o(t.data),t.data):a.reject("Мастер не найден")})["finally"](function(){r.is_in_progress=!1})};return{getData:function(){return r},cleanMaster:n,setMaster:o,retrieveMaster:a}};t.module("myApp.masterRepo",[]).factory("masterRepo",["$q","$http",i])}(window.angular,window.APPCONF),function(t){"use strict";var e="location_permission",r=null,i={is_perm_checked:!1},o=function(t,o){var n=function(){r=!0,o.writeToStorage(e,{id:0,is_allowed:!0})},a=function(t){return i.is_perm_checked=!0,r=t&&t.is_allowed===!0?!0:!1};return{getData:function(){return i},cleanLocationPermission:function(){r=!1,o.delFromStorage(e,{id:0})},saveLocationPermission:n,checkLocationPermission:function(){if(i.is_perm_checked){var n=t.defer();return n.resolve(r),n.promise}return o.readFromStorage(e,{id:0},!1).then(a)}}};t.module("myApp.permRepo",["myApp.ldbHelper"]).factory("permRepo",["$q","ldbHelper",o])}(window.angular),function(t,e){"use strict";var r={arr_serv_group:[{id:"hair",name:"Услуги парикмахера",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0},{id:"nail",name:"Уход за ногтями",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0},{id:"makeup",name:"Услуги визажиста",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0},{id:"cosmetic",name:"Услуги косметолога",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0}],lang:"ru",geo_district_id:null,is_loaded:!1},i=function(i,o,n){var a=function(e,r){var i=0,o=e.filter(function(t){return t.serv_rubric.serv_group_id===r.id?(i+=t.count_master_serv,!0):!1});o.sort(function(t,e){return t.count_master_serv>e.count_master_serv?-1:t.count_master_serv<e.count_master_serv?1:0}),r.arr_serv_rubric_stat.length=0,t.extend(r.arr_serv_rubric_stat,o),r.count_serv_rubric=o.length,r.sum_master_serv=i},l=function(e){r.arr_serv_group.forEach(t.bind(null,a,e.data.arr_serv_rubric_stat)),r.geo_district_id=e.data.geo_district_id,r.is_loaded=!0},c=function(t,n){if(r.is_loaded&&r.geo_district_id===t){var a=i.defer();return a.resolve(),a.promise}r.is_loaded=!1;var c=r.arr_serv_group.map(function(t){return t.id}),s={method:"GET",url:e.APIMAS_ENDPOINT+"/rubric/get-group-stat",params:{ids_serv_group:c.join("__"),geo_district_id:t,lang:n}};return o(s).then(l)},s=function(t){return n.findElemByProp(r.arr_serv_group,"id",t)};return{getIds:function(){return r.arr_serv_group.map(function(t){return t.id})},getData:function(){return r},retrieveData:c,calcServGroupById:s,calcServRubricStat:function(t,e){return t.arr_serv_rubric_stat.filter(function(t){return t.serv_rubric.id===e})[0]}}};t.module("myApp.rubricRepo",["myApp.hprFactory"]).factory("rubricRepo",["$q","$http","hprFactory",i])}(window.angular,window.APPCONF),function(t){"use strict";var e={pos:0},r=function(){return{setPos:function(t){e.pos=t},getData:function(){return e}}};t.module("myApp.scrollRepo",[]).factory("scrollRepo",[r])}(window.angular),function(t,e){"use strict";var r={arr_serv_info:[],limit:null,start_id:null,next_start_id:null,is_more_exist:!1},i=function(t,i){var o=function(){r.arr_serv_info.length=0,r.limit=null,r.start_id=null,r.next_start_id=null,r.is_more_exist=!1},n=function(t){var e=t.data;e.arr_serv_info.forEach(function(t){r.arr_serv_info.push(t)}),r.limit=parseInt(e.limit,10),r.start_id=e.start_id,r.next_start_id=e.next_start_id,r.is_more_exist=r.limit===e.arr_serv_info.length?!0:!1},a=function(t,a){var l={method:"GET",url:e.APIMAS_ENDPOINT+"/master/get-serv-scope2",params:{ids_serv_rubric:t.join("__"),geo_district_id:a,is_out_only:!1,start_id:r.next_start_id,limit:16}};return i(l).then(function(t){r.next_start_id||o(),n(t)})};return{getData:function(){return r},retrieveData:a,cleanArrServInfo:o}};t.module("myApp.servRepo",[]).factory("servRepo",["$q","$http",i])}(window.angular,window.APPCONF),function(t){"use strict";var e=function(){var t={ttl:"Default",prev_href:""};return{setTitle:function(e){t.ttl=e},setPrevHref:function(e){t.prev_href=e},getData:function(){return t}}};t.module("myApp.siteRepo",[]).factory("siteRepo",[e])}(window.angular),function(t){"use strict";function e(t){var e=function(e){t.show({templateUrl:"alrt/alrt.tpl.html",controller:"AlrtController",clickOutsideToClose:!0,parent:r,locals:{msg_body:e}})};return{error:function(t){e(t)}}}var r=t.element(document.body);t.module("myApp.notifFactory",["ngMaterial","myApp.AlrtController"]).factory("notifFactory",["$mdDialog",e])}(window.angular),function(t){"use strict";var e=function(t,e,r){t.firm_data=r.getData(),t.hideDialog=function(){e.hide()}};t.module("myApp.FirmDetailController",["myApp.firmItemRepo"]).controller("FirmDetailController",["$scope","$mdDialog","firmItemRepo",e])}(window.angular),function(t,e){"use strict";e.Icon.Default.imagePath="./images/";var r=t.element(document.body),i=function(e,i,o,n,a,l,c,s,d,m,u){m.setPrevHref(i.href("byt.aggloItem.specList",{agglo_inter_code:e.cur_agglo.inter_code})),m.setTitle(e.cur_spec.name),e.firm_list_data=l.getData(),e.map_defaults={tileLayer:"https:////{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{detectRetina:!0,reuseTiles:!0,attribution:'© <a target="_blank" href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | <a target="_blank" href="http://api.2gis.ru/">Предоставлено 2ГИС</a>'},zoomControlPosition:"topleft"},e.map_events={map:{enable:["moveend"],logic:"emit"}},e.map_paths={p1:{weight:2,stroke:!0,opacity:.5,fillOpacity:0,clickable:!1,color:"green",latlngs:[40,40],radius:3e3,type:"circle"}},e.zurpos={lng:null,lat:null,zoom:null};var p=!0,g=function(){n.error("Ошибка загрузки салонов. Попробуйте позже.")},f=function(t){t&&e.htmlReady()};e.$on("leafletDirectiveMap.moveend",function(r){var i=r.targetScope.center,o=!0;if(e.zurpos.lng){var a=Math.max(Math.abs(i.lng-e.zurpos.lng),Math.abs(i.lat-e.zurpos.lat));.0015>a&&(o=!1,console.log("delta",a))}if(e.zurpos.lng=i.lng,e.zurpos.lat=i.lat,e.zurpos.zoom=i.zoom,i.zoom<14)l.clearData(),e.map_paths.p1.radius=0;else if(o){var c=e.cur_spec.id;c?(l.retrieveData(e.zurpos.lng,e.zurpos.lat,c)["catch"](t.bind(null,g))["finally"](t.bind(null,f,p)),e.map_paths.p1.latlngs=[i.lat,i.lng],e.map_paths.p1.radius=3e3):n.error("Для показа салонов необходимо выбрать рубрику")}p=!1});var v=null;e.$on("leafletDirectiveMarker.popupopen",function(t,e){v=e.leafletEvent.popup._source});var _=function(t){o.show({clickOutsideToClose:!0,parent:r,controller:"FirmDetailController",templateUrl:"agglo-item/spec-item/salon-list/firm-detail.tpl.html",targetEvent:t,onComplete:function(){v&&v.closePopup()}})},y=function(t){n.error("Ошибка загрузки информации о компании. Попробуйте позже."),console.log("errFirm",t)};window.showFirmInfo=function(e,r,i){u.retrieveData(r,i).then(t.bind(null,_,e),y)},e.perm_data=c.getData(),e.loc_data=s.getData(),e.map_center={lat:null,lng:null,zoom:14};var h=function(t,r){e.map_center.lat=t,e.map_center.lng=r},b=function(){var t=a.coordsFromWktPoint(e.cur_agglo.centroid);h(t.latitude,t.longitude),console.log("center coords")},w=function(){var t=s.getData().coords;d.calcAggloByCoords(t.lat,t.lng).then(function(r){r?(console.log("tmpAgglo",r),r.id===e.cur_agglo.id?(h(t.lat,t.lng),console.log("device coords")):b()):b()})},A=function(t){console.log("handleLocPerm"),t?s.retrieveFromDevice().then(w)["catch"](b):b()};console.log("handlelocperm"),c.checkLocationPermission().then(A)};t.module("myApp.SalonListController",["ngSanitize","leaflet-directive","ngMaterial","myApp.notifFactory","myApp.hprFactory","myApp.firmListRepo","myApp.permRepo","myApp.locRepo","myApp.aggloRepo","myApp.siteRepo","myApp.FirmDetailController","myApp.firmItemRepo"]).controller("SalonListController",["$scope","$state","$mdDialog","notifFactory","hprFactory","firmListRepo","permRepo","locRepo","aggloRepo","siteRepo","firmItemRepo",i])}(window.angular,window.L),function(t){"use strict";var e=function(t,e,r,i){t.hideDialog=function(){e.hide()},t.is_loaded=!1,r.retrieveMaster(i).then(function(){t.master_data=r.getData()})["finally"](function(){t.is_loaded=!0})};t.module("myApp.MasterDetailController",["myApp.masterRepo"]).controller("MasterDetailController",["$scope","$mdDialog","masterRepo","master_profile_id",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n){o.setPrevHref(e.href("byt.aggloItem.specList",{agglo_inter_code:t.cur_agglo.inter_code})),o.setTitle(t.cur_spec.name),t.cur_rubric_stat=i.calcServRubricStat(t.cur_spec,n)};t.module("myApp.RubricItemController",["myApp.drct","myApp.ServListController","myApp.notifFactory","myApp.rubricRepo","myApp.siteRepo"]).controller("RubricItemController",["$scope","$state","notifFactory","rubricRepo","siteRepo","q_rubric_id",e])}(window.angular),function(t){"use strict";var e=t.element(document.body),r=function(t,r,i,o,n){t.showMasterInfo=function(t,r){i.show({clickOutsideToClose:!0,parent:e,controller:"MasterDetailController",templateUrl:"agglo-item/spec-item/rubric-item/master-detail.tpl.html",targetEvent:t,locals:{master_profile_id:r}})},t.$on("servListRepeatFinished",function(){t.htmlReady()}),t.plusData=function(){t.is_more_loaded=!1,n.retrieveData([t.cur_rubric_stat.serv_rubric.id],t.cur_agglo.id)["finally"](function(){t.is_more_loaded=!0})},n.cleanArrServInfo(),t.serv_data=n.getData(),n.retrieveData([t.cur_rubric_stat.serv_rubric.id],t.cur_agglo.id).then(function(){})["catch"](function(e){o.error("Ошибка загрузки услуг. Попробуйте позже."),console.log("retrieveServError",e),t.htmlReady()})["finally"](function(){t.is_serv_loaded=!0,t.is_more_loaded=!0})};t.module("myApp.ServListController",["myApp.drct","myApp.MasterDetailController","myApp.notifFactory","myApp.servRepo"]).controller("ServListController",["$scope","$state","$mdDialog","notifFactory","servRepo",r])}(window.angular),angular.module("myApp.templateFactory",[]).run(["$templateCache",function(t){t.put("about/about.tpl.html",'<div layout-margin="" layout-padding=""><p>Проект предоставляет услуги по поиску мастеров и салонов красоты:</p><ul class="list"><li class="item"><strong>Парикмахер</strong><ul><li>Свадебные прически</li><li>Наращивание волос</li><li>Стрижка</li><li>...</li></ul></li><li class="item"><strong>Визажист</strong><ul><li>Вечерний макияж</li><li>Наращивание ресниц</li><li>Свадебный макияж</li><li>...</li></ul></li><li class="item"><strong>Уход за ногтями</strong><ul><li>Маникюр</li><li>Ногтевой дизайн</li><li>Шеллак</li><li>...</li></ul></li><li class="item"><strong>Косметолог</strong><ul><li>Чистка лица</li><li>Эпиляция</li><li>Татуаж</li><li>...</li></ul></li></ul><p>Варианты поиска:<ul><li>по карте города: отображение салонов красоты</li><li>по портфолио: фотографиям работ</li></ul></p><p>Проект поддерживает большинство крупных и средних городов по территории РФ и некоторые зарубежные города.</p></div>'),t.put("agglo-item/agglo-item.tpl.html",'<div class="full-height"><div ng-if="is_prg"><div ng-if="!cur_agglo"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка локации...</div></div></div><div class="full-height" ng-if="cur_agglo"><ui-view class="full-height" name="aggloItemContent"></ui-view></div></div>'),t.put("agglo-list/agglo-list.tpl.html",'<md-content layout-margin="" md-scroll-y=""><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div ng-if="agglo_data.is_loaded"><md-input-container md-no-float="" style="margin: 16px 16px 0 16px"><md-icon md-font-icon="fa fa-search fa-2x"></md-icon><input type="text" placeholder="Найти город" ng-model="agglo_search.local_name"></md-input-container><md-list><md-list-item ng-repeat="agg in agglo_data.arr_geo_agglo | filter:agglo_search" style="display:inline-block"><md-button class="md-accent" style="text-align: left" aria-label="{{agg.local_name}}" ui-sref="byt.aggloItem.specList({agglo_inter_code:agg.inter_code})"><span ng-bind="agg.local_name"></span></md-button></md-list-item></md-list></div></div></div></md-content>'),t.put("alrt/alrt.tpl.html",'<md-dialog aria-label="Уведомление"><md-dialog-content><p ng-bind="msg_body"></p></md-dialog-content><div class="md-actions"><md-button class="md-accent" ng-click="hideDialog()">Понятно</md-button></div></md-dialog>'),t.put("toolbar/toolbar.tpl.html",'<div class="md-toolbar-tools" ng-controller="ToolbarController"><md-button ng-href="{{site_data.prev_href}}" class="md-icon-button" aria-label="назад" title="назад" ng-if="site_data.prev_href"><md-icon md-font-icon="fa fa-arrow-circle-left fa-2x" style="color:white"></md-icon></md-button><md-button class="md-icon-button" ui-sref="byt.welcome" aria-label="главная" ng-if="!site_data.prev_href"><md-icon md-font-icon="fa fa-home fa-2x" style="color:white"></md-icon></md-button><h2><span ng-bind="site_data.ttl"></span></h2><span flex=""></span><md-button ng-click="scrollToTop()" aria-label="наверх" ng-show="scroll_data.pos > 300">наверх</md-button></div>'),t.put("welcome/no-location.tpl.html",'<md-card flex="" class="md-whiteframe-z2"><md-card-content><div>моё местоположение</div><md-divider></md-divider><div layout="row" layout-sm="column" layout-align="space-around center" style="margin-top: 12px"><div layout="column" layout-align="center center"><md-button class="md-fab md-primary" ng-click="defineLocation()" title="приблизительные координаты" aria-label="автоопределение"><md-icon md-font-icon="fa fa-street-view fa-2x"></md-icon></md-button><div><small>автоопределение</small></div></div><div layout="column" layout-align="center center"><md-button class="md-primary md-fab" ui-sref="byt.aggloList" ng-click="cleanLocationPermission();" title="центр города" aria-label="вручную"><md-icon md-font-icon="fa fa-list-ul fa-2x"></md-icon></md-button><div><small>выбрать вручную</small></div></div><div layout="column" layout-align="center center" ng-if="is_socnet"><md-button class="md-fab md-primary" ng-click="defineSocCity()" title="центр города" aria-label="из социальной сети"><md-icon md-font-icon="fa fa-vk fa-2x"></md-icon></md-button><div><small>из социальной сети</small></div></div></div></md-card-content></md-card>'),t.put("welcome/wlc.tpl.html",'<md-content md-scroll-y=""><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><h4 class="md-subhead" style="margin: 20px">Поиск мастеров и салонов красоты: открытые контактные данные, карта с ближайшими салонами, портфолио мастеров и другое <a ui-sref="byt.about">подробнее</a><br><br>Вы - мастер? Оставьте заявку на подключение в <a target="_blank" href="//vk.com/topic-92002771_31699472">группе приложения</a>.</h4><div ng-if="is_prg"><div ng-if="!perm_data.is_perm_checked"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка</div></div></div><div ng-if="perm_data.is_perm_checked"><ng-include src="\'welcome/no-location.tpl.html\'"></ng-include></div></div></div></md-content>'),t.put("agglo-item/spec-item/spec-item.tpl.html",'<div class="full-height"><div ng-if="is_prg"><div ng-if="!cur_spec"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка специализации...</div></div></div><div class="full-height" ng-if="cur_spec"><div ng-if="is_show_rubrics"><md-tabs md-border-bottom="" md-selected="slc_rubric_index"><md-tab ng-repeat="rbrStat in cur_spec.arr_serv_rubric_stat" md-on-select="onTabSelected(rbrStat.serv_rubric.id)" label="{{rbrStat.serv_rubric.name}}"></md-tab></md-tabs></div><ui-view class="full-height" name="specItemContent"></ui-view></div></div>'),t.put("agglo-item/spec-list/serv-groups.tpl.html",'<div layout-gt-sm="row" layout-sm="column" layout-fill="" layout-wrap=""><md-card flex="" class="md-whiteframe-z3" style="min-width:240px;" ng-repeat="grp in rubric_data.arr_serv_group"><md-card-content><h2 class="md-title" ng-bind="grp.name"></h2><p ng-show="grp.arr_serv_rubric_stat.length > 0"><div ng-repeat="rbrStat in grp.arr_serv_rubric_stat|limitTo:5|limitTo:-4">{{rbrStat.serv_rubric.name}} <span ng-show="$index === 3">...</span></div></p><div class="md-actions" layout="row" layout-align="end center"><md-button class="md-accent" ui-sref="byt.aggloItem.specItem.salonList({agglo_inter_code: cur_agglo.inter_code, spec_id: grp.id})">на карте</md-button><md-button class="md-accent" ui-sref="byt.aggloItem.specItem.rubricItem({agglo_inter_code: cur_agglo.inter_code, spec_id: grp.id, rubric_id: grp.id})">портфолио</md-button></div></md-card-content></md-card></div>'),
t.put("agglo-item/spec-list/spec-list.tpl.html",'<md-content md-scroll-y=""><div layout="row"><div flex="" flex-gt-md="50" offset-gt-md="25"><div ng-if="is_prg"><div ng-if="!rubric_data.is_loaded"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка категорий...</div></div></div><div ng-if="rubric_data.is_loaded"><ng-include src="\'agglo-item/spec-list/serv-groups.tpl.html\'"></ng-include></div></div></div></md-content>'),t.put("agglo-item/spec-item/salon-list/firm-detail.tpl.html",'<md-dialog aria-label="Информация о салоне"><md-dialog-content class="sticky-container" style="padding:0"><md-toolbar class="md-tall md-whiteframe-z1"><h2 class="md-toolbar-tools"><span ng-bind="firm_data.cur_firm.name"></span></h2><h3 class="md-toolbar-tools"><small><span ng-bind="firm_data.cur_firm.city_name"></span>, <span ng-bind="firm_data.cur_firm.address"></span></small></h3><md-button class="md-fab md-accent md-fab-bottom-right" aria-label="Вернуться на карту" title="Вернуться на карту" style="bottom: -40px" ng-click="hideDialog()"><md-icon md-font-icon="fa fa-map-marker fa-2x"></md-icon></md-button></md-toolbar><div><div ng-repeat="ctctGroup in firm_data.cur_firm.contacts"><md-list><md-list-item class="md-2-line contact-item" ng-repeat="ctct in ctctGroup.contacts"><div ng-if="ctct.type === \'phone\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-phone fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>телефон <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div><md-switch class="md-secondary" ng-show="false" ng-model="is_enabled"></md-switch></div><div ng-if="ctct.type === \'fax\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-fax fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>факс <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'email\'"><md-icon md-font-icon="fa fa-envelope fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>email <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'skype\'"><md-icon md-font-icon="fa fa-skype fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>Skype <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'icq\'"><md-icon md-font-icon="fa fa-comments fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>icq <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'jabber\'"><md-icon md-font-icon="fa fa-comments-o fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>jabber <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'website\'"><md-icon md-font-icon="fa fa-globe fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>веб-сайт <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'vkontakte\'"><md-icon md-font-icon="fa fa-vk fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>ВКонтакте <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'facebook\'"><md-icon md-font-icon="fa fa-facebook fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Facebook <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'instagram\'"><md-icon md-font-icon="fa fa-instagram fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Instagram <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'twitter\'"><md-icon md-font-icon="fa fa-twitter fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Twitter <span ng-bind="ctct.comment"></span></p></div></div></md-list-item></md-list></div></div><div ng-if="firm_data.cur_firm.article"><ng-include src="\'agglo-item/spec-item/salon-list/firm-rekl.tpl.html\'"></ng-include></div></md-dialog-content></md-dialog>'),t.put("agglo-item/spec-item/salon-list/firm-rekl.tpl.html",'<div layout-margin="" layout-padding=""><md-divider></md-divider><small style="color: gray">специальное предложение</small><div><h2 ng-if="firm_data.cur_firm.link"><md-button class="md-accent md-raised" aria-label="спец предложение" style="margin-left: 0" target="_blank" ng-href="{{firm_data.cur_firm.link.link}}"><span ng-bind="firm_data.cur_firm.link.text"></span></md-button></h2><h2 class="md-subhead" ng-if="!firm_data.cur_firm.link">Объявление</h2></div><p></p><p ng-if="firm_data.cur_firm.article"><span ng-bind-html="firm_data.cur_firm.article"></span></p><p ng-if="firm_data.cur_firm.fas_warning"><small ng-bind="firm_data.cur_firm.fas_warning"></small></p><p></p></div>'),t.put("agglo-item/spec-item/salon-list/salon-list.tpl.html",'<div class="full-height"><div class="padding text-center" ng-if="!map_center.lng">загрузка карты...<br><ion-spinner></ion-spinner></div><div class="full-height" ng-if="map_center.lng" data-tap-disabled="true"><leaflet class="my-map custom-popup" center="map_center" defaults="map_defaults" markers="firm_list_data.map_markers" event-broadcast="map_events" paths="map_paths"></leaflet><div style="top:4px; right:4px; position: absolute;"><div style="background: rgba(255,255,255,0.7); color: #333; padding: 0 5px;"><span ng-show="zurpos.zoom < 14" style="color:#dd0000">приблизьте карту для отображения меток</span> <span ng-show="zurpos.zoom >= 14"><span ng-show="firm_list_data.total > 0">салонов в радиусе 3км: <b ng-bind="firm_list_data.total"></b></span> <span ng-show="firm_list_data.total === 0">не найдено салонов на выбранной территории</span></span></div></div></div></div>'),t.put("agglo-item/spec-item/rubric-item/master-detail.tpl.html",'<md-dialog aria-label="Информация о мастере"><md-dialog-content class="sticky-container" style="padding:0"><div ng-if="!master_data"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка...</div></div><md-toolbar class="md-whiteframe-z1" ng-if="master_data"><div class="md-toolbar-tools"><span ng-bind="master_data.slc_master.name"></span></div></md-toolbar><div ng-if="master_data"><div layout-margin="" layout-padding=""><div style="width: 100px; height: 100px; float: right; margin-left: 8px"><img style="width: 100px" ng-src="{{master_data.slc_master.master_user.avatar}}"></div><div><span ng-bind="master_data.slc_master.bio"></span></div></div><md-list style="clear: both"><md-list-item class="md-2-line"><div class="md-list-item-inner"><md-icon md-font-icon="fa fa-instagram fa-2x" style="margin-rigth:8px;"></md-icon><div class="md-list-item-text"><h3><a class="md-accent" aria-label="link to instagram" style="margin: 0; padding: 0" target="_blank" ng-href="https://instagram.com/{{master_data.slc_master.username}}">https://instagram.com/{{master_data.slc_master.username}}</a></h3><p>instagram (новая вкладка)</p></div><md-switch class="md-secondary" ng-show="false" ng-model="is_enabled"></md-switch></div></md-list-item><md-list-item class="md-2-line"><div class="md-list-item-inner"><md-icon md-font-icon="fa fa-globe fa-2x" style="margin-rigth:12px;"></md-icon><div class="md-list-item-text"><h3><a ng-if="master_data.slc_master.website" aria-label="link to instagram" style="margin: 0; padding:0" target="_blank" ng-href="{{master_data.slc_master.website}}"><span ng-bind="master_data.slc_master.website"></span></a> <span ng-if="!master_data.slc_master.website">нет данных</span></h3><p>веб-сайт (новая вкладка)</p></div><md-switch class="md-secondary" ng-show="false" ng-model="is_enabled"></md-switch></div></md-list-item></md-list></div></md-dialog-content></md-dialog>'),t.put("agglo-item/spec-item/rubric-item/rubric-item.tpl.html",'<div ng-if="cur_rubric_stat"><ng-include src="\'agglo-item/spec-item/rubric-item/serv-list.tpl.html\'"></ng-include></div><div ng-if="!cur_rubric_stat">все услуги</div>'),t.put("agglo-item/spec-item/rubric-item/serv-list.tpl.html",'<div ng-controller="ServListController"><div ng-if="!is_serv_loaded"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка портфолио...</div></div><div ng-if="is_serv_loaded"><div layout="column" layout-align="center center" ng-if="serv_data.arr_serv_info.length === 0">работ не найдено по данной специализации в вашем городе</div><md-grid-list md-cols-sm="1" md-cols-md="2" md-cols-lg="3" md-cols-gt-lg="4" md-row-height="1:1" md-gutter="4px"><md-grid-tile class="back-img" ng-if="servInfo.work_id" ng-repeat="servInfo in serv_data.arr_serv_info" on-finish-render="servListRepeatFinished" ng-style="{\'background-image\': \'url({{servInfo.work_preview_img}})\'}"><md-grid-tile-footer><h3 ng-bind="servInfo.master_name" style="text-shadow: #555 1px 1px, #555 -1px -1px, #555 -1px 1px, #555 1px -1px"></h3></md-grid-tile-footer><div style="position: absolute; right: 0; bottom: 2px"><md-button class="md-icon-button" aria-label="информация о мастере" ng-click="showMasterInfo($event, servInfo.master_serv.master_profile_id)"><md-icon md-font-icon="fa fa-info-circle fa-2x" style="color: #eee; width: 32px; height: 32px"></md-icon></md-button></div></md-grid-tile></md-grid-list><div layout="" layout-align="center center" ng-if="serv_data.is_more_exist"><md-button flex="" class="md-accent" ng-click="plusData()" ng-show="is_more_loaded">показать ещё...</md-button><div layout="column" layout-align="center center" ng-show="!is_more_loaded"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка портфолио...</div></div></div></div>')}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC1jb25maWcuanMiLCJhcHAuanMiLCJhYm91dC9hYm91dC1jdHJsLmpzIiwiYWdnbG8taXRlbS9hZ2dsby1pdGVtLWNvbmZpZy5qcyIsImFnZ2xvLWl0ZW0vYWdnbG8taXRlbS1jdHJsLmpzIiwiYWdnbG8tbGlzdC9hZ2dsby1saXN0LWN0cmwuanMiLCJhbHJ0L2FscnQtY3RybC5qcyIsInRvb2xiYXIvdG9vbGJhci1jdHJsLmpzIiwid2VsY29tZS93bGMtY29udHJvbGxlci5qcyIsImFnZ2xvLWl0ZW0vc3BlYy1saXN0L3NwZWMtbGlzdC1jdHJsLmpzIiwiYWdnbG8taXRlbS9zcGVjLWl0ZW0vc3BlYy1pdGVtLWN0cmwuanMiLCJhbGwvYXBpL2Zpcm0taXRlbS1mYWN0b3J5LmpzIiwiYWxsL2FwaS9maXJtLWxpc3QtZmFjdG9yeS5qcyIsImFsbC9hcGkvZ2VvbG9jLWZhY3RvcnkuanMiLCJhbGwvY2hvcmUvYW5ndXBoYW50b20uanMiLCJhbGwvZHJjdC9kcmN0LmpzIiwiYWxsL2hwci9nZW8taGVscGVyLmpzIiwiYWxsL2hwci9ocHItZmFjdG9yeS5qcyIsImFsbC9ocHIvbGRiLWhlbHBlci5qcyIsImFsbC9yZXBvL2FnZ2xvLXJlcG8uanMiLCJhbGwvcmVwby9maXJtLWl0ZW0tcmVwby5qcyIsImFsbC9yZXBvL2Zpcm0tbGlzdC1yZXBvLmpzIiwiYWxsL3JlcG8vZnVsbC1yZXBvLmpzIiwiYWxsL3JlcG8vbG9jLXJlcG8uanMiLCJhbGwvcmVwby9tYXN0ZXItcmVwby5qcyIsImFsbC9yZXBvL3Blcm0tcmVwby5qcyIsImFsbC9yZXBvL3J1YnJpYy1yZXBvLmpzIiwiYWxsL3JlcG8vc2Nyb2xsLXJlcG8uanMiLCJhbGwvcmVwby9zZXJ2LXJlcG8uanMiLCJhbGwvcmVwby9zaXRlLXJlcG8uanMiLCJhbGwvdmlzdWFsL25vdGlmLWZhY3RvcnkuanMiLCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L2Zpcm0tZGV0YWlsLWN0cmwuanMiLCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L3NhbG9uLWxpc3QtY3RybC5qcyIsImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL21hc3Rlci1kZXRhaWwtY3RybC5qcyIsImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL3J1YnJpYy1pdGVtLWN0cmwuanMiLCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9ydWJyaWMtaXRlbS9zZXJ2LWxpc3QtY3RybC5qcyIsInRlbXBsYXRlLWZhY3RvcnkuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsInhwbyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGh0dHBQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiJG1kSWNvblByb3ZpZGVyIiwibG9jYWxTdG9yYWdlU2VydmljZVByb3ZpZGVyIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImRlZmF1bHQiLCJodWUtMSIsImh1ZS0yIiwiaHVlLTMiLCJhY2NlbnRQYWxldHRlIiwid2FyblBhbGV0dGUiLCJodG1sNU1vZGUiLCJoYXNoUHJlZml4IiwiYmFzZVJvdXRlIiwiYmFzZVBhdGgiLCJzdGF0ZSIsInVybCIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsInFfYWdnbG9faW50ZXJfY29kZSIsIiRzdGF0ZVBhcmFtcyIsImNvbnNvbGUiLCJsb2ciLCJhZ2dsb19pbnRlcl9jb2RlIiwib3RoZXJ3aXNlIiwic2V0UHJlZml4Iiwic2V0U3RvcmFnZVR5cGUiLCJtb2R1bGUiLCJjb25maWciLCJ3aW5kb3ciLCJydW5YcG8iLCJydW4iLCJsb2FkVGhlQXBwIiwiYm9vdHN0cmFwIiwiZG9jdW1lbnQiLCJlbGVtZW50IiwicmVhZHkiLCJjb3Jkb3ZhIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uZXJyb3IiLCJhbGVydCIsIiRzY29wZSIsIiRzdGF0ZSIsInNpdGVSZXBvIiwic2V0VGl0bGUiLCJzZXRQcmV2SHJlZiIsImhyZWYiLCJodG1sUmVhZHkiLCJjYmtDb25maWciLCJ2aWV3cyIsImFnZ2xvSXRlbUNvbnRlbnQiLCJxX3NwZWNfaWQiLCIkcSIsInJ1YnJpY1JlcG8iLCJ0bXBTcGVjSWQiLCJzcGVjX2lkIiwiZGZyIiwiZGVmZXIiLCJnZXRJZHMiLCJpbmRleE9mIiwicmVqZWN0IiwicHJvbWlzZSIsInNwZWNJdGVtQ29udGVudCIsInFfcnVicmljX2lkIiwicnVicmljX2lkIiwiJHRpbWVvdXQiLCJhZ2dsb1JlcG8iLCJzZXJ2UmVwbyIsIm1hc3RlclJlcG8iLCJub3RpZkZhY3RvcnkiLCJjdXJfYWdnbG8iLCJjYmtSZXRyaWV2ZUFnZ2xvTGlzdCIsInRtcEFnZ2xvIiwiY2FsY0J5SW50ZXJDb2RlIiwiZ28iLCJyZXRyaWV2ZURhdGEiLCJ0aGVuIiwidG1wRXJyb3IiLCJlcnJvciIsImlzX3ByZyIsImFnZ2xvX2RhdGEiLCJnZXREYXRhIiwiJG1kRGlhbG9nIiwibXNnX2JvZHkiLCJoaWRlRGlhbG9nIiwiaGlkZSIsIiRsb2NhdGlvbiIsIiRhbmNob3JTY3JvbGwiLCJzY3JvbGxSZXBvIiwic2l0ZV9kYXRhIiwic2Nyb2xsVG9Ub3AiLCJoYXNoIiwic2Nyb2xsX2RhdGEiLCIkbG9nIiwiJGh0dHAiLCJocHJGYWN0b3J5IiwibG9jUmVwbyIsInBlcm1SZXBvIiwiaXNfc29jbmV0IiwiSVNfU09DTkVUIiwiY2JrRXJyRGVmaW5lU29jQ2l0eSIsImRlZmluZVNvY0NpdHkiLCJnZXRTb2NDaXR5IiwiY2l0eU5hbWUiLCJmaW5kRWxlbUJ5UHJvcCIsImFycl9nZW9fYWdnbG8iLCJyZWRpcmVjdFRvQWdnbG9TcGVjcyIsImxvY19kYXRhIiwicGVybV9kYXRhIiwiaW50ZXJfY29kZSIsImF1dG9DYWxjQWdnbG8iLCJ0bXBDb29yZHMiLCJjb29yZHMiLCJjYWxjQWdnbG9CeUNvb3JkcyIsImxhdCIsImxuZyIsInNhdmVMb2NhdGlvblBlcm1pc3Npb24iLCJkZWZpbmVMb2NhdGlvbiIsInJldHJpZXZlRnJvbURldmljZSIsInJlYXNvbiIsImNsZWFuTG9jYXRpb25QZXJtaXNzaW9uIiwiY2hlY2tMb2NhdGlvblBlcm1pc3Npb24iLCJpc19wZXJtX2FsbG93ZWQiLCJsb2NhbF9uYW1lIiwicnVicmljX2RhdGEiLCJpZCIsImUiLCJjdXJfc3BlYyIsImF0dGFjaFNwZWNJdGVtIiwiY2FsY1NlcnZHcm91cEJ5SWQiLCJpc19zaG93X3J1YnJpY3MiLCIkY3VycmVudCIsIm5hbWUiLCJvblRhYlNlbGVjdGVkIiwic2Vydl9ydWJyaWNfaWQiLCJBUFBDT05GIiwiZ2lzX3BhcmFtcyIsImtleSIsIkFQSUNPTV9LRVkiLCJ2ZXJzaW9uIiwiQVBJQ09NX1ZFUlNJT04iLCJjYmtSZXEiLCJyIiwic3RhdHVzIiwiZGF0YSIsInJlc3BvbnNlX2NvZGUiLCJERyIsImFwaXRyYWNrZXIiLCJyZWdCQyIsInJlZ2lzdGVyX2JjX3VybCIsImxvYWRGaXJtIiwiZmlsaWFsSGFzaCIsIm1ldGhvZCIsIkFQSUNPTV9FTkRQT0lOVCIsInBhcmFtcyIsImZhY3RvcnkiLCJzb3J0IiwicGFnZSIsInBhZ2VzaXplIiwid2hhdCIsInRvdGFsIiwibWFya2VycyIsInBhcnNlSW50IiwicmVzdWx0IiwibG9hZEZpcm1zQnlQb2ludCIsInJ1YnJpY05hbWUiLCJsb24xIiwibGF0MSIsInJhZGl1cyIsInRvU3RyaW5nIiwiZ2V0Q3VyQ29vcmRzIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsImVyciIsInRpbWVvdXQiLCIkcm9vdFNjb3BlIiwiY2JrVGltZU91dCIsImNhbGxQaGFudG9tIiwiYXBwUmVzdWx0IiwiY2JrRXZhbEFzeW5jIiwic2V0VGltZW91dCIsIiRldmFsQXN5bmMiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImF0dHIiLCIkbGFzdCIsIiRpbmRleCIsIiRlbWl0IiwiZWxlbSIsInJhdyIsImJpbmQiLCJzZXRQb3MiLCJzY3JvbGxUb3AiLCIkYXBwbHkiLCJnZW9saWIiLCJjb252ZXJ0V2t0VG9BcnIiLCJ3a3QiLCJzdWJzdHIiLCJsZW5ndGgiLCJhcnJXa3QiLCJzcGxpdCIsIm1hcCIsIml0ZW0iLCJsYXRpdHVkZSIsInBhcnNlRmxvYXQiLCJsb25naXR1ZGUiLCJpc1BvaW50SW5zaWRlV2t0IiwiaXNQb2ludEluc2lkZSIsImZpbmRBZ2dsb0J5Q29vcmRzIiwiYXJyQWdnbG8iLCJmb3JFYWNoIiwiZXh0ZW50IiwicmFuZG9tSW50RnJvbUludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaXNBcnJJbkFyciIsImExIiwiYTIiLCJqb2luIiwiYXJyIiwicHJvcE5hbWUiLCJwcm9wVmFsIiwiZWxlbWVudFBvcyIsIngiLCJjb29yZHNGcm9tV2t0UG9pbnQiLCJ3a3RQb2ludCIsInRtcEFyciIsImxvY2FsU3RvcmFnZVNlcnZpY2UiLCJjaGVja1JlYWRJdGVtIiwiaXNQYXNzZWQiLCJwYXJhbVZhbHVlIiwicGFyYW1LZXkiLCJyZWFkRnJvbVN0b3JhZ2UiLCJ0YmxOYW1lIiwiaXNBcnJheSIsImRlZmVycmVkIiwidGJsIiwiZ2V0IiwiZnJvbUpzb24iLCJuZWVkSXRlbXMiLCJmaWx0ZXIiLCJ3cml0ZVRvU3RvcmFnZSIsInRhYmxlTmFtZSIsIm9iaiIsImN1ciIsImluZCIsInB1c2giLCJzZXQiLCJ0b0pzb24iLCJkZWxGcm9tU3RvcmFnZSIsInNwbGljZSIsInJlYXJyYW5nZUFyciIsIm1vc2Nvd0luZGV4Iiwic3BiSW5kZXgiLCJub3Zvc2liaXJza0luZGV4Iiwia3Jhc25vZGFySW5kZXgiLCJpIiwiYWdnIiwicmVwb0RhdGEiLCJpc19sb2FkZWQiLCJnZW9IZWxwZXIiLCJzZXREYXRhIiwiZXh0ZW5kIiwiY2JrTWFwQWdnbG8iLCJpbnRlckNvZGUiLCJhZ2dsb0l0ZW0iLCJyZXEiLCJBUElNQVNfRU5EUE9JTlQiLCJjdXJfZmlybSIsImZpcm1JdGVtRmFjdG9yeSIsInJlc3VsdEZpcm0iLCJtYXBfbWFya2VycyIsImdyb3VwVHJhbnNsYXRpb24iLCJoYWlyIiwiY29zbWV0aWMiLCJuYWlsIiwibWFrZXVwIiwibWFzc2FnZSIsImNia01hcmtlciIsIm1hcmtPYmoiLCJ2YWwiLCJkc2NCdG4iLCJtaWNyb0NtbnQiLCJtaWNyb19jb21tZW50IiwiZmFzX3dhcm5pbmciLCJkc2MiLCJhZGRyZXNzIiwibG9uIiwibWVzc2FnZSIsImFyclRvTWFya2VycyIsImZpcm1MaXN0RmFjdG9yeSIsImNsZWFyRGF0YSIsInNlcnZHcm91cElkIiwiY2JrTG9hZEZpcm1zIiwic3JjX3VybCIsInNldFVybCIsInRtcFVybCIsImlzX2RlZmluZWQiLCJpc19kZXZpY2VfcHJvZ3Jlc3MiLCJnZW9sb2NGYWN0b3J5Iiwic2xjX21hc3RlciIsImlzX2luX3Byb2dyZXNzIiwic2V0TWFzdGVyIiwidG1wTWFzdGVyIiwiY2xlYW5NYXN0ZXIiLCJyZXRyaWV2ZU1hc3RlciIsIlBFUk1fVEFCTEUiLCJpc19wZXJtX2NoZWNrZWQiLCJsZGJIZWxwZXIiLCJpc19hbGxvd2VkIiwiaGFuZGxlTG9jYXRpb25QZXJtaXNzaW9uIiwicHJtIiwiYXJyX3NlcnZfZ3JvdXAiLCJhcnJfc2Vydl9ydWJyaWNfc3RhdCIsImNvdW50X3NlcnZfcnVicmljIiwic3VtX21hc3Rlcl9zZXJ2IiwibGFuZyIsImdlb19kaXN0cmljdF9pZCIsInNldFJ1YnJpY3NUb0dyb3VwIiwiZnJlc2hBcnJSdWJyaWMiLCJncnBJdGVtIiwidG1wU3VtTWFzdGVyU2VydiIsInJiclN0YXQiLCJzZXJ2X3J1YnJpYyIsInNlcnZfZ3JvdXBfaWQiLCJjb3VudF9tYXN0ZXJfc2VydiIsImEiLCJiIiwiaGFuZGxlUmVzdWx0IiwiZ2VvRGlzdHJpY3RJZCIsImlkc1NlcnZHcm91cCIsImlkc19zZXJ2X2dyb3VwIiwiY2FsY1NlcnZSdWJyaWNTdGF0Iiwic2Vydkdyb3VwIiwic2VydlJ1YnJpY0lkIiwidG1wUnVicmljU3RhdCIsInBvcyIsImFycl9zZXJ2X2luZm8iLCJsaW1pdCIsInN0YXJ0X2lkIiwibmV4dF9zdGFydF9pZCIsImlzX21vcmVfZXhpc3QiLCJjbGVhbkFyclNlcnZJbmZvIiwiYWRkRGF0YSIsImNvbnRlbnQiLCJ2IiwiaWRzU2VydlJ1YnJpYyIsImlkc19zZXJ2X3J1YnJpYyIsImlzX291dF9vbmx5IiwidHRsIiwicHJldl9ocmVmIiwidG1wSHJlZiIsIm1zZyIsImJkeSIsInNob3ciLCJjbGlja091dHNpZGVUb0Nsb3NlIiwicGFyZW50IiwicGFyZW50RWwiLCJsb2NhbHMiLCJib2R5IiwiZmlybUl0ZW1SZXBvIiwiZmlybV9kYXRhIiwibGZsIiwiSWNvbiIsIkRlZmF1bHQiLCJpbWFnZVBhdGgiLCJmaXJtTGlzdFJlcG8iLCJmaXJtX2xpc3RfZGF0YSIsIm1hcF9kZWZhdWx0cyIsInRpbGVMYXllciIsInRpbGVMYXllck9wdGlvbnMiLCJkZXRlY3RSZXRpbmEiLCJyZXVzZVRpbGVzIiwiYXR0cmlidXRpb24iLCJ6b29tQ29udHJvbFBvc2l0aW9uIiwibWFwX2V2ZW50cyIsImVuYWJsZSIsImxvZ2ljIiwibWFwX3BhdGhzIiwicDEiLCJ3ZWlnaHQiLCJzdHJva2UiLCJvcGFjaXR5IiwiZmlsbE9wYWNpdHkiLCJjbGlja2FibGUiLCJjb2xvciIsImxhdGxuZ3MiLCJ0eXBlIiwienVycG9zIiwiem9vbSIsImlzX2ZpcnN0X21vdmVlbmQiLCJjYmtDYXRjaFJldHJpZXZlIiwiY2JrRmluYWxseVJldHJpZXZlIiwiaXNGaXJzdE1vdmVFbmQiLCIkb24iLCJldmVudCIsImNudHIiLCJ0YXJnZXRTY29wZSIsImNlbnRlciIsImlzRW5vdWdoIiwiZGVsdGEiLCJhYnMiLCJ0bXBTbGNTZXJ2R3JvdXBJZCIsImN1cl9wb3B1cCIsImFyZ3MiLCJsZWFmbGV0RXZlbnQiLCJwb3B1cCIsIl9zb3VyY2UiLCJjYmtMb2FkRmlybSIsImV2IiwidGFyZ2V0RXZlbnQiLCJvbkNvbXBsZXRlIiwiY2xvc2VQb3B1cCIsImNia0xvYWRGaXJtRXJyIiwiZXJyRmlybSIsInNob3dGaXJtSW5mbyIsIm1hcF9jZW50ZXIiLCJzZXRDb29yZHMiLCJ1c2VDZW50ZXJDb29yZHMiLCJjZW50ZXJDb29yZHMiLCJjZW50cm9pZCIsIkwiLCJtYXN0ZXJfcHJvZmlsZV9pZCIsIm1hc3Rlcl9kYXRhIiwiY3VyX3J1YnJpY19zdGF0Iiwic2hvd01hc3RlckluZm8iLCJtYXN0ZXJQcm9maWxlSWQiLCJwbHVzRGF0YSIsImlzX21vcmVfbG9hZGVkIiwic2Vydl9kYXRhIiwiaXNfc2Vydl9sb2FkZWQiLCIkdGVtcGxhdGVDYWNoZSIsInB1dCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsR0FDQSxZQUVBLElBQUFDLEdBQUEsU0FBQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FJQUYsRUFBQUcsTUFBQSxXQUNBQyxlQUFBLFFBQ0FDLFVBQUEsTUFDQUMsUUFBQSxNQUNBQyxRQUFBLE1BQ0FDLFFBQUEsU0FFQUMsY0FBQSxXQVdBQyxZQUFBLE9BV0FYLEVBQ0FZLFdBQUEsR0FDQUMsV0FBQSxJQUVBLElBQUFDLEdBQUEsR0FDQUMsRUFBQSxVQUlBbEIsR0FFQW1CLE1BQUEsT0FDQUMsSUFBQUgsRUFDQUksWUFBQSxJQUlBRixNQUFBLGVBQ0FDLElBQUFGLEVBQ0FJLFlBQUEsdUJBQ0FDLFdBQUEsa0JBR0FKLE1BQUEsaUJBQ0FDLElBQUEsVUFDQUUsWUFBQSxpQ0FDQUMsV0FBQSx3QkFJQUosTUFBQSxpQkFDQUMsSUFBQSw0QkFFQUMsWUFBQSxFQUNBQyxZQUFBLGlDQUNBQyxXQUFBLHNCQUNBQyxTQUNBQyxvQkFDQSxlQUNBLFNBQUFDLEdBR0EsTUFEQUMsU0FBQUMsSUFBQSxnQkFDQUYsRUFBQUcsc0JBTUFWLE1BQUEsYUFDQUMsSUFBQSxTQUNBRSxZQUFBLHVCQUNBQyxXQUFBLG9CQUlBdEIsRUFBQTZCLFVBQUFiLEVBQUFDLEdBYUFaLEVBQ0F5QixVQUFBLE9BQ0FDLGVBQUEsZ0JBYUFsQyxHQUFBbUMsT0FBQSxtQkFDQSxZQUNBLGFBQ0EscUJBQ0Esd0JBR0EsMEJBQ0Esc0JB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QUEsRUFDQTVZLEVBQUEwWSxnQkFBQSxJQU9BM2IsR0FBQW1DLE9BQUEsNEJBQ0EsYUFDQSwrQkFDQSxxQkFDQSxtQkFHQVYsV0FBQSxzQkFDQSxTQUNBLFNBQ0EsWUFDQSxlQUNBLFdBRUF4QixLQUVBb0MsT0FBQXJDLFNDdEdBQSxRQUFBbUMsT0FBQSw0QkFBQUksS0FBQSxpQkFBQSxTQUFBdVosR0FBQUEsRUFBQUMsSUFBQSx1QkFBQSxvNUJBQ0FELEVBQUFDLElBQUEsaUNBQUEsNFdBQ0FELEVBQUFDLElBQUEsaUNBQUEsMnVCQUNBRCxFQUFBQyxJQUFBLHFCQUFBLDJOQUNBRCxFQUFBQyxJQUFBLDJCQUFBLHFwQkFDQUQsRUFBQUMsSUFBQSwrQkFBQSx3bkNBQ0FELEVBQUFDLElBQUEsdUJBQUEsdXhCQUNBRCxFQUFBQyxJQUFBLDBDQUFBLHduQkFDQUQsRUFBQUMsSUFBQSw0Q0FBQTtBQUNBRCxFQUFBQyxJQUFBLDBDQUFBLHNkQUNBRCxFQUFBQyxJQUFBLHVEQUFBLDBtSUFDQUQsRUFBQUMsSUFBQSxxREFBQSw0cUJBQ0FELEVBQUFDLElBQUEsc0RBQUEsczNCQUNBRCxFQUFBQyxJQUFBLDBEQUFBLGc4REFDQUQsRUFBQUMsSUFBQSx3REFBQSw0S0FDQUQsRUFBQUMsSUFBQSxzREFBQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsXG5cdFx0ICAgICAkdXJsUm91dGVyUHJvdmlkZXIsXG5cdFx0ICAgICAkaHR0cFByb3ZpZGVyLFxuXHRcdCAgICAgJGxvY2F0aW9uUHJvdmlkZXIsXG5cdFx0ICAgICAkbWRUaGVtaW5nUHJvdmlkZXIsXG5cdFx0ICAgICAkbWRJY29uUHJvdmlkZXIsXG5cdFx0ICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXIpIHtcblxuICAgIFxuICAgIC8vIFVwZGF0ZSB0aGUgdGhlbWUgY29sb3JzIHRvIHVzZSB0aGVtZXMgb24gZm9udC1pY29uc1xuICAgICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgICAucHJpbWFyeVBhbGV0dGUoJ3BpbmsnLHtcbiAgICBcdCdkZWZhdWx0JzogJzUwMCcsXG4gICAgXHQnaHVlLTEnOiAnMjAwJyxcbiAgICBcdCdodWUtMic6ICc4MDAnLFxuICAgIFx0J2h1ZS0zJzogJ0ExMDAnXG4gICAgICB9KVxuICAgICAgLmFjY2VudFBhbGV0dGUoJ2JsdWUnLHtcbiAgICBcdC8vICdkZWZhdWx0JzogJ0E0MDAnLFxuICAgIFx0Ly8gLy8gYnkgZGVmYXVsdCB1c2Ugc2hhZGUgNDAwIGZyb20gdGhlIHBpbmsgcGFsZXR0ZVxuICAgIFx0Ly8gLy8gZm9yIHByaW1hcnkgaW50ZW50aW9uc1xuICAgIFx0Ly8gJ2h1ZS0xJzogJzEwMCcsXG4gICAgXHQvLyAvLyB1c2Ugc2hhZGUgMTAwIGZvciB0aGUgPGNvZGU+bWQtaHVlLTE8L2NvZGU+IGNsYXNzXG4gICAgXHQvLyAnaHVlLTInOiAnNjAwJyxcbiAgICBcdC8vIC8vIHVzZSBzaGFkZSA2MDAgZm9yIHRoZSA8Y29kZT5tZC1odWUtMjwvY29kZT4gY2xhc3NcbiAgICBcdC8vICdodWUtMyc6ICdBMTAwJ1xuICAgIFx0Ly8gdXNlIHNoYWRlIEExMDAgZm9yIHRoZSA8Y29kZT5tZC1odWUtMzwvY29kZT4gY2xhc3NcdFxuICAgICAgfSlcbiAgICAgIC53YXJuUGFsZXR0ZSgncmVkJyk7XG5cbiAgICAvLyAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxuICAgIC8vICAgLmRhcmsoKTtcblxuICAgIC8vJG1kSWNvblByb3ZpZGVyXG4gICAgLy8gMTIwMCB2aWV3Ym94IHNpemU6IGZyb20gaWNvbm1vbnN0clxuICAgIC8vLmRlZmF1bHRJY29uU2V0KCcuL2ljb25zLnN2ZycsIDUxMik7XG4gICAgLy8uaWNvblNldCgnc29jaWFsJywgJy4vaWNvbnMvc29jaWFsLWljb25zLnN2ZycpO1xuICAgIC8vIFJlZ2lzdGVyIGEgZGVmYXVsdCBzZXQgb2YgU1ZHIGljb25zXG4gICAgXG4gICAgJGxvY2F0aW9uUHJvdmlkZXJcbiAgICAgIC5odG1sNU1vZGUoZmFsc2UpXG4gICAgICAuaGFzaFByZWZpeCgnIScpO1xuICAgIFxuICAgIHZhciBiYXNlUm91dGUgPSAnJyxcblx0YmFzZVBhdGggPSAnL3dlbGNvbWUnO1xuXG4gICAgLy8gc2V0dXAgYW4gYWJzdHJhY3Qgc3RhdGUgZm9yIHRoZSB0YWJzIGRpcmVjdGl2ZVxuICAgIC8vIGh0dHA6Ly9hbmd1bGFyLXVpLmdpdGh1Yi5pby91aS1yb3V0ZXIvc2l0ZS9cbiAgICAkc3RhdGVQcm92aWRlciAgICAgXG4gICAgXG4gICAgICAuc3RhdGUoXCJieXRcIiwge1xuICAgICAgXHR1cmw6IGJhc2VSb3V0ZSxcbiAgICAgIFx0J2Fic3RyYWN0JzogdHJ1ZVxuICAgICAgfSlcblxuICAgICAvLyBpbmNsdWRlcyBjaXR5IHNlbGVjdG9yIGFuZCBvdGhlciB3ZWxjb21lIGZlYXR1cmVzXG4gICAgICAuc3RhdGUoXCJieXQud2VsY29tZVwiLCB7XG5cdHVybDogYmFzZVBhdGgsXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnd2VsY29tZS93bGMudHBsLmh0bWwnLFxuXHRjb250cm9sbGVyOiAnV2xjQ29udHJvbGxlcidcbiAgICAgIH0pXG5cbiAgICAgIC5zdGF0ZShcImJ5dC5hZ2dsb0xpc3RcIiwge1xuXHR1cmw6IFwiL2NpdGllc1wiLFxuXHR0ZW1wbGF0ZVVybDogJ2FnZ2xvLWxpc3QvYWdnbG8tbGlzdC50cGwuaHRtbCcsXG5cdGNvbnRyb2xsZXI6ICdBZ2dsb0xpc3RDb250cm9sbGVyJ1xuICAgICAgfSlcblxuICAgIC8vIGluZm8gYWJvdXQgYWdnbG8gKyBsaW5rIHRvIHNwZWNzXG4gICAgICAuc3RhdGUoXCJieXQuYWdnbG9JdGVtXCIsIHtcblx0dXJsOiBcIi9jaXRpZXMvOmFnZ2xvX2ludGVyX2NvZGVcIixcblx0Ly8gdGhpcyB2aWV3IC0gaXMgYSB0ZW1wbGF0ZSBmb3IgY2hpbGQgdmlld3Ncblx0J2Fic3RyYWN0JzogdHJ1ZSxcblx0dGVtcGxhdGVVcmw6ICdhZ2dsby1pdGVtL2FnZ2xvLWl0ZW0udHBsLmh0bWwnLFxuXHRjb250cm9sbGVyOiAnQWdnbG9JdGVtQ29udHJvbGxlcicsXG5cdHJlc29sdmU6IHtcblx0ICBxX2FnZ2xvX2ludGVyX2NvZGU6IFtcblx0ICAgICckc3RhdGVQYXJhbXMnLFxuXHQgICAgZnVuY3Rpb24oJHN0YXRlUGFyYW1zKXtcblx0ICAgICAgLy8gdGhpcyByZXNvbHZlIGV4ZWN1dGVzIGJlZm9yZSBwYXJlbnQgY29udHJvbGxlcnNcblx0ICAgICAgY29uc29sZS5sb2coJ3NvbWUgcmVzb2x2ZScpO1xuXHQgICAgICByZXR1cm4gJHN0YXRlUGFyYW1zLmFnZ2xvX2ludGVyX2NvZGU7XG5cdCAgICB9XG5cdCAgXVxuXHR9XG4gICAgICB9KSAgIFxuXG4gICAgICAuc3RhdGUoXCJieXQuYWJvdXRcIiwge1xuXHR1cmw6IFwiL2Fib3V0XCIsXG5cdHRlbXBsYXRlVXJsOiAnYWJvdXQvYWJvdXQudHBsLmh0bWwnLFxuXHRjb250cm9sbGVyOiAnQWJvdXRDb250cm9sbGVyJ1x0XG4gICAgICB9KTtcblxuICAgIFxuICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoYmFzZVJvdXRlICsgYmFzZVBhdGgpO1xuICAgIFxuICAgIC8vIG1hc3RlcjogL21hc3RlcnMvMTIzNCAoZG8gbm90IGRlcGVuZHMgb2YgY2l0eSBhbmQgc3BlYylcbiAgICAvLyBtYXA6IC9jaXRpZXMva3JkL3NwZWNzL2hhaXIvc2Fsb25zXG4gICAgLy8gc2Fsb246IC9zYWxvbnMvMjM0MjNcbiAgICAvLyBzZXJ2aWNlczogL2NpdGllcy9rcmQvc3BlY3MvbmFpbC9zZXJ2aWNlcy8xMjM0XG4gICAgLy8gc2VydmljZXMgcGFnaW5nOiAvLi4uL3NlcnZpY2VzP29mZnNldD0yMyZsaW1pdD00MFxuICAgICAvLyBsb2dpbjogL2xvZ2luXG4gICAgLy8gYWJvdXQ6IC9hYm91dFxuICAgIC8vIHZpZXdlcjogL3VzZXJzL21lICAgIFxuXG4gICAgLy8gYWxsIHZhbHVlcyBpbiBzdG9yYWdlIHdpbGwgYmUgcHBhLnNvbWV2YWx1ZVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ncmV2b3J5L2FuZ3VsYXItbG9jYWwtc3RvcmFnZVxuICAgIGxvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlclxuICAgICAgLnNldFByZWZpeCgncHBhJylcbiAgICAgIC5zZXRTdG9yYWdlVHlwZSgnbG9jYWxTdG9yYWdlJyk7XG5cbiAgICAvLyBEaXNhYmxlOiBwdXQgc2Vzc2lvbiBpZCB0byByZXF1ZXN0cyBpbiBBUEkgaGVscGVyXG4gICAgLy8gICAgICAgICAgb25seSBmb3IgQVBJIHJlcXVlc3RzIChub3QgZm9yIG90aGVycywgc3VjaCBDU1MsIEpTIGZpbGVzKVxuICAgIC8vIGp3dEludGVyY2VwdG9yUHJvdmlkZXIudG9rZW5HZXR0ZXIgPSBbXG4gICAgLy8gICBmdW5jdGlvbigpIHtcbiAgICAvLyAgICAgcmV0dXJuIHNpZDtcbiAgICAvLyAgIH1cbiAgICAvLyBdO1xuXG4gICAgLy8gJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnand0SW50ZXJjZXB0b3InKTtcbiAgfTtcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuYXBwQ29uZmlnJywgW1xuICAgICd1aS5yb3V0ZXInLFxuICAgICduZ01hdGVyaWFsJyxcbiAgICAnTG9jYWxTdG9yYWdlTW9kdWxlJywgLy8gYm93ZXIgYW5ndWxhci1sb2NhbC1zdG9yYWdlXG4gICAgJ215QXBwLnRlbXBsYXRlRmFjdG9yeScsIC8vIGF1dG8tZ2VuZXJhdGVkIHRvIHRlbXBsYXRlLWNhY2hlIHVzaW5nIHRjYWNoZSB0YXNrIGluIGd1bHBcbiAgICAvLydhbmd1bGFyLWp3dCcsXG4gICAgLy8gaW1wbGVtZW50ZWQgaW4gaW5kZXguaHRtbCBhcyBtYWluIGNvbnRyb2xsZXIgb2YgdGhlIGFwcFxuICAgICdteUFwcC5Ub29sYmFyQ29udHJvbGxlcicsXG4gICAgJ215QXBwLldsY0NvbnRyb2xsZXInLFxuICAgICdteUFwcC5BZ2dsb0l0ZW1Db250cm9sbGVyJyxcbiAgICAnbXlBcHAuQWdnbG9MaXN0Q29udHJvbGxlcicsXG4gICAgJ215QXBwLkFib3V0Q29udHJvbGxlcicsXG4gICAgJ2FuZ3VwaGFudG9tJ1xuICBdKVxuXG4gIC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsXG5cdCAgICckdXJsUm91dGVyUHJvdmlkZXInLFxuXHQgICAnJGh0dHBQcm92aWRlcicsXG5cdCAgICckbG9jYXRpb25Qcm92aWRlcicsXG5cdCAgICckbWRUaGVtaW5nUHJvdmlkZXInLFxuXHQgICAnJG1kSWNvblByb3ZpZGVyJyxcblx0ICAgJ2xvY2FsU3RvcmFnZVNlcnZpY2VQcm92aWRlcicsXG5cdCAgIC8vJ2p3dEludGVyY2VwdG9yUHJvdmlkZXInLFx0ICAgXG5cdCAgIHhwb1xuXHQgIF0pO1xuXG59KHdpbmRvdy5hbmd1bGFyKSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJ1blhwbyA9IGZ1bmN0aW9uKCkge1xuXG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBtb2R1bGVcbiAgICogQG5hbWUgbXlBcHBcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqXG4gICAqIERlY2xhcmUgYXBwIGxldmVsIG1vZHVsZSB3aGljaCBkZXBlbmRzIG9uIHZpZXdzXG4gICAqXG4gICAqICNVc2FnZVxuICAgKlxuICAgKiBUbyBzZWUgc29tZSBzZWVzXG4gICAqL1xuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXG4gICAgJ215QXBwLmFwcENvbmZpZydcbiAgXSlcblxuICAgIC5ydW4oW3J1blhwb10pO1xuXG4gIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjA2OTIyMDMvY29yZG92YS1kZXZpY2VyZWFkeS1ldmVudC1ub3QtZmlyaW5nLWZyb20td2l0aGluLWFuZ3VsYXItcnVuLWJsb2NrXG4gIHZhciBsb2FkVGhlQXBwID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydteUFwcCddKTtcbiAgICAvLyB9LCAxMDAwKTtcbiAgfTtcblxuICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgIGlmICh3aW5kb3cuY29yZG92YSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCBsb2FkVGhlQXBwLCBmYWxzZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbG9hZFRoZUFwcCgpO1xuICAgIH1cbiAgfSk7XG5cbn0pKHdpbmRvdy5hbmd1bGFyKTtcblxud2luZG93Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYWxlcnQoXCLQndC10L/RgNC10LTQstC40LTQtdC90L3QsNGPINC+0YjQuNCx0LrQsFwiKTtcbn07XG5cblxuLy8gVHJpZ2dlciBhIGNhbGxiYWNrIG9uY2UgdGhlIGRldmljZSBpcyByZWFkeSwgb3IgaW1tZWRpYXRlbHkgaWYgdGhlIGRldmljZSBpcyBhbHJlYWR5IHJlYWR5LlxuLy8gaHR0cDovL2lvbmljZnJhbWV3b3JrLmNvbS9kb2NzL2FwaS91dGlsaXR5L2lvbmljLlBsYXRmb3JtL1xuLy8gJ2RldmljZXJlYWR5JyBvciAnd2luZG93LmxvYWQnXG4vLyAkaW9uaWNQbGF0Zm9ybS5yZWFkeShmdW5jdGlvbigpIHtcbi8vICAgLy8gSGlkZSB0aGUgYWNjZXNzb3J5IGJhciBieSBkZWZhdWx0IChyZW1vdmUgdGhpcyB0byBzaG93IHRoZSBhY2Nlc3NvcnkgYmFyIGFib3ZlIHRoZSBrZXlib2FyZFxuLy8gICAvLyBmb3IgZm9ybSBpbnB1dHMpXG4vLyAgICRpb25pY1BsYXRmb3JtLm9uKCdvZmZsaW5lJywgZnVuY3Rpb24oKSB7XG4vLyAgICAgd2luZG93LmFsZXJ0KCdPZmZsaW5lIG1vZGUnKTtcbi8vICAgfSk7XG5cbi8vICAgJGlvbmljUGxhdGZvcm0ub24oJ3ZvbHVtZXVwYnV0dG9uJywgZnVuY3Rpb24oKSB7XG4vLyAgICAgd2luZG93LmFsZXJ0KCd2b2x1bWV1cGJ1dHRvbicpO1xuLy8gICB9KTtcblxuLy8gICBpZiAod2luZG93LmNvcmRvdmEpIHtcbi8vICAgICBpZiAod2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZCkge1xuLy8gICAgICAgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5oaWRlS2V5Ym9hcmRBY2Nlc3NvcnlCYXIodHJ1ZSk7XG4vLyAgICAgICB3aW5kb3cuY29yZG92YS5wbHVnaW5zLktleWJvYXJkLmRpc2FibGVTY3JvbGwodHJ1ZSk7XG4vLyAgICAgfVxuXG4vLyAgICAgaWYgKG5hdmlnYXRvciAmJiBuYXZpZ2F0b3Iuc3BsYXNoc2NyZWVuKSB7XG4vLyAgICAgICBuYXZpZ2F0b3Iuc3BsYXNoc2NyZWVuLmhpZGUoKTtcbi8vICAgICB9XG4vLyAgIH1cblxuLy8gICBpZiAod2luZG93LlN0YXR1c0Jhcikge1xuLy8gICAgIC8vIG9yZy5hcGFjaGUuY29yZG92YS5zdGF0dXNiYXIgcmVxdWlyZWRcbi8vICAgICB3aW5kb3cuU3RhdHVzQmFyLnN0eWxlRGVmYXVsdCgpO1xuLy8gICB9XG5cbi8vICAgLy8gaWYgKHdpbmRvdy5uYXZpZ2F0b3IpIHtcbi8vICAgLy8gICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7XG4vLyAgIC8vICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKFxuLy8gICAvLyAgICAgICBmdW5jdGlvbihwb3MpIHtcbi8vICAgLy8gICAgICAgICB3aW5kb3cuYWxlcnQoJ1Bvc2l0aW9uICcgKyBhbmd1bGFyLnRvSnNvbihwb3MpKTtcbi8vICAgLy8gICAgICAgfSxcbi8vICAgLy8gICAgICAgZnVuY3Rpb24oZXJyKSB7XG4vLyAgIC8vICAgICAgICAgd2luZG93LmFsZXJ0KCdQb3NFcnInICsgYW5ndWxhci50b0pzb24oZXJyKSk7XG4vLyAgIC8vICAgICAgICAgJGxvZy5sb2coJ3Bvc2VycicsIGVycik7XG4vLyAgIC8vICAgICAgIH1cbi8vICAgLy8gICAgICk7XG4vLyAgIC8vICAgfVxuLy8gICAvLyAgIGVsc2Uge1xuLy8gICAvLyAgICAgYWxlcnQoJ25vIG5hdi5nZW9sb2NhdGlvbicpO1xuLy8gICAvLyAgIH1cblxuLy8gICAvLyAgIC8vJGxvZy5sb2coJ2Nvbm4gdHlwZSAnICsgbmF2aWdhdG9yLmNvbm5lY3Rpb24udHlwZSk7XG4vLyAgIC8vIH1cbi8vICAgLy8gZWxzZSB7XG4vLyAgIC8vICAgd2luZG93LmFsZXJ0KCdubyBuYXYgcHJvcGVydHknKTtcbi8vICAgLy8gICAkbG9nLmxvZygnbm8gbmF2aWdhdG9yIGluIHB1YmxpYycpO1xuLy8gICAvLyB9XG5cbi8vICAgLy8gb3RoZXIgbWV0aG9kOiBzdGF0ZUNoYW5nZUVycm9yXG4vLyAgIC8vJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oZXZlbnQsIG5leHQpe1xuLy8gICAvLyAvLyBmcm9tIHVpLnJvdXRlciBzdGF0ZS5kYXRhXG4vLyAgIC8vbmV4dC5kYXRhLnNvbWVWYWw7XG4vLyAgIC8vfSk7XG4vLyB9KTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgc2l0ZVJlcG8pe1xuICAgIHNpdGVSZXBvLnNldFRpdGxlKCfQniDQv9GA0L7QtdC60YLQtScpO1xuICAgIHNpdGVSZXBvLnNldFByZXZIcmVmKCRzdGF0ZS5ocmVmKCdieXQud2VsY29tZScpKTtcbiAgICBcbiAgICAkc2NvcGUuaHRtbFJlYWR5KCk7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuQWJvdXRDb250cm9sbGVyJywgW1xuICAgICdteUFwcC5zaXRlUmVwbydcbiAgXSlcblxuICAgIC5jb250cm9sbGVyKCdBYm91dENvbnRyb2xsZXInLCBbXG4gICAgICAnJHNjb3BlJyxcbiAgICAgICckc3RhdGUnLFxuICAgICAgJ3NpdGVSZXBvJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuICBcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY2JrQ29uZmlnID0gZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpe1xuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgLy8gYWZ0ZXIgYWdnbG8gc2VsZWN0aW9uOiBpbmZvIGFib3V0IGFnZ2xvICsgc3BlY3NcbiAgICAgIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0xpc3RcIiwge1xuICAgICAgXHR1cmw6IFwiL3NwZWNzXCIsXG4gICAgICBcdHZpZXdzOiB7XG5cdCAgLy8gYWdnbG9JdGVtLnh4eCAtPiBhZ2dsb0l0ZW1Db250ZW50XG4gICAgICBcdCAgJ2FnZ2xvSXRlbUNvbnRlbnQnOiB7XG4gICAgICBcdCAgICB0ZW1wbGF0ZVVybDogJ2FnZ2xvLWl0ZW0vc3BlYy1saXN0L3NwZWMtbGlzdC50cGwuaHRtbCcsXG5cdCAgICBjb250cm9sbGVyOiAnU3BlY0xpc3RDb250cm9sbGVyJ1xuICAgICAgXHQgIH1cbiAgICAgIFx0fVxuICAgICAgfSlcblxuICAgICAgLnN0YXRlKFwiYnl0LmFnZ2xvSXRlbS5zcGVjSXRlbVwiLCB7XG5cdHVybDogXCIvc3BlY3MvOnNwZWNfaWRcIixcblx0J2Fic3RyYWN0JzogdHJ1ZSxcblx0dmlld3M6IHtcbiAgICBcdCAgJ2FnZ2xvSXRlbUNvbnRlbnQnOiB7XG4gICAgXHQgICAgdGVtcGxhdGVVcmw6ICdhZ2dsby1pdGVtL3NwZWMtaXRlbS9zcGVjLWl0ZW0udHBsLmh0bWwnLFxuXHQgICAgY29udHJvbGxlcjogJ1NwZWNJdGVtQ29udHJvbGxlcidcbiAgICBcdCAgfVxuXHR9LFxuXHRyZXNvbHZlOiB7XG5cdCAgcV9zcGVjX2lkOiBbXG5cdCAgICAnJHEnLFxuXHQgICAgJyRzdGF0ZVBhcmFtcycsXHQgICAgXG5cdCAgICAncnVicmljUmVwbycsXG5cdCAgICBmdW5jdGlvbigkcSwgJHN0YXRlUGFyYW1zLCBydWJyaWNSZXBvKXtcblx0ICAgICAgdmFyIHRtcFNwZWNJZCA9ICRzdGF0ZVBhcmFtcy5zcGVjX2lkO1xuXHQgICAgICB2YXIgZGZyID0gJHEuZGVmZXIoKTtcblx0ICAgICAgLy8gdGhpcyByZXNvbHZlIGV4ZWN1dGVzIGJlZm9yZSBwYXJlbnQgY29udHJvbGxlcnNcblx0ICAgICAgLy9cdCAgICAgIGNvbnNvbGUubG9nKCdzb21lIHJlc29sdmUnKTtcblx0ICAgICAgaWYgKHJ1YnJpY1JlcG9cblx0XHQgIC5nZXRJZHMoKVxuXHRcdCAgLmluZGV4T2YodG1wU3BlY0lkKSA+PSAwKXtcblx0XHRcblx0XHRkZnIucmVzb2x2ZSh0bXBTcGVjSWQpO1xuXHQgICAgICB9XG5cdCAgICAgIGVsc2Uge1xuXHRcdGRmci5yZWplY3QoXCJwYXJhbSBcIiArXG5cdFx0XHQgICB0bXBTcGVjSWQgK1xuXHRcdFx0ICAgXCIgaXMgbm90IHN1cHBvcnRlZFwiKTtcblx0XHRcdFx0XG5cdCAgICAgIH1cblx0ICAgICAgXG5cdCAgICAgIHJldHVybiBkZnIucHJvbWlzZTtcblx0ICAgIH1cblx0ICBdXG5cdH1cbiAgICAgIH0pXG5cbiAgICAgIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0uc2Fsb25MaXN0XCIsIHtcbiAgICAgIFx0dXJsOiBcIi9zYWxvbnNcIixcbiAgICAgIFx0dmlld3M6IHtcbiAgICAgIFx0ICAnc3BlY0l0ZW1Db250ZW50Jzoge1xuICAgICAgXHQgICAgdGVtcGxhdGVVcmw6ICdhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L3NhbG9uLWxpc3QudHBsLmh0bWwnLFxuICAgICAgXHQgICAgY29udHJvbGxlcjogJ1NhbG9uTGlzdENvbnRyb2xsZXInXG4gICAgICBcdCAgfVxuICAgICAgXHR9XG4gICAgICB9KSAgICAgIFxuICAgIFxuICAgICAgLy8gLnN0YXRlKFwiYnl0LmFnZ2xvSXRlbS5zcGVjSXRlbS5ydWJyaWNMaXN0XCIsIHtcbiAgICAgIC8vIFx0dXJsOiBcIi9ydWJyaWNzXCIsXG4gICAgICAvLyBcdHZpZXdzOiB7XG4gICAgICAvLyBcdCAgJ3NwZWNJdGVtQ29udGVudCc6IHtcbiAgICAgIC8vIFx0ICAgIHRlbXBsYXRlVXJsOiAnYWdnbG8taXRlbS9zcGVjLWl0ZW0vcnVicmljLWxpc3QvcnVicmljLWxpc3QudHBsLmh0bWwnLFxuICAgICAgLy8gXHQgICAgY29udHJvbGxlcjogJ1J1YnJpY0xpc3RDb250cm9sbGVyJ1xuICAgICAgLy8gXHQgIH1cbiAgICAgIC8vIFx0fVxuICAgICAgLy8gfSlcblxuICAgIC8vIHJ1YnJpY0l0ZW1TZXJ2aWNlczogY29udGFpbnMgbGlua3MgdG8gb3RoZXIgcnVicmljSXRlbXNcbiAgICAgIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0ucnVicmljSXRlbVwiLCB7XG5cdHVybDogXCIvcnVicmljcy86cnVicmljX2lkXCIsIC8vIC9zZXJ2aWNlc1xuXHR2aWV3czoge1xuICAgIFx0ICAnc3BlY0l0ZW1Db250ZW50Jzoge1xuICAgIFx0ICAgIHRlbXBsYXRlVXJsOiAnYWdnbG8taXRlbS9zcGVjLWl0ZW0vcnVicmljLWl0ZW0vcnVicmljLWl0ZW0udHBsLmh0bWwnLFxuXHQgICAgY29udHJvbGxlcjogJ1J1YnJpY0l0ZW1Db250cm9sbGVyJ1xuICAgIFx0ICB9XG5cdH0sXG5cdHJlc29sdmU6IHtcblx0ICBxX3J1YnJpY19pZDogWyckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMpe1xuXHQgICAgLy8gYWxsIC0gdG8gc2hvdyBhbGwgcnVicmljc1xuXHQgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5ydWJyaWNfaWQ7XG5cdCAgfV1cblx0fVxuICAgICAgfSk7XG5cbiAgICAgIC8vIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0ucnVicmljSXRlbS5zZXJ2TGlzdFwiLCB7XG4gICAgICAvLyBcdHVybDogXCIvc2VydmljZXNcIixcbiAgICAgIC8vIFx0dmlld3M6IHtcbiAgICAgIC8vIFx0ICAncnVicmljSXRlbUNvbnRlbnQnOiB7XG4gICAgICAvLyBcdCAgICB0ZW1wbGF0ZVVybDogJ2FnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL3NlcnYtbGlzdC50cGwuaHRtbCcsXG4gICAgICAvLyBcdCAgICBjb250cm9sbGVyOiAnU2Vydkxpc3RDb250cm9sbGVyJ1xuICAgICAgLy8gXHQgIH1cbiAgICAgIC8vIFx0fVxuICAgICAgLy8gfSk7XG4gICAgXG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuYWdnbG9JdGVtQ29uZmlnJywgW1xuICAgICdteUFwcC5TcGVjTGlzdENvbnRyb2xsZXInLFxuICAgICdteUFwcC5TcGVjSXRlbUNvbnRyb2xsZXInLFxuICAgIC8vIGlkZWFsbHk6IHRoaXMgY29udHJvbGxlcnMgYW5kIHN0YXRlcyBuZWVkIHRvIG1vdmVcbiAgICAvLyAgICAgICAgICB0byBjaGlsZCBmb2xkZXJzIFxuICAgICdteUFwcC5TYWxvbkxpc3RDb250cm9sbGVyJyxcbiAgICAnbXlBcHAuUnVicmljSXRlbUNvbnRyb2xsZXInXG4gICAgLy8nbXlBcHAuU2Vydkxpc3RDb250cm9sbGVyJ1xuICBdKVxuXG4gIC5jb25maWcoW1xuICAgICckc3RhdGVQcm92aWRlcicsXG4gICAgY2JrQ29uZmlnXG4gIF0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIi8vICMhL2NpdGllcy9zcGIvc3BlY3MvaGFpclxuLy8gICBzaG93IGxpbmtzIHRvIHNlcnZpY2VzQnlNYXN0ZXIgYW5kIHNlcnZpY2VzQnlTYWxvblxuLy8gICB1c3VhbGx5IHRoaXMgcGFnZSBza2lwcGVkIChzZWxlY3QgJ2hhaXInICsgJ2J5JyB0b2dldGhlcilcbi8vICMhL2NpdGllcy9zcGIvc3BlY3MvaGFpci9zZXJ2aWNlc1xuLy8gICAgP2J5PW1hc3RlciZydWJyaWNzPWhhaXJFeHQsaGFpckN1dFxuLy8gIyEvY2l0aWVzL3NwYi9zcGVjcy9oYWlyL3NlcnZpY2VzXG4vLyAgICA/Ynk9c2Fsb25cbi8vIGlmICghYnkpIHJlZGlyZWN0IHRvICMhL2NpdGllcy9zcGIvc3BlY3MgKHRvIHNlbGVjdCBhZ2Fpbilcbi8vIGlmIChydWJyaWNzLmxlbmd0aCA9PT0gMCkgc2hvdyBub3RoaW5nXG4vLyAgICB1c3VhbGx5IG9ubHkgb25lIHJ1YnJpYyAtIHNlbGVjdGVkXG4vLyAgICBpZiBmZXcgcnVicmljcyBhcmUgc2VsZWN0ZWQgLSByZS1sb2FkIGEgc3RhdGUgZXZlcnkgdGltZVxuKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICR0aW1lb3V0LFxuXHRcdCAgICAgJHN0YXRlLFxuXHRcdCAgICAgYWdnbG9SZXBvLFxuXHRcdCAgICAgcnVicmljUmVwbyxcblx0XHQgICAgIHNlcnZSZXBvLFxuXHRcdCAgICAgbWFzdGVyUmVwbyxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIHFfYWdnbG9faW50ZXJfY29kZSl7XG4gICAgXG4gICAgLyoqXG4gICAgICogU2VsZWN0ZWQgYWdnbG9tZXJhdGlvbjpcbiAgICAgKiAgIGNhbGN1bGF0ZWQgZnJvbSB1cmwgc3RhdGVcbiAgICAgKiAgIG9ubHkgd29ya3MgaW4gdGhpcyB2aWV3XG4gICAgICogICByZXRyaWV2ZSBhZ2dsb21lcmF0aW9ucyBpZiBub3QgZXhpc3RzICh1cGRhdGUgYSBwYWdlKVxuICAgICAqICAgb3Igc2hvdyB0aGlzIHZpZXcgaWYgYWxsIGFnZ2xvcyBhcmUgcmV0cmlldmVkXG4gICAgICovXG4gICAgJHNjb3BlLmN1cl9hZ2dsbyA9IG51bGw7XG4gICAgXG4gICAgdmFyIGNia1JldHJpZXZlQWdnbG9MaXN0ID0gZnVuY3Rpb24oKXtcblxuICAgICAgdmFyIHRtcEFnZ2xvID0gYWdnbG9SZXBvXG5cdCAgICAuY2FsY0J5SW50ZXJDb2RlKHFfYWdnbG9faW50ZXJfY29kZSk7XG5cbiAgICAgIC8vIFJlZGlyZWN0IHRvIGxpc3Q6IGlmIG5vIHN1Y2ggY2l0eVxuICAgICAgLy8gSW4gYSBsaXN0IHZpZXc6IHRyeSBhdXRvLXJlY29nbml0aW9uXG4gICAgICBpZiAoIXRtcEFnZ2xvKXtcblx0JHN0YXRlLmdvKFwiYnl0LndlbGNvbWVcIik7XG4gICAgICB9IGVsc2V7XG5cdCRzY29wZS5jdXJfYWdnbG8gPSB0bXBBZ2dsbztcblx0Ly8gcmVkaXJlY3QgdG8gc3BlY0xpc3Q6IGRvd25sb2FkIHJ1YnJpY3NcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIExvYWQgYWdnbG9zLCB0aGVuIGxvYWQgZ2VvIGxvY2F0aW9uXG4gICAgLy8gVE9ETzogZG93bmxvYWQgb25seSBzZWxlY3RlZCBjaXR5IHdpdGggYWRkdCBpbmZvXG4gICAgLy8gICAgICAgdXNpbmcgcV9hZ2dsb19pZFxuICAgIGFnZ2xvUmVwby5yZXRyaWV2ZURhdGEoKVxuICAgICAgLnRoZW4oY2JrUmV0cmlldmVBZ2dsb0xpc3QpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24odG1wRXJyb3IpIHtcblx0Y29uc29sZS5sb2coJ2FnZ2xvUmV0cmlldmVFcnJvcicpO1xuXHRjb25zb2xlLmxvZyh0bXBFcnJvcik7XG5cdG5vdGlmRmFjdG9yeS5lcnJvcign0KLQtdGF0L3QuNGH0LXRgdC60LjQtSDQvdC10L/QvtC70LDQtNC60Lg6INC90LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INGB0LXRgNCy0LXRgNGDLicpO1xuXHQkc2NvcGUuaHRtbFJlYWR5KCk7XG4gICAgICB9KTtcblxuICAgIC8vIHNob3cgaXQgd2l0aCA1MDBtcyBkZWxheVxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7ICAgICAgXG4gICAgICAkc2NvcGUuaXNfcHJnID0gdHJ1ZTtcbiAgICB9LCA1MDApO1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLkFnZ2xvSXRlbUNvbnRyb2xsZXInLCBbXG4gICAgJ215QXBwLmFnZ2xvSXRlbUNvbmZpZycsXG4gICAgJ215QXBwLmFnZ2xvUmVwbycsXG4gICAgJ215QXBwLnJ1YnJpY1JlcG8nLFxuICAgICdteUFwcC5zZXJ2UmVwbycsXG4gICAgJ215QXBwLm1hc3RlclJlcG8nLFxuICAgICdteUFwcC5ub3RpZkZhY3RvcnknXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignQWdnbG9JdGVtQ29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICckc3RhdGUnLFxuICAgICAgJ2FnZ2xvUmVwbycsXG4gICAgICAncnVicmljUmVwbycsXG4gICAgICAnc2VydlJlcG8nLFxuICAgICAgJ21hc3RlclJlcG8nLFxuICAgICAgJ25vdGlmRmFjdG9yeScsXG4gICAgICAncV9hZ2dsb19pbnRlcl9jb2RlJyxcbiAgICAgIHhwb10pO1xuXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQSBsaXN0IHdpdGggY2l0aWVzIChtYW51YWwgc2VsZWN0aW9uKVxuICAgKi9cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICRzdGF0ZSxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIGFnZ2xvUmVwbyxcblx0XHQgICAgIHNpdGVSZXBvKXtcbiAgICBzaXRlUmVwby5zZXRUaXRsZSgn0JLRi9Cx0L7RgCDQs9C+0YDQvtC00LAnKTtcbiAgICBzaXRlUmVwby5zZXRQcmV2SHJlZigkc3RhdGUuaHJlZignYnl0LndlbGNvbWUnKSk7XG4gICAgXG4gICAgLy8gdHJhbnNsYXRlIGFnZ2xvX3JlcG8gdG8gJHNjb3BlXG4gICAgJHNjb3BlLmFnZ2xvX2RhdGEgPSBhZ2dsb1JlcG8uZ2V0RGF0YSgpO1xuICAgIFxuICAgIC8vIExvYWQgYWxsIGNpdGllcyAoaWYgbm90IHlldCBsb2FkZWQpXG4gICAgYWdnbG9SZXBvLnJldHJpZXZlRGF0YSgpICAgICAgXG4gICAgICAvLyAudGhlbihjaGVja0xvY2F0aW9uUGVybWlzc2lvbilcbiAgICAgIC5jYXRjaChmdW5jdGlvbih0bXBFcnJvcikge1xuICAgICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9Ci0LXRhdC90LjRh9C10YHQutC40LUg0L3QtdC/0L7Qu9Cw0LTQutC4OiDQvdC1INGD0LTQsNC70L7RgdGMINC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyDQuiDRgdC10YDQstC10YDRgy4nKTtcbiAgICAgIFx0Y29uc29sZS5sb2coJ2FnZ2xvUmV0cmlldmVFcnJvcicsIHRtcEVycm9yKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShmdW5jdGlvbigpeyAgICBcblx0JHNjb3BlLmh0bWxSZWFkeSgpO1xuICAgICAgfSk7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuQWdnbG9MaXN0Q29udHJvbGxlcicsIFtcbiAgICAnbXlBcHAubm90aWZGYWN0b3J5JyxcbiAgICAnbXlBcHAuYWdnbG9SZXBvJyxcbiAgICAnbXlBcHAuc2l0ZVJlcG8nXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignQWdnbG9MaXN0Q29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRzdGF0ZScsXG4gICAgICAnbm90aWZGYWN0b3J5JyxcbiAgICAgICdhZ2dsb1JlcG8nLFxuICAgICAgJ3NpdGVSZXBvJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcblxuLyogQWx0ZXJuYXRpdmU6IG1vZGFsXG4gKiBPcGVuIGEgbW9kYWwgd2luZG93IHdpdGggYWdnbG8gc2VsZWN0aW9uXG4gKiAgIGl0IG1pZ2h0IGJlIHNpbXBsZSBsaXN0IG9yIGEgbWFwICh2TmV4dClcbiAqICAgb3BlbiwgZXZlbiBhZ2dsb3MgYXJlIG5vdCBsb2FkZWQgeWV0XG4gKiAgIHdpbGwgYmUgYXR0YWNoZWQgbGF0ZXIgdG8gb3BlbmVkIHdpbmRvd1xuICogQ2xvc2UgbW9kYWwgd2luZG93IHdpdGggYWdnbG8gc2VsZWN0b3JcbiAqL1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSwgJG1kRGlhbG9nLCBtc2dfYm9keSl7XG5cbiAgICAkc2NvcGUubXNnX2JvZHkgPSBtc2dfYm9keTtcblxuICAgICRzY29wZS5oaWRlRGlhbG9nID0gZnVuY3Rpb24oKXtcbiAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gICAgfTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5BbHJ0Q29udHJvbGxlcicsIFtcbiAgICAnbmdNYXRlcmlhbCdcbiAgXSlcbiAgICAuY29udHJvbGxlcignQWxydENvbnRyb2xsZXInLCBbXG4gICAgICAnJHNjb3BlJyxcbiAgICAgICckbWREaWFsb2cnLFxuICAgICAgJ21zZ19ib2R5JyxcbiAgICAgIHhwb1xuICAgIF0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkc2NvcGUsXG5cdFx0ICAgICAkbG9jYXRpb24sXG5cdFx0ICAgICAkYW5jaG9yU2Nyb2xsLFxuXHRcdCAgICAgc2l0ZVJlcG8sXG5cdFx0ICAgICBzY3JvbGxSZXBvKXtcbiAgICAvKipcbiAgICAgKiBTaXRlIHRpdGxlIGFuZCBvdGhlciBwcm9wc1xuICAgICAqL1xuICAgICRzY29wZS5zaXRlX2RhdGEgPSBzaXRlUmVwby5nZXREYXRhKCk7XG5cbiAgICAkc2NvcGUuc2Nyb2xsVG9Ub3AgPSBmdW5jdGlvbigpe1xuICAgICAgJGxvY2F0aW9uLmhhc2goJ3RvcF9ibG9jaycpO1xuICAgICAgLy8kYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSAxMjM7IC8vIG9ubHkgZm9yIHJvb3RcbiAgICAgICRhbmNob3JTY3JvbGwoKTtcbiAgICB9O1xuXG4gICAgJHNjb3BlLnNjcm9sbF9kYXRhID0gc2Nyb2xsUmVwby5nZXREYXRhKCk7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZShcIm15QXBwLlRvb2xiYXJDb250cm9sbGVyXCIsIFtcbiAgICAnbXlBcHAuc2l0ZVJlcG8nLFxuICAgICdteUFwcC5zY3JvbGxSZXBvJ1xuICBdKVxuXG4gICAgLmNvbnRyb2xsZXIoJ1Rvb2xiYXJDb250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJGxvY2F0aW9uJyxcbiAgICAgICckYW5jaG9yU2Nyb2xsJyxcbiAgICAgICdzaXRlUmVwbycsXG4gICAgICAnc2Nyb2xsUmVwbycsXG4gICAgICB4cG9cbiAgICBdKTtcblxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKFxuICAgICRzY29wZSxcbiAgICAkc3RhdGUsXG4gICAgJGxvZyxcbiAgICAkaHR0cCxcbiAgICAkdGltZW91dCxcbiAgICAvLyAgICBhY2NGYWN0b3J5LFxuICAgIG5vdGlmRmFjdG9yeSxcbiAgICAvLyAgICBmaXJlRmFjdG9yeSxcbiAgICBhZ2dsb1JlcG8sXG4gICAgaHByRmFjdG9yeSxcbiAgICBsb2NSZXBvLFxuICAgIHBlcm1SZXBvLFxuICAgIHNpdGVSZXBvXG4gICl7XG4gICAgc2l0ZVJlcG8uc2V0VGl0bGUoXCLQnNC40YHQmtGA0LBcIik7XG4gICAgc2l0ZVJlcG8uc2V0UHJldkhyZWYoJycpO1xuICAgIFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNvY2lhbCBuZXR3b3JrOiB2ayBvciBmYlxuICAgICAqL1xuICAgICRzY29wZS5pc19zb2NuZXQgPSB3aW5kb3cuSVNfU09DTkVUOyAgICBcblxuICAgIHZhciBjYmtFcnJEZWZpbmVTb2NDaXR5ID0gZnVuY3Rpb24oKXtcbiAgICAgIG5vdGlmRmFjdG9yeS5lcnJvcign0J3QtSDRg9C00LDQu9C+0YHRjCDQvtC/0YDQtdC00LXQu9C40YLRjCDQs9C+0YDQvtC0LiDQn9C+0L/RgNC+0LHRg9C50YLQtSDQstGL0LHRgNCw0YLRjCDQstGA0YPRh9C90YPRjicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGJ1dHRvbiB0byBkZWZpbmUgYSBjaXR5IGZyb20gYSBzb2NpYWwgcHJvZmlsZVxuICAgICAqL1xuICAgICRzY29wZS5kZWZpbmVTb2NDaXR5ID0gZnVuY3Rpb24oKXtcbiAgICAgIGlmICh3aW5kb3cuZ2V0U29jQ2l0eSkge1xuXHR3aW5kb3cuZ2V0U29jQ2l0eShmdW5jdGlvbihjaXR5TmFtZSl7XG5cdCAgaWYgKCFjaXR5TmFtZSl7XG5cdCAgICBjYmtFcnJEZWZpbmVTb2NDaXR5KCk7XG5cdCAgIFxuXHQgIH0gZWxzZSB7XG5cdCAgICAvL2FsZXJ0KCdjaXR5OiAnICtjaXR5TmFtZSk7XG5cdCAgICAvLyRzY29wZS5vbkNoYW5nZU1hbkFnZ2xvSWQoY2l0eU5hbWUpO1xuXG5cdCAgICB2YXIgdG1wQWdnbG8gPSBocHJGYWN0b3J5XG5cdFx0ICAuZmluZEVsZW1CeVByb3AoYWdnbG9SZXBvLmdldERhdGEoKS5hcnJfZ2VvX2FnZ2xvLFxuXHRcdFx0XHQgIFwibG9jYWxfbmFtZVwiLFxuXHRcdFx0XHQgIGNpdHlOYW1lKTtcblxuXHQgICAgaWYgKCF0bXBBZ2dsbyl7XG5cdCAgICAgIG5vdGlmRmFjdG9yeS5lcnJvcign0JLQsNGI0LUg0LzQtdGB0YLQvtC/0L7Qu9C+0LbQtdC90LjQtSAnK1xuXHRcdFx0XHQgY2l0eU5hbWUrXG5cdFx0XHRcdCAnINC90LUg0L/QvtC00LTQtdGA0LbQuNCy0LDQtdGC0YHRjyDQv9GA0LjQu9C+0LbQtdC90LjQtdC8Jyk7XG5cdCAgICAgIHJldHVybjtcblx0ICAgIH1cblxuXHQgICAgcmVkaXJlY3RUb0FnZ2xvU3BlY3ModG1wQWdnbG8pO1x0ICAgIFxuXHQgIH1cblx0fSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcblx0Y2JrRXJyRGVmaW5lU29jQ2l0eSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBsb2NhdGlvbiByZXBvIHdpdGggY3VycmVudCBjb29yZHMgYW5kIGRlZmF1bHQgem9vbVxuICAgICRzY29wZS5sb2NfZGF0YSA9IGxvY1JlcG8uZ2V0RGF0YSgpO1xuXG4gICAgLyoqXG4gICAgICogUGVybWlzc2lvbiBkYXRhOiBzdG9yZXMgaXNfcGVybV9jaGVja2VkIHN3aXRjaGVyXG4gICAgICovXG4gICAgJHNjb3BlLnBlcm1fZGF0YSA9IHBlcm1SZXBvLmdldERhdGEoKTtcblxuICAgIHZhciByZWRpcmVjdFRvQWdnbG9TcGVjcyA9IGZ1bmN0aW9uKHRtcEFnZ2xvKXtcbiAgICAgICRzdGF0ZS5nbygnYnl0LmFnZ2xvSXRlbS5zcGVjTGlzdCcsIHtcblx0J2FnZ2xvX2ludGVyX2NvZGUnOiB0bXBBZ2dsby5pbnRlcl9jb2RlXG4gICAgICB9KTtcbiAgICAgIC8vIGEgbmV3IHBhZ2UgaGFzIHRoZWlyIG93biBodG1sUmVhZHkgbWV0aG9kc1xuICAgICAgLy8gZm9yIHBoYW50b20gLSBubyByZWRpcmVjdCAobm8gc2Vzc2lvbiBzdG9yYWdlKVxuICAgIH07XG4gICAgXG4gICAgLy8gTG9hZGVkIGFmdGVyIGFsbCBhZ2dsb3MgaXMgcmVjZWl2ZWRcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgYWdnbG8gZnJvbSBhdXRvLWNvb3Jkc1xuICAgICAqICAgYW5kIHJlZGlyZWN0IHRvIHRoaXMgYWdnbG9cbiAgICAgKiAgIG9yIHNob3cgZXJyb3IsIGlmIGFuIGFnZ2xvIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgKi9cbiAgICB2YXIgYXV0b0NhbGNBZ2dsbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAvLyBHZXQgY3VycmVudCBhdXRvLWNvb3Jkc1xuICAgICAgLy8gICAgQXV0by1jb29yZHMgY2FuIGJlIGNoYW5nZWQgaW5kZXBlbmRlbnRseSBvZiB0aGUgbWV0aG9kXG4gICAgICAvLyAgICBMaWtlIGEgbW92aW5nIGNhciAod2F0Y2ggY29vcmRzKVxuICAgICAgLy8gICAgYnV0IHVwZGF0ZSBhbiBhZ2dsbyBvbmx5IGJ5IGNsaWNrICAgIFxuICAgICAgdmFyIHRtcENvb3JkcyA9IGxvY1JlcG8uZ2V0RGF0YSgpLmNvb3JkcztcbiAgICAgIC8vIGZpbmQgYSBhZ2dsbyBuYW1lIGJ5IGNvb3Jkc1xuICAgICAgYWdnbG9SZXBvLmNhbGNBZ2dsb0J5Q29vcmRzKHRtcENvb3Jkcy5sYXQsXG5cdFx0XHRcdCAgdG1wQ29vcmRzLmxuZylcblx0LnRoZW4oZnVuY3Rpb24odG1wQWdnbG8pe1xuXHQgIGlmICh0bXBBZ2dsbyl7XHQgICAgXG5cdCAgICAvLyBzYXZlIG9ubHkgZm9yIHN1cHBvcnRlZCBhZ2dsb21lcmF0aW9uc1xuXHQgICAgcGVybVJlcG8uc2F2ZUxvY2F0aW9uUGVybWlzc2lvbigpO1xuXHQgICAgcmVkaXJlY3RUb0FnZ2xvU3BlY3ModG1wQWdnbG8pO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIG5vdGlmRmFjdG9yeS5lcnJvcihcItCc0LXRgdGC0L7Qv9C+0LvQvtC20LXQvdC40LUg0L3QtSDQv9C+0LTQtNC10YDQttC40LLQsNC10YLRgdGPINGB0LXRgNCy0LjRgdC+0LwuINCf0L7Qv9GA0L7QsdGD0LnRgtC1INCy0YvQsdGA0LDRgtGMINCy0YDRg9GH0L3Rg9GOLlwiKTtcblx0ICAgICRzY29wZS5odG1sUmVhZHkoKTtcblx0ICB9XG5cdH0pO1xuICAgXG4gICAgfTtcblxuICAgIC8vIGJ5IGNsaWNrIG9uIGEgYnV0dG9uOiBhdXRvLWRlZmluZVxuICAgICRzY29wZS5kZWZpbmVMb2NhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgbG9jUmVwby5yZXRyaWV2ZUZyb21EZXZpY2UoKVxuXHQudGhlbihhdXRvQ2FsY0FnZ2xvKVxuICAgICAgICAuY2F0Y2goZnVuY3Rpb24ocmVhc29uKSB7XG5cdCAgLy8g0L3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINC80LXRgdGC0L7Qv9C+0LvQvtC20LXQvdC40LVcbiAgICAgICAgICBub3RpZkZhY3RvcnkuZXJyb3IocmVhc29uKTtcblx0ICAkc2NvcGUuaHRtbFJlYWR5KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgLy8gUnVuIGFsbCBmdW5jdGlvbnMgaGVyZVxuICAgIC8vIEl0IGlzIGEgZ2xvYmFsIGNvbnRyb2xsZXIgLSBubyByZS1yZW5kZXJcblxuICAgICRzY29wZS5jbGVhbkxvY2F0aW9uUGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICBwZXJtUmVwby5jbGVhbkxvY2F0aW9uUGVybWlzc2lvbigpO1xuICAgIH07XG4gICAgXG4gICAgdmFyIGNoZWNrTG9jYXRpb25QZXJtaXNzaW9uID0gZnVuY3Rpb24oKSB7ICAgICBcbiAgICAgIC8vIFdoZW4gYWxsIGFnZ2xvcyB1cGxvYWRlZCAtIGZpbmQgYSBwb3NpdGlvblxuICAgICAgLy8gb25seSBpZiBzYXZlZCBpbiBhIGxvY2FsIHNldHRpbmdzXG4gICAgICBwZXJtUmVwby5jaGVja0xvY2F0aW9uUGVybWlzc2lvbigpXG5cdC50aGVuKGZ1bmN0aW9uKGlzX3Blcm1fYWxsb3dlZCl7XHQgIFxuXHQgIGlmIChpc19wZXJtX2FsbG93ZWQpe1xuXHQgICAgLy8gVE9ETzogYXV0byBkZWZpbmU6IGZpeDogcmVkaXJlY3QgdG8gYnl0LndlbGNvbWVcblx0ICAgIC8vJHNjb3BlLmRlZmluZUxvY2F0aW9uKCk7XG5cdCAgICAkc2NvcGUuaHRtbFJlYWR5KCk7XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgLy8gZWxzZTogbm90aGluZ1xuXHQgICAgJHNjb3BlLmh0bWxSZWFkeSgpO1xuXHQgIH1cblx0fSk7XG4gICAgfTtcblxuICAgIC8vIExvYWQgYWdnbG9zLCB0aGVuIGxvYWQgZ2VvIGxvY2F0aW9uXG4gICAgYWdnbG9SZXBvLnJldHJpZXZlRGF0YSgpXG4gICAgICAudGhlbihjaGVja0xvY2F0aW9uUGVybWlzc2lvbilcbiAgICAgIC5jYXRjaChmdW5jdGlvbih0bXBFcnJvcikge1xuICAgICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9Ci0LXRhdC90LjRh9C10YHQutC40LUg0L3QtdC/0L7Qu9Cw0LTQutC4OiDQvdC1INGD0LTQsNC70L7RgdGMINC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyDQuiDRgdC10YDQstC10YDRgy4nKTtcblx0Y29uc29sZS5sb2coJ2FnZ2xvUmV0cmlldmVFcnJvcicsIHRtcEVycm9yKTtcblx0JHNjb3BlLmh0bWxSZWFkeSgpO1xuICAgICAgfSk7XG5cbiAgICAvLyBzaG93IGl0IHdpdGggNTAwbXMgZGVsYXlcbiAgICAkdGltZW91dChmdW5jdGlvbigpeyAgICAgIFxuICAgICAgJHNjb3BlLmlzX3ByZyA9IHRydWU7XG4gICAgfSwgNTAwKTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5XbGNDb250cm9sbGVyJywgW1xuICAgICd1aS5yb3V0ZXInLFxuICAgIC8vJ215QXBwLmFjY0ZhY3RvcnknLFxuICAgICdteUFwcC5ub3RpZkZhY3RvcnknLFxuICAgIC8vJ215QXBwLmZpcmVGYWN0b3J5JyxcbiAgICAnbXlBcHAuYWdnbG9SZXBvJyxcbiAgICAnbXlBcHAuaHByRmFjdG9yeScsXG4gICAgJ215QXBwLmxvY1JlcG8nLFxuICAgICdteUFwcC5wZXJtUmVwbycsXG4gICAgJ215QXBwLnNpdGVSZXBvJ1xuICBdKVxuXG4gICAgLmNvbnRyb2xsZXIoJ1dsY0NvbnRyb2xsZXInLCBbXG4gICAgICAnJHNjb3BlJyxcbiAgICAgICckc3RhdGUnLFxuICAgICAgJyRsb2cnLFxuICAgICAgJyRodHRwJyxcbiAgICAgICckdGltZW91dCcsXG4gICAgICAvLydhY2NGYWN0b3J5JyxcbiAgICAgICdub3RpZkZhY3RvcnknLFxuICAgICAgLy8nZmlyZUZhY3RvcnknLFxuICAgICAgJ2FnZ2xvUmVwbycsXG4gICAgICAnaHByRmFjdG9yeScsXG4gICAgICAnbG9jUmVwbycsXG4gICAgICAncGVybVJlcG8nLFxuICAgICAgJ3NpdGVSZXBvJyxcbiAgICAgIHhwb10pO1xufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBSZWRpcmVjdCB0byBzcGVjSXRlbSBmaXJlZCBieSBjbGlja2luZyBzZXJ2LWdyb3VwIGJ1dHRvbnM6XG4gKiAgICBzZXJ2LWdyb3Vwcy50cGwuaHRtbFxuICovXG4oZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHNjb3BlLFxuXHRcdCAgICAgJHRpbWVvdXQsXG5cdFx0ICAgICAkc3RhdGUsXG5cdFx0ICAgICBydWJyaWNSZXBvLFxuXHRcdCAgICAgbm90aWZGYWN0b3J5LFxuXHRcdCAgICAgYWdnbG9SZXBvLFxuXHRcdCAgICAgc2l0ZVJlcG8sXG5cdFx0ICAgICBxX2FnZ2xvX2ludGVyX2NvZGUpe1xuXG4gICAgc2l0ZVJlcG8uc2V0VGl0bGUoJHNjb3BlLmN1cl9hZ2dsby5sb2NhbF9uYW1lKTtcbiAgICBzaXRlUmVwby5zZXRQcmV2SHJlZigkc3RhdGUuaHJlZignYnl0LndlbGNvbWUnKSk7XG4gICAgXG4gICAgLy8gY29uc29sZS5sb2coJ2ludGVyY29kZScsIHFfYWdnbG9faW50ZXJfY29kZSk7XG4gICAgXG4gICAgLy9jb25zb2xlLmxvZygnY3VyYWdnbG8nLCAkc2NvcGUuY3VyX2FnZ2xvKTtcblxuICAgICRzY29wZS5ydWJyaWNfZGF0YSA9IHJ1YnJpY1JlcG8uZ2V0RGF0YSgpO1xuXG4gICAgLy8gdW5zZWxlY3QgYSBncm91cCwgdXNpbmcgdGhpcyBtZXRob2RcbiAgICAvLyBkbyBub3QgdXNlIGRpcmVjdCBudWxsaW5nIC0gaXQgZG9lc24ndCBjbGVhbiB0aGlzIGlkXG4gICAgLy8gdW5zZWxlY3QgYWxsIHNlcnZfcnVicmljczogZnJvbSBzZWxlY3RlZCBwYXJydWJyaWNcbiAgICBcblxuICAgIC8vIGFnZ2xvUmVwbyBpcyBhbHJlYWR5IGxvYWRlZCBmb3IgdGhpcyB2aWV3XG4gICAgLy8gICBpbiBhIHBhcmVudCBhZ2dsb0l0ZW1Db250cm9sbGVyXG4gICAgdmFyIHRtcEFnZ2xvID0gYWdnbG9SZXBvXG5cdCAgLmNhbGNCeUludGVyQ29kZShxX2FnZ2xvX2ludGVyX2NvZGUpO1xuICAgIFxuICAgIC8vIExvYWQgcnVicmljcyBhZnRlciBhZ2dsbyBpcyBzZWxlY3RlZDpcbiAgICAvLyAgIG1hbnVhbGx5IG9yIGF1dG9tYXRpY2FsbHkgICAgXG4gICAgLy8gY3VyX2FnZ2xvIGZyb20gYWdnbG9JdGVtQ29udHJvbGxlclxuICAgIC8vIFJlbW92ZSBpbmhlcml0IHBhcmFtZXRlcnM6XG4gICAgLy8gaW5qZWN0IG9yIGRlZmluZSBmcm9tIHVybCBhZ2FpblxuICAgIC8vIExvYWQgcnVicmljcyBvbmx5IGFmdGVyIGNpdHkgc2VsZWN0ZWRcbiAgICAvLyBzdGVwIGJ5IHN0ZXBcbiAgICBydWJyaWNSZXBvLnJldHJpZXZlRGF0YSh0bXBBZ2dsby5pZCwgXCJydVwiKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbm90aWZGYWN0b3J5LmVycm9yKCfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQutCw0YLQtdCz0L7RgNC40LknKTtcbiAgICBcdGNvbnNvbGUubG9nKGUpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KGZ1bmN0aW9uKCl7XG5cdCRzY29wZS5odG1sUmVhZHkoKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gc2hvdyBpdCB3aXRoIDUwMG1zIGRlbGF5XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXsgICAgICBcbiAgICAgICRzY29wZS5pc19wcmcgPSB0cnVlO1xuICAgIH0sIDUwMCk7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuU3BlY0xpc3RDb250cm9sbGVyJywgWyAgICBcbiAgICAnbXlBcHAucnVicmljUmVwbycsXG4gICAgJ215QXBwLm5vdGlmRmFjdG9yeScsXG4gICAgJ215QXBwLmFnZ2xvUmVwbycsXG4gICAgJ215QXBwLnNpdGVSZXBvJ1xuICBdKVxuXG4gICAgLmNvbnRyb2xsZXIoJ1NwZWNMaXN0Q29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICckc3RhdGUnLFxuICAgICAgJ3J1YnJpY1JlcG8nLFxuICAgICAgJ25vdGlmRmFjdG9yeScsXG4gICAgICAnYWdnbG9SZXBvJyxcbiAgICAgICdzaXRlUmVwbycsXG4gICAgICAncV9hZ2dsb19pbnRlcl9jb2RlJyxcbiAgICAgIHhwb10pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIC8vIGNpdGllcy9zcGIvc3BlY3MvOnNwZWNfaWRcbiAgLy8gaXQgaXMgaW50ZXJtZWRpYXRlIGxheWVyOiByZWRpcmVjdCB0byAvc2VydmljZXM/Ynk9eHh4XG4gIHZhciB4cG8gPSBmdW5jdGlvbigkc2NvcGUsXG5cdFx0ICAgICAkc3RhdGUsXG5cdFx0ICAgICAkdGltZW91dCxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIHJ1YnJpY1JlcG8sXG5cdFx0ICAgICBxX3NwZWNfaWQpe1xuXG4gICAgLy8gYWxyZWFkeSBjaGVja2VkIHBvc3NpYmxlIHZhbHVlcyBpbiBhIHJlc29sdmUgZnVuY3Rpb25cblxuICAgIC8vIHNlbGVjdCBiZXR3ZWVuXG4gICAgLy8gP2J5PW1hc3RlclxuICAgIC8vID9ieT1zYWxvblxuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBzZXJ2IGdyb3VwIChzcGVjKVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgJHNjb3BlLmN1cl9zcGVjID0gbnVsbDtcblxuICAgIC8vIGF0dGFjaCBhZnRlciByZXRyaWV2aW5nIGFsbCBzcGVjc1xuICAgIHZhciBhdHRhY2hTcGVjSXRlbSA9IGZ1bmN0aW9uKCl7XG4gICAgICAvLyBhdHRhY2ggYSBjbGVhbiBvYmplY3QgKHdpdGhvdXQgc2VsZWN0ZWQgcnVicmljcylcbiAgICAgIC8vIGF0dGFjaCBzZWxlY3RlZCBzZXJ2X2dyb3VwIChhZnRlciBsb2FkaW5nIGFsbCBncm91cHMpXG4gICAgICAkc2NvcGUuY3VyX3NwZWMgPSBydWJyaWNSZXBvXG5cdC5jYWxjU2Vydkdyb3VwQnlJZChxX3NwZWNfaWQpO1xuXG4gICAgICAvLyBodG1sIGhlcmUgaXMgbm90IHJlYWR5OiBpZiBhbiBhZGRyZXNzIHVybCBjb250YWluc1xuICAgICAgLy8gICB0aGlzIHR3byBsaW5rc1xuICAgICAgLy8gaWYgbm8gbGlua3MgaW4gYW4gYWRkcmVzcyB1cmxcbiAgICAgIC8vICAgc2hvdyB0d28gbGlua3M6XG4gICAgICAvLyAvc2VydmljZXM/Ynk9bWFzdGVyXG4gICAgICAvLyAvc2Fsb25zXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNob3cgcnVicmljcyBmb3IgcnVicmljSXRlbSB2aWV3LFxuICAgICAqICAgIGhpZGUgLSBmb3IgYSBtYXAgdmlld1xuICAgICAqL1xuICAgICRzY29wZS5pc19zaG93X3J1YnJpY3MgPSAkc3RhdGUuJGN1cnJlbnQubmFtZSA9PT0gJ2J5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0ucnVicmljSXRlbSc7XG4gICAgLy8gICAgY29uc29sZS5sb2coKTtcblxuICAgICRzY29wZS5vblRhYlNlbGVjdGVkID0gZnVuY3Rpb24oc2Vydl9ydWJyaWNfaWQpe1xuICAgICAgLy8gY29uc29sZS5sb2coaW5kKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCRzY29wZS5zbGNfcnVicmljX2luZGV4KTtcbiAgICAgICRzdGF0ZS5nbyhcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0ucnVicmljSXRlbVwiLCB7XG5cdGFnZ2xvX2ludGVyX2NvZGU6ICRzY29wZS5jdXJfYWdnbG8uaW50ZXJfY29kZSxcblx0c3BlY19pZDogJHNjb3BlLmN1cl9zcGVjLmlkLFxuXHRydWJyaWNfaWQ6IHNlcnZfcnVicmljX2lkIC8vICdydWJyaWNfaWQnIG9yICdhbGwnXG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIC8vIHZhcmlhbnQ6IGxvYWQgb25seSBvbmUgcnVicmljICh3aXRoIHN0YXRpc3RpYykgYnkgcV9zcGVjX2lkXG4gICAgcnVicmljUmVwby5yZXRyaWV2ZURhdGEoJHNjb3BlLmN1cl9hZ2dsby5pZCwgXCJydVwiKVxuICAgICAgLnRoZW4oYXR0YWNoU3BlY0l0ZW0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24oZSkge1xuICAgICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INC60LDRgtC10LPQvtGA0LjQuScpO1xuXHRjb25zb2xlLmxvZyhlKTtcblx0JHNjb3BlLmh0bWxSZWFkeSgpO1xuICAgICAgfSk7XG5cbiAgICAvLyB1bnNlbGVjdCBhIGdyb3VwIC0gcmVkaXJlY3QgYmFjayBmcm9tIC86c3BlY19pZFxuICAgIC8vIHNob3cgaXQgd2l0aCA1MDBtcyBkZWxheVxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7ICAgICAgXG4gICAgICAkc2NvcGUuaXNfcHJnID0gdHJ1ZTtcbiAgICB9LCA1MDApO1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLlNwZWNJdGVtQ29udHJvbGxlcicsIFtcbiAgICAnbXlBcHAubm90aWZGYWN0b3J5JyxcbiAgICAnbXlBcHAucnVicmljUmVwbydcbiAgXSlcblxuICAgIC5jb250cm9sbGVyKCdTcGVjSXRlbUNvbnRyb2xsZXInLCBbXG4gICAgICAnJHNjb3BlJyxcbiAgICAgICckc3RhdGUnLFxuICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICdub3RpZkZhY3RvcnknLFxuICAgICAgJ3J1YnJpY1JlcG8nLFxuICAgICAgJ3Ffc3BlY19pZCcsXG4gICAgICB4cG9cbiAgICBdKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgQVBQQ09ORikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRodHRwLCAkcSkge1xuXG4gICAgdmFyIGdpc19wYXJhbXMgPSB7XG4gICAgICBrZXk6IEFQUENPTkYuQVBJQ09NX0tFWSxcbiAgICAgIHZlcnNpb246IEFQUENPTkYuQVBJQ09NX1ZFUlNJT05cbiAgICAgIC8vIGlkXG4gICAgICAvLyBoYXNoXG4gICAgfTtcblxuICAgIHZhciBjYmtSZXEgPSBmdW5jdGlvbihyKSB7XG5cbiAgICAgIGlmIChyLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoJ9Ce0YjQuNCx0LrQsCDQt9Cw0L/RgNC+0YHQsCcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXIuZGF0YSkge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KCfQntGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy92YXIgZGZyID0gJHEuZGVmZXIoKTtcbiAgICAgIC8vaHR0cDovL2FwaS4yZ2lzLnJ1L2RvYy9maXJtcy9yZXNwb25zZS1jb2RlcyNyZXNwb25zZXNcbiAgICAgIGlmIChyLmRhdGEucmVzcG9uc2VfY29kZSA9PT0gJzQwNCcpIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgn0J3QtSDQvdCw0LnQtNC10L3QviDQuNC90YTQvtGA0LzQsNGG0LjQuCDQv9C+INGB0LDQu9C+0L3RgycpO1xuICAgICAgICAvLyBkZnIucmVzb2x2ZShudWxsKTtcbiAgICAgICAgLy8gcmV0dXJuO1xuICAgICAgICAvLyAvL3JldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAoci5kYXRhLnJlc3BvbnNlX2NvZGUgIT09ICcyMDAnKSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/QvtC70YPRh9C10L3QuNC4INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INGB0LDQu9C+0L3QtScpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiBzdWNjZXNzIC0gcmVnaXN0ZXIgYSB2aWV3XG4gICAgICAvLyBhdCB0aGlzIG1vbWVudCBvbmx5IGZvciBhbiBpbmRleC5odG1sIHBhZ2VcbiAgICAgIGlmICh3aW5kb3cuREcpIHtcblx0d2luZG93LkRHLmFwaXRyYWNrZXIucmVnQkMoci5kYXRhLnJlZ2lzdGVyX2JjX3VybCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiByLmRhdGE7XG4gICAgfTtcblxuICAgIC8vaHR0cDovL2FwaS4yZ2lzLnJ1L2RvYy9maXJtcy9wcm9maWxlcy9wcm9maWxlL1xuICAgIHZhciBsb2FkRmlybSA9IGZ1bmN0aW9uKGlkLCBmaWxpYWxIYXNoKSB7XG4gICAgICBnaXNfcGFyYW1zWydpZCddID0gaWQ7XG4gICAgICBnaXNfcGFyYW1zWydoYXNoJ10gPSBmaWxpYWxIYXNoO1xuICAgICAgXG4gICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IEFQUENPTkYuQVBJQ09NX0VORFBPSU5UICsgJy9wcm9maWxlJyxcbiAgICAgICAgcGFyYW1zOiBnaXNfcGFyYW1zXG4gICAgICB9KS50aGVuKGNia1JlcSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBsb2FkRmlybTogbG9hZEZpcm1cbiAgICB9O1xuXG4gIH07XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmZpcm1JdGVtRmFjdG9yeScsIFtdKVxuXG4gICAgLmZhY3RvcnkoJ2Zpcm1JdGVtRmFjdG9yeScsIFtcbiAgICAgICckaHR0cCcsXG4gICAgICAnJHEnLFxuICAgICAgeHBvXG4gICAgXSk7XG5cbn0od2luZG93LmFuZ3VsYXIsIHdpbmRvdy5BUFBDT05GKSk7XG4iLCIvKipcbiAqIGh0dHA6Ly9hcGkuMmdpcy5ydS9kb2MvZmlybXMvc2VhcmNoZXMvc2VhcmNoXG4gKiBib3VuZFtwb2ludDFdPTM3LjQzMiw1NS44MzYmYm91bmRbcG9pbnQyXT0zNy42MzMsNTUuNjM3XG4gKiDQsiDRgdC40YHRgtC10LzQtSDQutC+0L7RgNC00LjQvdCw0YIgV0dTODQuXG4gKiBib3VuZDoge3AxOiAxMjMsIHAyOiAyMzM0fSB0cmFuc2xhdGVzIHRvICh1c2luZyAkaHR0cClcbiAqIFwiVVJMOmh0dHA6Ly95YS5ydS8/Ym91bmQ9e1wicG9pbnQxXCI6XCIxMjNcIixcInBvaW50MlwiOlwiMjM0XCJ9JnNvbWU9dmFsXCJcbiAqIGh0dHA6Ly9jYXRhbG9nLmFwaS4yZ2lzLnJ1L3NlYXJjaD9rZXk9cnVjZ3NnMDY4MyZ2ZXJzaW9uPTEuMyZ3aGF0PSVEMCU5RiVEMCVCMCVEMSU4MCVEMCVCOCVEMCVCQSVEMCVCQyVEMCVCMCVEMSU4NSVEMCVCNSVEMSU4MCZib3VuZCU1QnBvaW50MSU1RD0zNy40MzIsNTUuODM2JmJvdW5kJTVCcG9pbnQyJTVEPTM3LjYzMyw1NS42MzdcbiAqL1xuXG4oZnVuY3Rpb24oYW5ndWxhciwgQVBQQ09ORikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRodHRwLCAkcSkge1xuXG4gICAgdmFyIGdpc19wYXJhbXMgPSB7XG4gICAgICBrZXk6IEFQUENPTkYuQVBJQ09NX0tFWSxcbiAgICAgIHZlcnNpb246IEFQUENPTkYuQVBJQ09NX1ZFUlNJT04sXG4gICAgICBzb3J0OiAnZGlzdGFuY2UnLFxuICAgICAgcGFnZTogMSxcbiAgICAgIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INGA0LXQt9GD0LvRjNGC0LDRgtC+0LIg0L/QvtC40YHQutCwLCDQstGL0LLQvtC00LjQvNGL0YUg0L3QsCDQvtC00L3QvtC5INGB0YLRgNCw0L3QuNGG0LVcbiAgICAgIC8vINCX0L3QsNGH0LXQvdC40LUg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y46IDIwLiDQntCz0YDQsNC90LjRh9C10L3QuNC1OiDQvtGCIDUg0LTQviA1MC5cbiAgICAgIC8vIGh0dHA6Ly9hcGkuMmdpcy5ydS9kb2MvZmlybXMvc2VhcmNoZXMvc2VhcmNoL1xuICAgICAgLy8gVXN1YWxseSBhIHBhZ2UgY29udGFpbnMgbmVhcmVzdCA1MCdzIG9iamVjdHNcbiAgICAgIC8vIERvIG5vdCBsb2FkIGNvbXBhbmllcywgaWYgem9vbSA8IDE0IC0gbm90aGluZyB0byBzaG93XG4gICAgICBwYWdlc2l6ZTogNTAsXG4gICAgICB3aGF0OiAnJ1xuICAgIH07XG4gICAgXG4gICAgdmFyIGNia1JlcSA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgIGlmIChyLnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoJ9Ce0YjQuNCx0LrQsCDQt9Cw0L/RgNC+0YHQsCcpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXIuZGF0YSkge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KCfQntGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAnKTtcbiAgICAgIH1cblxuICAgICAgLy9odHRwOi8vYXBpLjJnaXMucnUvZG9jL2Zpcm1zL3Jlc3BvbnNlLWNvZGVzI3Jlc3BvbnNlc1xuICAgICAgaWYgKHIuZGF0YS5yZXNwb25zZV9jb2RlID09PSAnNDA0Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRvdGFsOiAwLFxuICAgICAgICAgIG1hcmtlcnM6IFtdXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChyLmRhdGEucmVzcG9uc2VfY29kZSAhPT0gJzIwMCcpIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgn0J7RiNC40LHQutCwINC30LDQv9GA0L7RgdCwJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvdGFsOiBwYXJzZUludChyLmRhdGEudG90YWwsIDEwKSxcbiAgICAgICAgcmVzdWx0OiByLmRhdGEucmVzdWx0XG4gICAgICB9O1xuICAgIH07XG5cbiAgICAvLyByYWRpdXMgYnkgZGVmYXVsdCA9IDI1MCBtZXRlcnMsIG1heDogNDBrbSwgbWluOiAxbVxuICAgIHZhciBsb2FkRmlybXNCeVBvaW50ID0gZnVuY3Rpb24ocnVicmljTmFtZSxcblx0XHRcdFx0ICAgIGxvbjEsXG5cdFx0XHRcdCAgICBsYXQxLFxuXHRcdFx0XHQgICAgcmFkaXVzKSB7XG4gICAgICBcbiAgICAgIGdpc19wYXJhbXNbJ3doYXQnXSA9IHJ1YnJpY05hbWU7XG4gICAgICBnaXNfcGFyYW1zWydwb2ludCddID0gbG9uMS50b1N0cmluZygpICtcblx0JywnICsgbGF0MS50b1N0cmluZygpO1xuICAgICAgZ2lzX3BhcmFtc1sncmFkaXVzJ10gPSByYWRpdXM7XG5cbiAgICAgIHJldHVybiAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIHVybDogQVBQQ09ORi5BUElDT01fRU5EUE9JTlQgKyAnL3NlYXJjaCcsXG4gICAgICAgIHBhcmFtczogZ2lzX3BhcmFtc1xuICAgICAgfSkudGhlbihjYmtSZXEpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgLy8gbG9hZEZpcm1zQnlCb3VuZDogbG9hZEZpcm1zQnlCb3VuZCxcbiAgICAgIGxvYWRGaXJtc0J5UG9pbnQ6IGxvYWRGaXJtc0J5UG9pbnRcbiAgICB9O1xuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5maXJtTGlzdEZhY3RvcnknLCBbXSlcblxuICAgIC5mYWN0b3J5KCdmaXJtTGlzdEZhY3RvcnknLCBbJyRodHRwJyxcblx0XHRcdFx0ICckcScsXHRcdFx0XHRcblx0XHRcdFx0IHhwb10pO1xuXG59KHdpbmRvdy5hbmd1bGFyLCB3aW5kb3cuQVBQQ09ORikpO1xuXG4vLyAvKipcbi8vICogQ29udmVydCBHSVMgaXRlbSB0byBHZW9KU09OXG4vLyAqL1xuLy8gdmFyIGl0ZW1Ub01hcmtlciA9IGZ1bmN0aW9uKGl0ZW0pIHtcbi8vICAgcmV0dXJuIHtcbi8vICAgICBsYXQ6IHBhcnNlRmxvYXQoaXRlbS5sYXQpLFxuLy8gICAgIGxuZzogcGFyc2VGbG9hdChpdGVtLmxvbiksXG4vLyAgICAgbWVzc2FnZTogJzxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiB5ZWxsb3dcIj4nICsgaXRlbS5uYW1lICsgJzwvZGl2Pidcbi8vICAgICAvLyBtZXNzYWdlOiBpdGVtLm5hbWUsXG4vLyAgICAgLy8gY2xpY2s6IGZ1bmN0aW9uKCkge1xuLy8gICAgIC8vICAgYWxlcnQoJ2FzZGYnKTtcbi8vICAgICAvLyB9XG4vLyAgIH07XG4vLyB9O1xuXG4vLyBlLmcuOiBib3VuZCBjb29yZHM6IDM3LjQzMiwgNTUuODM2LCAzNy42MzMsIDU1LjYzN1xuLy8gdmFyIGxvYWRGaXJtc0J5Qm91bmQgPSBmdW5jdGlvbihydWJyaWNOYW1lLCBsb24xLCBsYXQxLCBsb24yLCBsYXQyKSB7XG4vLyAgIGdpc19wYXJhbXNbJ2JvdW5kW3BvaW50MV0nXSA9IGxvbjEudG9TdHJpbmcoKSArICcsJyArIGxhdDEudG9TdHJpbmcoKTtcbi8vICAgZ2lzX3BhcmFtc1snYm91bmRbcG9pbnQyXSddID0gbG9uMi50b1N0cmluZygpICsgJywnICsgbGF0Mi50b1N0cmluZygpO1xuLy8gICBnaXNfcGFyYW1zWyd3aGF0J10gPSBydWJyaWNOYW1lO1xuXG4iLCIvKipcbiAqIEJ5IGRlZmF1bHQsIGdldEN1cnJlbnRQb3NpdGlvbigpIHRyaWVzIHRvIGFuc3dlciBhcyBmYXN0IGFzIHBvc3NpYmxlIFxuICogd2l0aCBhIGxvdyBhY2N1cmFjeSByZXN1bHQuIEl0IGlzIHVzZWZ1bCBpZiB5b3UgbmVlZCBhIHF1aWNrIGFuc3dlciBcbiAqIHJlZ2FyZGxlc3Mgb2YgdGhlIGFjY3VyYWN5LiBEZXZpY2VzIHdpdGggYSBHUFMsIGZvciBleGFtcGxlLCBcbiAqIGNhbiB0YWtlIGEgbWludXRlIG9yIG1vcmUgdG8gZ2V0IGEgR1BTIGZpeCwgXG4gKiBzbyBsZXNzIGFjY3VyYXRlIGRhdGEgKElQIGxvY2F0aW9uIG9yIHdpZmkpIFxuICogbWF5IGJlIHJldHVybmVkIHRvIGdldEN1cnJlbnRQb3NpdGlvbigpLlxuICovXG5cbihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHEsICRsb2cpIHsgLy8sICRodHRwXG5cbiAgICAvLyB2YXIgdHJ5VG9JcCA9IGZ1bmN0aW9uKGRmcikge1xuXG4gICAgLy8gICB2YXIgY2JrU3VjY2VzcyA9IGZ1bmN0aW9uKGlwQ29vcmRzKSB7IC8vIHN0YXR1cywgY29uZmlnXG4gICAgLy8gICAgIC8vYWxlcnQoSlNPTi5zdHJpbmdpZnkoaXBDb29yZHMpKTtcbiAgICAvLyAgICAgZGZyLnJlc29sdmUoe1xuICAgIC8vICAgICAgIGxhdGl0dWRlOiBpcENvb3Jkcy5sYXRpdHVkZSxcbiAgICAvLyAgICAgICBsb25naXR1ZGU6IGlwQ29vcmRzLmxvbmdpdHVkZSxcbiAgICAvLyAgICAgICAvLyBjaXR5OiBpcENvb3Jkcy5jaXR5LCB1c3VhbGx5IGl0IGlzIHVuZGVmaW5lZFxuICAgIC8vICAgICAgIGFjY3VyYWN5OiAxMDAwMDAgLy8gMTAwa21cbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICB9O1xuXG4gICAgLy8gICB2YXIgY2JrRXJyb3IgPSBmdW5jdGlvbihlcnIpIHtcbiAgICAvLyAgICAgJGxvZy5sb2coZXJyKTtcbiAgICAvLyAgICAgZGZyLnJlamVjdCgn0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINC80LXRgdGC0L7Qv9C+0LvQvtC20LXQvdC40LUnKTtcbiAgICAvLyAgIH07XG5cbiAgICAvLyAgICRodHRwLmdldCgnLy9mcmVlZ2VvaXAubmV0L2pzb24vJylcbiAgICAvLyAgICAgLnN1Y2Nlc3MoY2JrU3VjY2VzcylcbiAgICAvLyAgICAgLmVycm9yKGNia0Vycm9yKTtcbiAgICAvLyB9O1xuXG4gICAgdmFyIGdldEN1ckNvb3JkcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRmciA9ICRxLmRlZmVyKCk7XG4gICAgICAvLyBhdCB0aGlzIG1vbWVudCBvbmx5IGlwXG4gICAgICAvLyB0cnlUb0lwKGRmcik7XG4gICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvR2VvbG9jYXRpb24vVXNpbmdfZ2VvbG9jYXRpb25cbiAgICAgIGlmIChcImdlb2xvY2F0aW9uXCIgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICBkZnIucmVzb2x2ZShwb3NpdGlvbi5jb29yZHMpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAvL3RyeVRvSXAoZGZyKTtcbiAgICAgICAgICAkbG9nLmxvZygnZ2VvbG9jIGVycm9yJywgZXJyKTtcbiAgICAgICAgICBkZnIucmVqZWN0KCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0YLQtdC60YPRidC10LUg0LzQtdGB0YLQvtC/0L7Qu9C+0LbQtdC90LjQtScpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgdGltZW91dDogMTAwMDAgLy8gMnNlYyAtIHRvbyBtYW55IGZvciBtb2JpbGUgZGV2aWNlcyBpbiBzb21lIGNhc2VzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIHRyeVRvSXAoZGZyKTtcbiAgICAgICAgLy8gJGxvZy5sb2coJ2dlb2xvYyBlcnJvcicsICdnZW9sb2NhdGlvbiBpcyBub3QgZm91bmQgaW4gbmF2aWdhdG9yJyk7XG4gICAgICAgIGRmci5yZWplY3QoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC70YPRh9C40YLRjCDRgtC10LrRg9GJ0LXQtSDQvNC10YHRgtC+0L/QvtC70L7QttC10L3QuNC1Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFRPRE86IC8vbGZsLkdlb0lQLmNlbnRlck1hcE9uUG9zaXRpb24obWFwLCAxNSk7XG4gICAgICByZXR1cm4gZGZyLnByb21pc2U7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRDdXJDb29yZHM6IGdldEN1ckNvb3Jkc1xuICAgIH07XG4gIH07XG5cblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuZ2VvbG9jRmFjdG9yeScsIFtdKVxuXG4gICAgLmZhY3RvcnkoJ2dlb2xvY0ZhY3RvcnknLCBbXG4gICAgICAnJHEnLFxuICAgICAgJyRsb2cnLFxuICAgICAgLy8nJGh0dHAnLFxuICAgICAgeHBvXSk7XG5cbn0od2luZG93LmFuZ3VsYXIpKTtcblxuLy8gdmFyIHAgPSB7XG4vLyAgIFwiaXBcIjogXCJcIixcbi8vICAgXCJjb3VudHJ5X2NvZGVcIjogXCJSVVwiLFxuLy8gICBcImNvdW50cnlfbmFtZVwiOiBcIlJ1c3NpYVwiLFxuLy8gICBcInJlZ2lvbl9jb2RlXCI6IFwiXCIsXG4vLyAgIFwicmVnaW9uX25hbWVcIjogXCJcIixcbi8vICAgXCJjaXR5XCI6IFwiXCIsXG4vLyAgIFwiemlwX2NvZGVcIjogXCJcIixcbi8vICAgXCJ0aW1lX3pvbmVcIjogXCJFdXJvcGUvTW9zY293XCIsXG4vLyAgIFwibGF0aXR1ZGVcIjogMTIzLFxuLy8gICBcImxvbmdpdHVkZVwiOiAxMjMuMjM0LFxuLy8gICBcIm1ldHJvX2NvZGVcIjogMFxuLy8gfTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIHJldHVybiBhbmd1bGFyLm1vZHVsZSgnYW5ndXBoYW50b20nLCBbXSlcbiAgICAucnVuKFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcblxuICAgICAgdmFyIGNia1RpbWVPdXQgPSBmdW5jdGlvbigpIHtcblx0Ly8gZmlyZSBhZnRlciBET00gcmVuZGVyaW5nXG5cdGlmICh0eXBlb2Ygd2luZG93LmNhbGxQaGFudG9tID09PSAnZnVuY3Rpb24nKSB7XG5cdCAgd2luZG93LmNhbGxQaGFudG9tKHtcblx0ICAgIFwiYXBwUmVzdWx0XCI6IFwiY2xpZW50RmluaXNoZWRcIlxuXHQgIH0pO1xuXHQgIGNvbnNvbGUubG9nKFwiY2FsbFBoYW50b21Gcm9tQ2xpZW50XCIpO1xuXHR9XG5cdGNvbnNvbGUubG9nKCdodG1sUmVhZHknKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHZhciBjYmtFdmFsQXN5bmMgPSBmdW5jdGlvbigpIHtcblx0Ly8gZmlyZSBhZnRlciAkZGlnZXN0XG5cdHdpbmRvdy5zZXRUaW1lb3V0KGNia1RpbWVPdXQsIDApO1xuICAgICAgfTtcbiAgICAgIFxuICAgICAgJHJvb3RTY29wZS5odG1sUmVhZHkgPSBmdW5jdGlvbigpIHtcblx0JHJvb3RTY29wZS4kZXZhbEFzeW5jKGNia0V2YWxBc3luYyk7XG4gICAgICB9O1xuICAgIH1dKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG5cbi8vIGlmICh3aW5kb3cuY2FsbFBoYW50b20pe1xuLy8gICB3aW5kb3cuY2FsbFBoYW50b20oe1wiYXBwUmVzdWx0XCI6IFwidG1wRmluaXNoZWRcIn0pO1xuLy8gfVxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuZHJjdCcsIFtcbiAgICAnbXlBcHAuc2Nyb2xsUmVwbydcbiAgXSlcbiAgXG4gICAgLmRpcmVjdGl2ZSgnb25GaW5pc2hSZW5kZXInLCBbXG4gICAgICAnJHRpbWVvdXQnLFxuICAgICAgZnVuY3Rpb24gKCR0aW1lb3V0KSB7XG5cdHJldHVybiB7XG5cdCAgcmVzdHJpY3Q6ICdBJyxcblx0ICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcblx0ICAgIGlmIChzY29wZS4kbGFzdCA9PT0gdHJ1ZSkge1xuXHQgICAgICBjb25zb2xlLmxvZygnb25GaW5pc2hSZW5kZXI6bGFzdCcsIHNjb3BlLiRpbmRleCk7XG5cdCAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRzY29wZS4kZW1pdChhdHRyW1wib25GaW5pc2hSZW5kZXJcIl0pO1xuXHQgICAgICB9KTtcblx0ICAgIH1cblx0ICB9XG5cdH07XG4gICAgICB9XSlcblxuICAgIC5kaXJlY3RpdmUoXCJzY3JvbGxXYXRjaGVyXCIsIFtcbiAgICAgICdzY3JvbGxSZXBvJyxcbiAgICAgIGZ1bmN0aW9uIChzY3JvbGxSZXBvKSB7XG5cdFxuXHRyZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW0pIHsgLy8gLCBhdHRyc1xuXHQgIHZhciByYXcgPSBlbGVtWzBdO1xuXHQgIFxuXHQgIGVsZW0uYmluZCgnc2Nyb2xsJywgZnVuY3Rpb24oKXtcblx0ICAgIHNjcm9sbFJlcG8uc2V0UG9zKHJhdy5zY3JvbGxUb3ApO1xuXHQgICAgc2NvcGUuJGFwcGx5KCk7XG5cdCAgLy8gIGNvbnNvbGUubG9nKHJhdy5zY3JvbGxUb3ApO1xuXHQgIH0pO1xuXHQgIC8vIFx0YW5ndWxhci5lbGVtZW50KCR3aW5kb3cpLmJpbmQoXCJzY3JvbGxcIixcblx0ICAvLyBmdW5jdGlvbigpe1xuXHQgIC8vIFx0ICBpZiAodGhpcy5wYWdlWU9mZnNldCA+PSAxMDApIHtcblx0ICAvLyBcdCAgICBzY29wZS5ib29sQ2hhbmdlQ2xhc3MgPSB0cnVlO1xuXHQgIC8vIFx0ICAgIGNvbnNvbGUubG9nKCdTY3JvbGxlZCBiZWxvdyBoZWFkZXIuJyk7XG5cdCAgLy8gXHQgIH0gZWxzZSB7XG5cdCAgLy8gXHQgICAgc2NvcGUuYm9vbENoYW5nZUNsYXNzID0gZmFsc2U7XG5cdCAgLy8gXHQgICAgY29uc29sZS5sb2coJ0hlYWRlciBpcyBpbiB2aWV3LicpO1xuXHQgIC8vIFx0ICB9XG5cdCAgLy8gXHQgIHNjb3BlLiRhcHBseSgpO1xuXHQgIC8vIFx0fSk7XG5cdH07XG4gICAgICB9XSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIGdlb2xpYikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLyoqXG4gICAqIEZyb20gV0tUIHN0cmluZyB0byBhcnIgb2YgY29vcmRzXG4gICAqICAgICAgdXNlIHJpZ2h0IG9yZGVyIG9mIHBvbHlnb25cbiAgICogQHBhcmFtIHtTdHJpbmd9IHdrdFN0cmluZyAtIFBPTFlHT04oKC4uLikpXG4gICAqIEByZXR1cm5zIHtBcnJheX1cbiAgICogW3tsYXRpdHVkZTogNTEuNTAsIGxvbmdpdHVkZTogNy40MH0sXG4gICAqIHtsYXRpdHVkZTogNTEuNTU1LCBsb25naXR1ZGU6IDcuNDB9LFxuICAgKiB7bGF0aXR1ZGU6IDUxLjU1NSwgbG9uZ2l0dWRlOiA3LjYyNX0sXG4gICAqIHtsYXRpdHVkZTogNTEuNTEyNSwgbG9uZ2l0dWRlOiA3LjYyNX0gXVxuICAgKi9cbiAgdmFyIGNvbnZlcnRXa3RUb0FyciA9IGZ1bmN0aW9uKHdrdCkge1xuICAgIC8vIHNraXAgUE9MWUdPTigoLi4pKVxuICAgIHdrdCA9IHdrdC5zdWJzdHIoOSwgd2t0Lmxlbmd0aCAtIDExKTtcbiAgICB2YXIgYXJyV2t0ID0gd2t0LnNwbGl0KCcsJyk7XG4gICAgcmV0dXJuIGFycldrdC5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGF0aXR1ZGU6IHBhcnNlRmxvYXQoaXRlbS5zcGxpdCgnICcpWzFdKSxcbiAgICAgICAgbG9uZ2l0dWRlOiBwYXJzZUZsb2F0KGl0ZW0uc3BsaXQoJyAnKVswXSlcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29vcmRzIGluIHNvbWUgcG9seWdvbiAoaW4gV0tUIGZvcm1hdCBzdHJpbmcpXG4gICAgICogQHBhcmFtIHtTdGlybmd9IHdrdCAtIHN0cmluZ1xuICAgICAqICAgICAgICBQT0xZR09OKCg3Ni43MjU5OTU1NTI0NTY1NjcgNDMuNDY5MTA2MjcyODQzODQ1LDc3LjEwODQwMDMxMDM5NzI0NFxuICAgICAqICAgICAgICA0My40NjI2OTI0Mjk1NDk3MDUsNzcuMDk2MTgyMzE4MDk2MDI3IDQzLjEwODA1MTIyOTgxNjY5NSxcbiAgICAgKiAgICAgICAgNzYuNzE1OTkwNjA3OTQ1ODU1IDQzLjExNDM4NjUzOTk4NTEyNixcbiAgICAgKiAgICAgICAgNzYuNzI1OTk1NTUyNDU2NTY3IDQzLjQ2OTEwNjI3Mjg0Mzg0NSkpXG4gICAgICovXG4gICAgdmFyIGlzUG9pbnRJbnNpZGVXa3QgPSBmdW5jdGlvbih3a3QsIGxhdGl0dWRlLCBsb25naXR1ZGUpIHtcbiAgICAgIHJldHVybiBnZW9saWIuaXNQb2ludEluc2lkZSh7XG4gICAgICAgIGxhdGl0dWRlOiBsYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlOiBsb25naXR1ZGVcbiAgICAgIH0sIGNvbnZlcnRXa3RUb0Fycih3a3QpKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBmaW5kQWdnbG9CeUNvb3JkcyA9IGZ1bmN0aW9uKGFyckFnZ2xvLCBsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gICAgICAvLyBpZiAoIWFnZ2xvQ29kZSkge1xuICAgICAgLy8gICByZXR1cm4gbnVsbDtcbiAgICAgIC8vIH1cbiAgICAgIC8vIGFnZ2xvQ29kZSA9IGFnZ2xvQ29kZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgLy8gaXRlbS5hY3R1YWxfZXh0ZW50ID0gd2t0IGNvb3JkaW5hdGVzIHBvbHlnb25lXG4gICAgICBhbmd1bGFyLmZvckVhY2goYXJyQWdnbG8sIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMzg0Mzk3Mi9hbmd1bGFyLWpzLWJyZWFrLWZvcmVhY2hcbiAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICBpZiAoaXNQb2ludEluc2lkZVdrdChpdGVtLmV4dGVudCwgbGF0aXR1ZGUsIGxvbmdpdHVkZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW07XG4gICAgICAgICAgICAvLyBpZiAodmFsLmNvZGUgPT09IGFnZ2xvQ29kZSkge1xuICAgICAgICAgICAgLy8gICByZXN1bHQgPSB2YWw7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlzUG9pbnRJbnNpZGVXa3Q6IGlzUG9pbnRJbnNpZGVXa3QsXG4gICAgICBjb252ZXJ0V2t0VG9BcnI6IGNvbnZlcnRXa3RUb0FycixcbiAgICAgIGZpbmRBZ2dsb0J5Q29vcmRzOiBmaW5kQWdnbG9CeUNvb3Jkc1xuICAgIH07XG4gIH07XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmdlb0hlbHBlcicsIFtdKVxuXG4gIC5mYWN0b3J5KCdnZW9IZWxwZXInLCBbeHBvXSk7XG5cbn0od2luZG93LmFuZ3VsYXIsIHdpbmRvdy5nZW9saWIpKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gcmFuZG9tSW50RnJvbUludGVydmFsKG1pbiwgbWF4KSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpICsgbWluKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBhbGwgZWxlbWVudHMgb2YgYSAxLXN0IGFycmF5IGV4aXN0IGluIGEgc2Vjb25kIGFycmF5XG4gICAgICogQXJyYXkgb2Ygc3RyaW5ncyBvciBudW1iZXJzXG4gICAgICogWzUsN10gaW4gWzIsNywzLDgsNV0gPSB0cnVlXG4gICAgICogWydhJywgJ2UnXSBpbiBbJ3cnLCAnYiddID0gZmFsc2VcbiAgICAgKiBbXSBpbiBbMiw2LDddID0gdHJ1ZVxuICAgICAqIFs0LDddIGluIFtdID0gZmFsc2VcbiAgICAgKiBXb3JrcyBvbmx5IHdpdGggc29ydGVkIGFycmF5c1xuICAgICAqL1xuICAgIHZhciBpc0FyckluQXJyID0gZnVuY3Rpb24oYTEsIGEyKSB7XG4gICAgICBpZiAoYTEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGEyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGExLnNvcnQoKTtcbiAgICAgIGEyLnNvcnQoKTtcblxuICAgICAgLy8gWzUsN10gaW4gWzIsNCw1LDcsOF1cbiAgICAgIC8vIF81XzdfIGluIF8yXzRfNV83XzhfIChvciB8IGFzIGEgc2VwYXJhdG9yOiBtb3N0IG5vdCB1c2VkKVxuICAgICAgcmV0dXJuICgnfCcgKyBhMi5qb2luKCd8JykgKyAnfCcpLmluZGV4T2YoJ3wnICsgYTEuam9pbignfCcpICsgJ3wnKSA+PSAwO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIGFuIGVsZW1lbnQgb2YgYW4gYXJyYXkgYnkgdmFsdWUgb2Ygc29tZSBwcm9wZXJ0eVxuICAgICAqL1xuICAgIHZhciBmaW5kRWxlbUJ5UHJvcCA9IGZ1bmN0aW9uKGFyciwgcHJvcE5hbWUsIHByb3BWYWwpIHtcbiAgICAgIHZhciBlbGVtZW50UG9zID0gYXJyLm1hcChmdW5jdGlvbih4KSB7XG4gICAgICAgIHJldHVybiB4W3Byb3BOYW1lXTtcbiAgICAgIH0pLmluZGV4T2YocHJvcFZhbCk7XG4gICAgICByZXR1cm4gYXJyW2VsZW1lbnRQb3NdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBXS1QgUE9JTlQoMTIzMTIzLjEyIDQ0MjM1My4zNDYzKSBcbiAgICAgKiAgIHRvIHtsb25naXR1ZGU6MTIzLCBsYXRpdHVkZTogNDQyfVxuICAgICAqL1xuICAgIHZhciBjb29yZHNGcm9tV2t0UG9pbnQgPSBmdW5jdGlvbih3a3RQb2ludCl7XG4gICAgICB3a3RQb2ludCA9IHdrdFBvaW50LnN1YnN0cig2LCB3a3RQb2ludC5sZW5ndGggLSA3KTtcbiAgICAgIHZhciB0bXBBcnIgPSB3a3RQb2ludC5zcGxpdCgnICcpO1xuICAgICAgLy9jb25zb2xlLmxvZyh0bXBBcnIpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbG9uZ2l0dWRlOiBwYXJzZUZsb2F0KHRtcEFyclswXSksXG5cdGxhdGl0dWRlOiBwYXJzZUZsb2F0KHRtcEFyclsxXSlcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBmaW5kRWxlbUJ5UHJvcDogZmluZEVsZW1CeVByb3AsXG4gICAgICBpc0FyckluQXJyOiBpc0FyckluQXJyLFxuICAgICAgcmFuZG9tSW50RnJvbUludGVydmFsOiByYW5kb21JbnRGcm9tSW50ZXJ2YWwsXG4gICAgICBjb29yZHNGcm9tV2t0UG9pbnQ6IGNvb3Jkc0Zyb21Xa3RQb2ludFxuICAgIH07XG4gIH07XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmhwckZhY3RvcnknLCBbXSlcblxuICAuZmFjdG9yeSgnaHByRmFjdG9yeScsIFt4cG9dKTtcblxufSh3aW5kb3cuYW5ndWxhcikpO1xuIiwiLyoqXG4gKiBTYXZlcywgcmV0cmlldmVzIGFuZCByZW1vdmVzIGRhdGEgZnJvbSBsb2NhbHN0b3JhZ2UgYXMgdGFibGVzXG4gKi9cbihmdW5jdGlvbihhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiB4cG8oJGxvZywgJHEsIGxvY2FsU3RvcmFnZVNlcnZpY2UpIHtcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGFuIGl0ZW06IHdoZW4gYWxsIHBhcmFtcyBtYXRjaGVzIC0gdGhlbiB0cnVlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIHsga2V5MTogdmFsMSwga2V5MjogdmFsMn1cbiAgICAgKiAgICAgICAgIGlmIHBhcmFtcyA9IHt9IC0gdGhlbiB0cnVlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gLSBpdGVtIGluIGFycmF5XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hlY2tSZWFkSXRlbShwYXJhbXMsIGl0ZW0pIHtcbiAgICAgIHZhciBpc1Bhc3NlZCA9IHRydWU7XG4gICAgICBhbmd1bGFyLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbihwYXJhbVZhbHVlLCBwYXJhbUtleSkge1xuICAgICAgICBpZiAoaXRlbVtwYXJhbUtleV0gIT09IHBhcmFtVmFsdWUpIHtcbiAgICAgICAgICAvLyBhbiBldmVyeSBwYXJhbSBtdXN0IG1hdGNoXG4gICAgICAgICAgaXNQYXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaXNQYXNzZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIGl0ZW0gZnJvbSBzdG9yYWdlOlxuICAgICAqICAgICAtIEdldCBhbiBhcnJheSBmcm9tIHN0b3JhZ2UgKGZyb20gZW5kcG9pbnQgdGFibGUpXG4gICAgICogICAgIC0gQ29udmVydCB0byByZWFsIGFycmF5IGZyb20gU3RyaW5nXG4gICAgICogICAgIC0gRmluZCBpdGVtcyBieSBwYXJhbXMgKGZpbHRlcilcbiAgICAgKiAgICAgLSBSZXR1cm4gaXQgYXMgYW4gYXJyYXkgKGlmIGlzQXJyYXkpIG9yIGl0ZW1cbiAgICAgKiAgICAgICAtIElmIGlzQXJyYXk9ZmFsc2UgbXVzdCBiZSB6ZXJvIG9yIG9uZSBpdGVtIG9ubHkgKGluIG90aGVyIGNhc2VzIC0gZXJyb3IpXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVhZEZyb21TdG9yYWdlKHRibE5hbWUsIHBhcmFtcywgaXNBcnJheSkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgdmFyIHRibCA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KHRibE5hbWUpO1xuICAgICAgaWYgKCF0YmwpIHtcbiAgICAgICAgJGxvZy5sb2coJ3RibCBub3QgZm91bmQnLCB0YmwsIHRibE5hbWUpO1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGlzQXJyYXkgPyBbXSA6IG51bGwpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBhcnIgPSBhbmd1bGFyLmZyb21Kc29uKHRibCk7XG4gICAgICAgIC8vJGxvZy5sb2coYXJyKTtcbiAgICAgICAgdmFyIG5lZWRJdGVtcyA9IGFyclxuXHQgICAgICAuZmlsdGVyKGFuZ3VsYXIuYmluZChudWxsLCBjaGVja1JlYWRJdGVtLCBwYXJhbXMpKTtcblxuICAgICAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobmVlZEl0ZW1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAobmVlZEl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnbm90T25seU9uZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVuZGVmaW5lZCBvciBmdWxsZmlsZWQgaXRlbVxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShuZWVkSXRlbXNbMF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcml0ZSAodXBkYXRlIG9yIGluc2VydCk6IHN0ZXBzOlxuICAgICAqICAgIGdldCBhIHRhYmxlIGJ5IGVuZHBvaW50LCBsaWtlICdwYW50cydcbiAgICAgKiAgICBnZXQgYWxsIGl0ZW1zLCBsaWtlIFt7fSwge31dIGFzIGEgU3RyaW5nXG4gICAgICogICAgY29udmVydCB0byBKU09OIGFycmF5XG4gICAgICogICAgcHVzaCB0aGUgbmV3IGl0ZW0gKG9iailcbiAgICAgKiAgICBjb252ZXJ0IHRvIFN0cmluZ1xuICAgICAqICAgIHdyaXRlIHRvIHN0b3JhZ2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cml0ZVRvU3RvcmFnZSh0YWJsZU5hbWUsIG9iaikge1xuICAgICAgdmFyIGRmciA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgdGJsID0gbG9jYWxTdG9yYWdlU2VydmljZS5nZXQodGFibGVOYW1lKTtcblxuICAgICAgdmFyIGFyciA9IHRibCA/IGFuZ3VsYXIuZnJvbUpzb24odGJsKSA6IFtdO1xuXG4gICAgICB2YXIgY3VyID0gYXJyLmZpbHRlcihmdW5jdGlvbihpdGVtLCBpbmQpIHtcbiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IG9iai5pZCkge1xuICAgICAgICAgIGFycltpbmRdID0gb2JqO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pWzBdO1xuXG4gICAgICBpZiAoIWN1cikge1xuICAgICAgICBhcnIucHVzaChvYmopO1xuICAgICAgfVxuXG4gICAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCh0YWJsZU5hbWUsIGFuZ3VsYXIudG9Kc29uKGFycikpO1xuXG4gICAgICAvLyBSZXR1cm4gY3JlYXRlZCAodXBkYXRlZCkgb2JqZWN0XG4gICAgICBkZnIucmVzb2x2ZShvYmopO1xuXG4gICAgICByZXR1cm4gZGZyLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsIGZyb20gYSBzdG9yYWdlOlxuICAgICAqICAgICAtIEZpbmQgYSB0YWJsZSBieSBlbmRwb2ludFxuICAgICAqICAgICAtIENvbnZlcnQgdG8gSlNPTlxuICAgICAqICAgICAtIEZpbmQgYW4gb2JqZWN0IGluIGEgdGFibGUgYW5kIGRlbGV0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YmxOYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIE9iamVjdCB0byBkZWxldGVcbiAgICAgKiAgICAgICAgICAgICAgICAgaWYge30gZW1wdHkgLSByZW1vdmUgYWxsIG9iamVjdHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWxGcm9tU3RvcmFnZSh0YmxOYW1lLCBvYmopIHtcbiAgICAgIHZhciBkZnIgPSAkcS5kZWZlcigpO1xuICAgICAgdmFyIHRibCA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KHRibE5hbWUpO1xuICAgICAgaWYgKHRibCkge1xuICAgICAgICBcblx0dmFyIGFyciA9IGFuZ3VsYXIuZnJvbUpzb24odGJsKTtcblxuXHQvLyBkZWxldGUgYWxsIG1hdGNoZWQgaXRlbXMgKHVzdWFsbHkgaXQncyBvbmx5IG9uZSAtIHVuaXF1ZSBjb25zdHJhaW50KVxuXHRhbmd1bGFyLmZvckVhY2goYXJyLCBmdW5jdGlvbihpdGVtLCBpbmQpIHtcbiAgICAgICAgICBpZiAoY2hlY2tSZWFkSXRlbShvYmosIGl0ZW0pKSB7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKGluZCwgMSk7XG4gICAgICAgICAgfVxuXHR9KTtcblxuXHRsb2NhbFN0b3JhZ2VTZXJ2aWNlLnNldCh0YmxOYW1lLCBhbmd1bGFyLmZyb21Kc29uKGFycikpO1xuICAgICAgfVxuICAgICAgZGZyLnJlc29sdmUoKTtcbiAgICAgIHJldHVybiBkZnIucHJvbWlzZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgd3JpdGVUb1N0b3JhZ2U6IHdyaXRlVG9TdG9yYWdlLFxuICAgICAgcmVhZEZyb21TdG9yYWdlOiByZWFkRnJvbVN0b3JhZ2UsXG4gICAgICBkZWxGcm9tU3RvcmFnZTogZGVsRnJvbVN0b3JhZ2VcbiAgICB9O1xuXG4gIH1cblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAubGRiSGVscGVyJywgW1xuICAgICdMb2NhbFN0b3JhZ2VNb2R1bGUnXG4gIF0pXG5cbiAgICAuZmFjdG9yeSgnbGRiSGVscGVyJywgW1xuICAgICAgJyRsb2cnLFxuICAgICAgJyRxJyxcbiAgICAgICdsb2NhbFN0b3JhZ2VTZXJ2aWNlJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgQVBQQ09ORikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24gcmVhcnJhbmdlQXJyKGFycil7XG4gICAgdmFyIG1vc2Nvd0luZGV4LCBzcGJJbmRleCxcblx0bm92b3NpYmlyc2tJbmRleCwga3Jhc25vZGFySW5kZXg7XG5cbiAgICAvLyBsZW5ndGggLSBjYWxjdWxhdGVkIGV2ZXJ5c3RlcFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYWdnID0gYXJyW2ldO1xuXG4gICAgICBpZiAoYWdnLmludGVyX2NvZGUgPT09ICdtb3Njb3cnKXtcblx0bW9zY293SW5kZXggPSBhZ2c7XG5cdGFyci5zcGxpY2UoaS0tLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYWdnLmludGVyX2NvZGUgPT09ICdzcGInKXtcblx0c3BiSW5kZXggPSBhZ2c7XG5cdGFyci5zcGxpY2UoaS0tLCAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYWdnLmludGVyX2NvZGUgPT09ICdub3Zvc2liaXJzaycpe1xuXHRub3Zvc2liaXJza0luZGV4ID0gYWdnO1xuXHRhcnIuc3BsaWNlKGktLSwgMSk7XG4gICAgICB9IGVsc2UgaWYgKGFnZy5pbnRlcl9jb2RlID09PSAna3Jhc25vZGFyJyl7XG5cdGtyYXNub2RhckluZGV4ID0gYWdnO1xuXHRhcnIuc3BsaWNlKGktLSwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGFyci5zcGxpY2UoMCwwLGtyYXNub2RhckluZGV4KTtcbiAgICBhcnIuc3BsaWNlKDAsMCxub3Zvc2liaXJza0luZGV4KTtcbiAgICBhcnIuc3BsaWNlKDAsMCxzcGJJbmRleCk7XG4gICAgYXJyLnNwbGljZSgwLDAsbW9zY293SW5kZXgpO1xuICB9XG4gIFxuICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgYXJyX2dlb19hZ2dsbzogW10sXG4gICAgLy8gbG9naWMgb2YgdGhpcyBwYXJhbTogaW4gaXNfcGVybV9jaGVja2VkIHBhcmFtXG4gICAgaXNfbG9hZGVkOiBmYWxzZVxuICB9O1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkcSwgJGh0dHAsIGdlb0hlbHBlcikge1xuICAgIHZhciBzZXREYXRhID0gZnVuY3Rpb24ocikge1xuICAgICAgLy8gcmVtb3ZlIGFsbCBwcmV2IGVsZW1lbnRzXG4gICAgICByZXBvRGF0YS5hcnJfZ2VvX2FnZ2xvLmxlbmd0aCA9IDA7XG4gICAgICAvLyBhZGQgbmV3IGVsZW1lbnRzXG4gICAgICAvLyByZWFycmFuZ2UgYWdnbG9zOiBmaXJzdCBtc2sgYW5zIHNwYlxuXG4gICAgICB2YXIgdG1wQXJyID0gci5kYXRhLmFycl9nZW9fYWdnbG87XG5cbiAgICAgIHJlYXJyYW5nZUFycih0bXBBcnIpO1xuICAgICAgXG4gICAgICAvLyB0bXBBcnIuc29ydChmdW5jdGlvbihhLGIpe1xuICAgICAgLy8gXHRpZiAoYS5nZW9faWQgPiBiLmdlb19pZCl7cmV0dXJuIDE7fVxuICAgICAgLy8gXHRpZiAoYS5nZW9faWQgPCBiLmdlb19pZCkge3JldHVybiAtMTt9XG4gICAgICAvLyBcdHJldHVybiAwO1xuICAgICAgLy8gfSk7XG4gICAgICBcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKHJlcG9EYXRhLmFycl9nZW9fYWdnbG8sXG5cdFx0ICAgICB0bXBBcnIpO1xuICAgICAgLy8gZGF0YSA9IHRtcERhdGEgLSBicmVhayBjdXJyZW50IHJlZmVyZW5jZXNcbiAgICAgIHJlcG9EYXRhLmlzX2xvYWRlZCA9IHRydWU7ICAgICAgXG4gICAgfTtcblxuICAgIHZhciBjYmtNYXBBZ2dsbyA9IGZ1bmN0aW9uKGludGVyQ29kZSwgYWdnbG9JdGVtKXtcbiAgICAgIHJldHVybiBhZ2dsb0l0ZW0uaW50ZXJfY29kZSA9PT0gaW50ZXJDb2RlO1xuICAgIH07XHRcblxuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xuICAgICAgICByZXR1cm4gcmVwb0RhdGE7XG4gICAgICB9LFxuICAgICAgcmV0cmlldmVEYXRhOiBmdW5jdGlvbigpIHtcblx0Y29uc29sZS5sb2coJ3RyeTogcmV0cmlldmluZyBhZ2dsb3MnKTtcblx0Ly8gaWYgYWxyZWFkeSBsb2FkZWQ6IGRvIG5vdCBsb2FkXG5cdGlmIChyZXBvRGF0YS5pc19sb2FkZWQpe1xuXHQgIHZhciBkZnIgPSAkcS5kZWZlcigpO1xuXHQgIGRmci5yZXNvbHZlKCk7XG5cdCAgcmV0dXJuIGRmci5wcm9taXNlO1xuXHR9XG5cdGVsc2Uge1xuXHQvL3JlcG9EYXRhLmlzX2xvYWRlZCA9IGZhbHNlO1xuXG5cdCAgdmFyIHJlcSA9IHtcblx0ICAgIG1ldGhvZDogXCJHRVRcIixcblx0ICAgIHVybDogQVBQQ09ORi5BUElNQVNfRU5EUE9JTlQgKyBcIi90ZXJyaXRvcnkvZ2V0LWFnZ2xvc1wiXG5cdCAgfTtcblx0IFxuXHQgIHJldHVybiAkaHR0cChyZXEpLnRoZW4oc2V0RGF0YSk7XG5cdH1cbiAgICAgIH0sXG4gICAgICBjYWxjQnlJbnRlckNvZGU6IGZ1bmN0aW9uKGludGVyQ29kZSl7XG5cdHJldHVybiByZXBvRGF0YS5hcnJfZ2VvX2FnZ2xvXG5cdCAgLmZpbHRlcihhbmd1bGFyLmJpbmQobnVsbCwgY2JrTWFwQWdnbG8sIGludGVyQ29kZSkpWzBdO1xuICAgICAgfSxcbiAgICAgIGNhbGNBZ2dsb0J5Q29vcmRzOiBmdW5jdGlvbihsYXQsIGxuZyl7XG5cdHZhciB0bXBBZ2dsbyA9IGdlb0hlbHBlclxuXHQgICAgICAuZmluZEFnZ2xvQnlDb29yZHMocmVwb0RhdGEuYXJyX2dlb19hZ2dsbyxcblx0XHRcdFx0IGxhdCxcblx0XHRcdFx0IGxuZyk7XG5cdHZhciBkZnIgPSAkcS5kZWZlcigpO1xuXHRkZnIucmVzb2x2ZSh0bXBBZ2dsbyk7XG5cdHJldHVybiBkZnIucHJvbWlzZTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5hZ2dsb1JlcG8nLCBbXG4gICAgJ215QXBwLmdlb0hlbHBlcidcbiAgXSlcblxuICAgIC5mYWN0b3J5KCdhZ2dsb1JlcG8nLCBbXG4gICAgICAnJHEnLFxuICAgICAgJyRodHRwJyxcbiAgICAgICdnZW9IZWxwZXInLFxuICAgICAgeHBvXG4gICAgXSk7XG5cbn0od2luZG93LmFuZ3VsYXIsIHdpbmRvdy5BUFBDT05GKSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgY3VyX2Zpcm06IG51bGxcbiAgfTtcbiAgXG4gIHZhciB4cG8gPSBmdW5jdGlvbihmaXJtSXRlbUZhY3Rvcnkpe1xuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpe1xuXHRyZXR1cm4gcmVwb0RhdGE7XHRcbiAgICAgIH0sXG4gICAgICByZXRyaWV2ZURhdGE6IGZ1bmN0aW9uKGlkLCBmaWxpYWxIYXNoKXtcblx0cmV0dXJuIGZpcm1JdGVtRmFjdG9yeS5sb2FkRmlybShpZCwgZmlsaWFsSGFzaClcblx0ICAudGhlbihmdW5jdGlvbihyZXN1bHRGaXJtKXtcblx0ICAgIHJlcG9EYXRhLmN1cl9maXJtID0gcmVzdWx0RmlybTtcblx0ICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5maXJtSXRlbVJlcG8nLCBbXG4gICAgJ215QXBwLmZpcm1JdGVtRmFjdG9yeSdcbiAgXSlcbiAgICAuZmFjdG9yeSgnZmlybUl0ZW1SZXBvJywgW1xuICAgICAgJ2Zpcm1JdGVtRmFjdG9yeScsXG4gICAgICB4cG9dKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBwcmV2OiBtYXBfZGF0YVxuICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgbWFwX21hcmtlcnM6IHt9LFxuICAgIHRvdGFsOiAwXG4gIH07XG5cbiAgLy8gVHJhbnNsYXRlIGZyb20gc2VydmljZSBncm91cCBuYW1lIHRvIDJnaXMgbmFtZVxuICB2YXIgZ3JvdXBUcmFuc2xhdGlvbiA9IHtcbiAgICBoYWlyOiB7XG4gICAgICBuYW1lOiBcItCf0LDRgNC40LrQvNCw0YXQtdGA0YHQutC40LVcIlxuICAgIH0sXG4gICAgY29zbWV0aWM6IHtcbiAgICAgIG5hbWU6IFwi0JrQvtGB0LzQtdGC0LjRh9C10YHQutC40LUg0YPRgdC70YPQs9C4XCJcbiAgICB9LFxuICAgIG5haWw6IHtcbiAgICAgIG5hbWU6ICfQndC+0LPRgtC10LLRi9C1INGB0YLRg9C00LjQuCdcbiAgICB9LFxuICAgIG1ha2V1cDoge1xuICAgICAgbmFtZTogJ9Cj0YHQu9GD0LPQuCDQstC40LfQsNC20LjRgdGC0LAnXG4gICAgfSxcbiAgICBtYXNzYWdlOiB7XG4gICAgICBuYW1lOiAn0KPRgdC70YPQs9C4INC80LDRgdGB0LDQttC40YHRgtCwJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2JrTWFya2VyID0gZnVuY3Rpb24obWFya09iaiwgdmFsKSB7XG4gICAgdmFyIGRzY0J0biA9ICc8bWQtYnV0dG9uIGNsYXNzPVwibWQtYWNjZW50XCIgc3R5bGU9XCJtYXJnaW46MFwiJytcblx0ICAnIG9uY2xpY2s9XCJ3aW5kb3cuc2hvd0Zpcm1JbmZvKGV2ZW50LCcgK1xuICAgICAgICAgIHZhbC5pZCArICcsXFwnJyArIHZhbFsnaGFzaCddICsgJ1xcJycgK1xuICAgICAgICAgICcpO1wiPicgK1xuXHQgIC8vJyBuZy1jbGljaz1cInNob3dGaXJtRGV0YWlsKClcIj4nICtcbiAgICAgICAgICAn0J/QvtC00YDQvtCx0L3QtdC1JyArXG4gICAgICAgICAgJzwvbWQtYnV0dG9uPic7XG5cbiAgICB2YXIgbWljcm9DbW50ID0gJyc7XG4gICAgLy8gbWljcm9jb21tZW50OiB1c3VhbGx5IHVuZGVmaW5lZCxcbiAgICAvLyBvciBjb250YWluIHJ1YnJpY3NcbiAgICBpZiAodmFsLm1pY3JvX2NvbW1lbnQpe1xuICAgICAgLy8g0JzQuNC60YDQvtC60L7QvNC80LXQvdGC0LDRgNC40LkgKDcwINGB0LjQvNCy0L7Qu9C+0LIpLCDQv9GA0LjRgdGD0YLRgdGC0LLRg9C10YJcbiAgICAgIC8vINCyINCy0YvQtNCw0YfQtSDRgtC+0LvRjNC60L4g0LTQu9GPINGA0LXQutC70LDQvNC90YvRhSDRhNC40YDQvC4g0J/QvtC30LLQvtC70Y/QtdGCXG4gICAgICAvLyDQsNC60YbQtdC90YLQuNGA0L7QstCw0YLRjCDQstC90LjQvNCw0L3QuNC1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDRgdC10YDQstC40YHQsFxuICAgICAgLy8g0L3QsCDQvtC/0YDQtdC00LXQu9C10L3QvdC+0Lkg0L7RgNCz0LDQvdC40LfQsNGG0LjQuCDQsiDQvtCx0YnQtdC8INGB0L/QuNGB0LrQtSxcbiAgICAgIC8vINGA0LDQt9C80LXRidCw0LXRgtGB0Y8g0L/QvtC0INC10LUg0L3QsNC30LLQsNC90LjQtdC8LlxuICAgICAgLy8g0J/RgNC40LzQtdGAOiDQlNC10YDQtdCy0Y/QvdC90YvQtSDQvtC60L3QsCDQuCDQvtC60L7QvdC90YvQtSDQsdC70L7QutC4INC/0L7QtCDQutC70Y7Rhy5cbiAgICAgIG1pY3JvQ21udCA9ICc8ZGl2PjxzbWFsbCBjbGFzcz1cIm1kLWNhcHRpb25cIj4nICsgdmFsLm1pY3JvX2NvbW1lbnQgKyAnPC9zbWFsbD48L2Rpdj4nO1xuXG4gICAgICBpZiAodmFsLmZhc193YXJuaW5nKXtcblx0Ly8gd3JpdGUgaXQgdW5kZXIgbWljcm9fY29tbWVudFxuXHRtaWNyb0NtbnQgKz0gJzxkaXY+PHNtYWxsIGNsYXNzPVwibWQtY2FwdGlvblwiIHN0eWxlPVwiY29sb3I6ICNiYjAwMDBcIj4nK1x0ICAgIFxuXHQgIHZhbC5mYXNfd2FybmluZytcblx0ICAnPC9zbWFsbD48L2Rpdj4nO1xuXHRcbiAgICAgIH1cbiAgICAgIFxuICAgICAgbWljcm9DbW50ICs9ICc8L2Rpdj4nO1xuICAgIH1cblxuICAgIC8vIHZhciBydWJyaWNTZXQgPSAnJztcbiAgICAvLyB2YWwucnVicmljcy5mb3JFYWNoKGZ1bmN0aW9uKHJiclRleHQpe1xuICAgIC8vIFx0cnVicmljU2V0ICs9ICc8ZGl2IHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7IHBhZGRpbmc6IDJweDsgYm9yZGVyOiAxcHggaW5zZXQgIzMzMzsgbWFyZ2luOiAxcHg7IGZvbnQtc2l6ZTogMC42cmVtXCI+JyArXG4gICAgLy8gXHQgIHJiclRleHQgKyAnPC9kaXY+Jzs7XG4gICAgLy8gfSk7XG4gICAgXG4gICAgdmFyIGRzYyA9ICc8bWQtY29udGVudCBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyBmb250LXNpemU6IDAuOXJlbVwiPicgK1xuXHQgICc8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbToycHhcIj48c3Ryb25nPicgKyB2YWwubmFtZSArICc8L3N0cm9uZz48L2Rpdj4nICtcblx0ICAnPGRpdj4nICtcblx0ICAvLyAnJiN4MjMwMjsmbmJzcDsnICtcblx0ICB2YWwuYWRkcmVzcyArICc8L2Rpdj4nICtcblx0ICAnPG1kLWRpdmlkZXI+PC9tZC1kaXZpZGVyPicrXG5cdCAgbWljcm9DbW50ICsgICBcbiAgICAgICAgICAvLyc8ZGl2PtCc0LXRgtGA0L7QsjogJyArIHZhbC5kaXN0ICsgJzwvZGl2PicgK1x0ICAgXG5cdCAgLy8gcnVicmljU2V0ICsgLy8gbW92ZSB0byBmdWxsIHByb2ZpbGVcbiAgICAgICAgICAnPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IHJpZ2h0XCI+Jytkc2NCdG4rJzwvZGl2PicgK1xuXHQgICc8L21kLWNvbnRlbnQ+JztcbiAgICBcbiAgICBcbiAgICAvLyAgaWNvblVybDogdmFsLm1pY3JvX2NvbW1lbnQgPyAnaW1nL21hcmtlci1pY29uLXB1cnBsZS5wbmcnIDogJ2ltZy9tYXJrZXItaWNvbi5wbmcnLFxuLy8gICAgdmFyIGljb25PcHRpb25zID0ge1x0XHRcbiAgICAgIC8vaWNvblNpemU6IFsxMDAsMTAwXVxuICAvLyAgfTtcbiAgICAvLyBUT0RPOiBjYWxjIGljb24gZnJvbSBydWJyaWNzXG4gICAgLy8gICAgICAgICAgaWNvblVybDogdmFsLm1pY3JvX2NvbW1lbnQgPyAnaW1nL21hcmtlci1pY29uLXB1cnBsZS5wbmcnIDogJ2ltZy9tYXJrZXItaWNvbi5wbmcnLFxuICAgIC8vICAgICAgICAgIHNoYWRvd1VybDogJ2ltZy9tYXJrZXItc2hhZG93LnBuZydcbiAgICBcbiAgICAvLyBpY29uU2l6ZTogWzUwLCA1MF0sXG4gICAgLy9zaGFkb3dTaXplOiBbNTAsIDY0XVxuICAgIC8vIGljb25BbmNob3I6IFsyMiwgOTRdLFxuICAgIC8vIHNoYWRvd0FuY2hvcjogWzQsIDYyXVxuICAgIFxuICAgIG1hcmtPYmpbdmFsLmlkXSA9IHtcbiAgICAgIGxhdDogcGFyc2VGbG9hdCh2YWwubGF0KSxcbiAgICAgIGxuZzogcGFyc2VGbG9hdCh2YWwubG9uKSxcbiAgICAgIC8vIGdldE1lc3NhZ2VTY29wZTogZnVuY3Rpb24gKCkgeyByZXR1cm4ge1xuICAgICAgLy8gICBtYXBfZGF0YToge1xuICAgICAgLy8gICAgIHNvbWVfaW5mbzogJ3N1ZXIgaW5mJ1xuICAgICAgLy8gICB9XG4gICAgICAvLyB9OyB9LFxuICAgICAgLy8gY29tcGlsZU1lc3NhZ2U6IHRydWUsXG4gICAgICBtZXNzYWdlOiBkc2NcbiAgICAvLyAgaWNvbjogaWNvbk9wdGlvbnNcbiAgICAgIFxuICAgICAgLy8gaWNvbjoge1xuICAgICAgLy8gICB0eXBlOiAnZXh0cmFNYXJrZXInLFxuICAgICAgLy8gICBpY29uOiAnZmEtc3RhcicsXG4gICAgICAvLyAgIGNvbG9yOiAnI2YwMCcsXG4gICAgICAvLyAgIHByZWZpeDogJ2ZhJyxcbiAgICAgIC8vICAgc2hhcGU6ICdjaXJjbGUnXG4gICAgICAvLyB9XG4gICAgfTtcbiAgfTtcbiAgXG4gIC8qKlxuICAgKiBBcnIgLSBhcnJheSBmcm9tIEdJU1xuICAgKi9cbiAgdmFyIGFyclRvTWFya2VycyA9IGZ1bmN0aW9uKGFycikge1xuICAgIC8vIHsgbTE6IHtsYXQuLmxuZy4ufSwgbTI6IFxuICAgIHZhciBtYXJrT2JqID0ge307XG4gICAgYW5ndWxhci5mb3JFYWNoKGFyciwgYW5ndWxhci5iaW5kKG51bGwsIGNia01hcmtlciwgbWFya09iaikpO1xuICAgIHJldHVybiBtYXJrT2JqO1xuICB9O1xuXG4gIC8qKlxuICAgKi9cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKGZpcm1MaXN0RmFjdG9yeSl7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCl7XG5cdHJldHVybiByZXBvRGF0YTtcbiAgICAgIH0sXG4gICAgICBjbGVhckRhdGE6IGZ1bmN0aW9uKCl7XG5cdHJlcG9EYXRhLm1hcF9tYXJrZXJzID0ge307XG4gICAgICB9LFxuICAgICAgcmV0cmlldmVEYXRhOiBmdW5jdGlvbihsbmcsIGxhdCwgc2Vydkdyb3VwSWQpe1xuXHQvKipcblx0ICogciAtIHsgdG90YWw6IDEyMywgbWFya2VyczogW119XG5cdCAqIHRvdGFsIG51bWJlcnMgb2YgY29tcGFuaWVzIGluIGN1cnJlbnQgcmFkaXVzIGFuZCBjaXR5XG5cdCAqL1xuXHR2YXIgY2JrTG9hZEZpcm1zID0gZnVuY3Rpb24ocikge1xuICAgICAgICAgIC8vJGxvZy5sb2coJ3Jlc3VsdCcsIHIpO1xuXG4gICAgICAgICAgLy8gUGxhY2UgbWFya2VycyB0byB0aGUgbWFwOiByLm1hcmtlcnMgLSB7bTE6e30sIG0yOi4ufVxuICAgICAgICAgIC8vJHNjb3BlLm1hcF9kYXRhLm1hcF9tYXJrZXJzID0gci5tYXJrZXJzO1xuXHQgIHJlcG9EYXRhLm1hcF9tYXJrZXJzID0gYXJyVG9NYXJrZXJzKHIucmVzdWx0KTtcblx0ICByZXBvRGF0YS50b3RhbCA9IHIudG90YWw7XG5cdH07XG5cblx0Ly8gIGJvdW5kJTVCcG9pbnQxJTVEPTM3LjQzMiw1NS44MzZcblx0Ly8gJmJvdW5kJTVCcG9pbnQyJTVEPTM3LjYzMyw1NS42Mzdcblx0Ly8gem9vbT0xNCB+IDZrbSBmb3IgYmlnIHNjcmVlbiBhbmQgMyBmb3Igc21hbGxcblx0cmV0dXJuIGZpcm1MaXN0RmFjdG9yeVxuXHQgIC5sb2FkRmlybXNCeVBvaW50KGdyb3VwVHJhbnNsYXRpb25bc2Vydkdyb3VwSWRdLm5hbWUsXG5cdFx0XHQgICAgbG5nLCBsYXQsIDMwMDApXG4gICAgICAgICAgLnRoZW4oY2JrTG9hZEZpcm1zKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuZmlybUxpc3RSZXBvJyxbXG4gICAgJ215QXBwLmZpcm1MaXN0RmFjdG9yeSdcbiAgXSlcbiAgICAuZmFjdG9yeSgnZmlybUxpc3RSZXBvJywgW1xuICAgICAgJ2Zpcm1MaXN0RmFjdG9yeScsXG4gICAgICB4cG9cbiAgICBdKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgc3JjX3VybDogbnVsbFxuICAgIC8vIGRhdGEgZm9yIGEgZnVsbC1pbWFnZSBtb2RhbCB3aW5kb3dcbiAgICAvL2ltZ191cmw6IG51bGxcbiAgfTtcbiAgXG4gIHZhciB4cG8gPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpe1xuXHRyZXR1cm4gcmVwb0RhdGE7XG4gICAgICB9LFxuICAgICAgc2V0VXJsOiBmdW5jdGlvbih0bXBVcmwpe1xuXHRyZXBvRGF0YS5zcmNfdXJsID0gdG1wVXJsO1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuZnVsbFJlcG8nLCBbXSlcblxuICAgIC5mYWN0b3J5KCdmdWxsUmVwbycsIFt4cG9dKTtcbiAgXG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBEZXZpY2UgY29vcmRpbmF0ZXNcbiAqL1xuKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIC8vIHdoZXRoZXIgdGhlIGNvb3JkcyBhcmUgbm90IGVtcHR5XG4gICAgaXNfZGVmaW5lZDogZmFsc2UsXG4gICAgLy8gV2hldGhlciB0aGUgcmVjb2duaXRpb24gaW4gcHJvZ3Jlc3NcbiAgICBpc19kZXZpY2VfcHJvZ3Jlc3M6IGZhbHNlLFxuICAgIGNvb3Jkczoge1xuICAgICAgbGF0OiBudWxsLFxuICAgICAgbG5nOiBudWxsXG4gICAgfVxuICB9O1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkcSxcblx0XHQgICAgIGdlb2xvY0ZhY3RvcnkpIHtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oKXtcblx0cmV0dXJuIHJlcG9EYXRhO1xuICAgICAgfSxcbiAgICAgIC8vIHJldHJpZXZlRnJvbVdrdFBvaW50OiBmdW5jdGlvbih3a3RQb2ludCl7XG4gICAgICAvLyBcdHZhciBkZnIgPSAkcS5kZWZlcigpO1xuICAgICAgXG4gICAgICAvLyBcdHZhciBjb29yZHMgPSBocHJGYWN0b3J5LmNvb3Jkc0Zyb21Xa3RQb2ludCh3a3RQb2ludCk7XG5cbiAgICAgIC8vIFx0ZGZyLnJlc29sdmUoKTsgLy9jb29yZHNcbiAgICAgIC8vIFx0cmVwb0RhdGEuY29vcmRzLmxhdCA9IGNvb3Jkcy5sYXRpdHVkZTtcbiAgICAgIC8vIFx0cmVwb0RhdGEuY29vcmRzLmxuZyA9IGNvb3Jkcy5sb25naXR1ZGU7XG4gICAgICAvLyBcdHJlcG9EYXRhLmlzX2RlZmluZWQgPSB0cnVlO1xuXG4gICAgICAvLyBcdHJldHVybiBkZnIucHJvbWlzZTtcbiAgICAgIC8vIH0sXG4gICAgICByZXRyaWV2ZUZyb21EZXZpY2U6IGZ1bmN0aW9uKCl7XG5cdC8vIHJpZ2h0IG5vdyBzdXBwb3J0ZWQgb25seSBzdGF0aWMgcGxhY2VzXG5cdC8vIG5vIG5lZWQgdG8gY2FsYyBldmVyeSB0aW1lLCB3aGVuIGEgdXNlciB1cGRhdGVzIGEgbWFwXG5cdGlmIChyZXBvRGF0YS5pc19kZWZpbmVkKXtcblx0ICB2YXIgZGZyID0gJHEuZGVmZXIoKTtcblx0ICBkZnIucmVzb2x2ZSgpO1xuXHQgIHJldHVybiBkZnIucHJvbWlzZTtcblx0fVxuXHRlbHNlIHtcblx0ICBcblx0ICByZXBvRGF0YS5pc19kZXZpY2VfcHJvZ3Jlc3MgPSB0cnVlO1xuXHQgIC8vIGdldCBmcm9tIGRldmljZSBvciBJUFxuXHQgIHJldHVybiBnZW9sb2NGYWN0b3J5LmdldEN1ckNvb3JkcygpXG5cdCAgICAudGhlbihmdW5jdGlvbihjb29yZHMpe1xuXHQgICAgICAvLyA0My42MDc4OTc2XG4gICAgICAgICAgICAgIC8vIDM5Ljc0NDYyOTg1OVxuXHQgICAgICByZXBvRGF0YS5jb29yZHMubGF0ID0gY29vcmRzLmxhdGl0dWRlO1xuXHQgICAgICByZXBvRGF0YS5jb29yZHMubG5nID0gY29vcmRzLmxvbmdpdHVkZTtcblx0ICAgICAgcmVwb0RhdGEuaXNfZGVmaW5lZCA9IHRydWU7XG5cdCAgICAgIC8vIHNlbmQgY29vcmRzIHRvICBuZXh0IGhhbmRsZXJcblx0ICAgICAgLy9yZXR1cm4gY29vcmRzO1xuXHQgICAgfSlcblx0ICAgIC5maW5hbGx5KGZ1bmN0aW9uKCl7XG5cdCAgICAgIHJlcG9EYXRhLmlzX2RldmljZV9wcm9ncmVzcyA9IGZhbHNlO1xuXHQgICAgfSk7XG5cdH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmxvY1JlcG8nLCBbXG4gICAgJ215QXBwLmdlb2xvY0ZhY3RvcnknXG4gICAgLy8gICAgJ215QXBwLmhwckZhY3RvcnknXG4gIF0pXG5cbiAgICAuZmFjdG9yeSgnbG9jUmVwbycsIFtcbiAgICAgICckcScsXG4gICAgICAnZ2VvbG9jRmFjdG9yeScsXG4gICAgICAvLyAgICAgICdocHJGYWN0b3J5JyxcbiAgICAgIHhwb10pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCBBUFBDT05GKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTZWxlY3RlZCBtYXN0ZXIgcHJvZmlsZVxuICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgc2xjX21hc3RlcjogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHJldHJpZXZpbmcgaW4gcHJvZ3Jlc3NcbiAgICAgKi9cbiAgICBpc19pbl9wcm9ncmVzczogZmFsc2VcbiAgfTtcbiAgXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkcSwgJGh0dHApe1xuICAgIHZhciBzZXRNYXN0ZXIgPSBmdW5jdGlvbih0bXBNYXN0ZXIpe1xuICAgICAgcmVwb0RhdGEuc2xjX21hc3RlciA9IHRtcE1hc3RlcjtcbiAgICB9O1xuXG4gICAgdmFyIGNsZWFuTWFzdGVyID0gZnVuY3Rpb24oKXtcbiAgICAgIHJlcG9EYXRhLnNsY19tYXN0ZXIgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBtYXN0ZXIgZGV0YWlsLCBsaWtlIGFkZHJlc3MsIGVtYWlsLCBldGNcbiAgICAgKiBAcGFyYW0ge1N0aXJuZ3xOdW1iZXJ9IGlkXG4gICAgICovXG4gICAgdmFyIHJldHJpZXZlTWFzdGVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgdmFyIGRmciA9ICRxLmRlZmVyKCk7XG4gICAgICByZXBvRGF0YS5pc19pbl9wcm9ncmVzcyA9IHRydWU7XG4gICAgICAvLyBjbGVhbiBwcmV2IG1hc3RlciwgaWYgZXhpc3RzXG4gICAgICAvLyBzZW5kIGlkIG9mIGEgbWFzdGVyXG4gICAgICAvLyByZXR1cm4gbXAgKyBhbGwgc2VydmljZXMgKyBhbGwgd29ya3NcbiAgICAgIC8vICsgY29udGFjdHMgKyBhZGRyZXNzXG4gICAgICBcbiAgICAgIHZhciByZXEgPSB7XG5cdG1ldGhvZDogXCJHRVRcIixcblx0dXJsOiBBUFBDT05GLkFQSU1BU19FTkRQT0lOVCArIFwiL21hc3Rlci9nZXQtcHJvZmlsZTJcIixcblx0cGFyYW1zOiB7XG5cdCAgXCJpZFwiOiBpZFxuXHR9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gJGh0dHAocmVxKS50aGVuKGZ1bmN0aW9uKHIpe1xuXHRpZiAoIXIuZGF0YSl7XG5cdCAgcmV0dXJuIGRmci5yZWplY3QoXCLQnNCw0YHRgtC10YAg0L3QtSDQvdCw0LnQtNC10L1cIik7XG5cdH0gZWxzZSB7XG5cdCAgc2V0TWFzdGVyKHIuZGF0YSk7XG5cdCAgLy9jb25zb2xlLmxvZyhyLmRhdGEpO1xuXHQgIHJldHVybiByLmRhdGE7XG5cdH1cbiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcblx0cmVwb0RhdGEuaXNfaW5fcHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCl7XG5cdHJldHVybiByZXBvRGF0YTtcbiAgICAgIH0sXG4gICAgICBjbGVhbk1hc3RlcjogY2xlYW5NYXN0ZXIsXG4gICAgICBzZXRNYXN0ZXI6IHNldE1hc3RlcixcbiAgICAgIHJldHJpZXZlTWFzdGVyOiByZXRyaWV2ZU1hc3RlclxuICAgIH07XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAubWFzdGVyUmVwbycsIFtdKVxuXG4gICAgLmZhY3RvcnkoJ21hc3RlclJlcG8nLCBbJyRxJyxcblx0XHRcdCAgICAnJGh0dHAnLFx0XHRcdCAgICBcblx0XHRcdCAgICB4cG9dKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhciwgd2luZG93LkFQUENPTkYpO1xuXG5cbi8vICR0aW1lb3V0KGZ1bmN0aW9uKCl7XG4vLyBcdHNldE1hc3Rlcih7XG4vLyBcdCAgaWQ6IGlkLFxuLy8gXHQgIG5hbWU6IFwiU3VwZXIgbWFzdGVyXCIsXG4vLyBcdCAgbW9kaWZpZWQ6IDEyMzEyMTIzXG4vLyBcdH0pO1xuXG4vLyBcdGRmci5yZXNvbHZlKCk7XG4vLyBcdC8vZGZyLnJlamVjdChcItCd0LUg0L3QsNC50LTQtdC9INC80LDRgdGC0LXRgFwiKTtcbi8vIFx0Ly8gZmluYWxseVxuXG5cbi8vIH0sIDEwMDApO1xuXG4vLyAgICAgIHJldHVybiBkZnIucHJvbWlzZTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBMb2NhbCBzdG9yYWdlIGlkIHRvIHN0b3JlIHBlcm1pc3Npb24gc3dpdGNoZXJcbiAgICovXG4gIHZhciBQRVJNX1RBQkxFID0gJ2xvY2F0aW9uX3Blcm1pc3Npb24nO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoZSBsb2NhdGlvbiBwZXJtaXNzaW9ucyBhcmUgYWxsb3dlZFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHZhciBpc19wZXJtX2FsbG93ZWQgPSBudWxsO1xuICBcbiAgLy8gTnVsbEJvb2xlYW5cbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGF1dG8tcmVjb2duaXRpb24gaXMgdHJpZWRcbiAgICAgKiAgIG9uY2UgcGVyIGFwcFxuICAgICAqL1xuICAgIGlzX3Blcm1fY2hlY2tlZDogZmFsc2VcbiAgfTtcbiAgXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkcSwgbGRiSGVscGVyKXtcblxuICAgIHZhciBzYXZlTG9jYXRpb25QZXJtaXNzaW9uID0gZnVuY3Rpb24oKXtcbiAgICAgIGlzX3Blcm1fYWxsb3dlZCA9IHRydWU7XG4gICAgICAvLyBzYXZlIGEgcnVsZTogYSB1c2VyIGFsbG93cyB1cyB0byBkZWZpbmUgaGlzIGxvY2F0aW9uXG4gICAgICBsZGJIZWxwZXIud3JpdGVUb1N0b3JhZ2UoUEVSTV9UQUJMRSwge1xuICAgICAgICBpZDogMCxcbiAgICAgICAgaXNfYWxsb3dlZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIHZhciBoYW5kbGVMb2NhdGlvblBlcm1pc3Npb24gPSBmdW5jdGlvbihwcm0pIHtcbiAgICAgIHJlcG9EYXRhLmlzX3Blcm1fY2hlY2tlZCA9IHRydWU7XG4gICAgICBcbiAgICAgIGlmIChwcm0gJiYgKHBybS5pc19hbGxvd2VkID09PSB0cnVlKSkge1xuXHQvLyBjYWxjIGxvY2F0aW9uIGZyb20gY29vcmRzXG4gICAgICAgIC8vJHNjb3BlLmRlZmluZUxvY2F0aW9uKCk7XG5cdC8vc2F2ZUxvY2F0aW9uUGVybWlzc2lvbigpO1xuXHRpc19wZXJtX2FsbG93ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG5cdGlzX3Blcm1fYWxsb3dlZCA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNfcGVybV9hbGxvd2VkO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCl7XG5cdHJldHVybiByZXBvRGF0YTtcbiAgICAgIH0sXG4gICAgICBjbGVhbkxvY2F0aW9uUGVybWlzc2lvbjogZnVuY3Rpb24oKXtcblx0aXNfcGVybV9hbGxvd2VkID0gZmFsc2U7XG5cdGxkYkhlbHBlci5kZWxGcm9tU3RvcmFnZShQRVJNX1RBQkxFLCB7XG4gICAgICAgICAgaWQ6IDBcblx0fSk7XG4gICAgICB9LFxuICAgICAgc2F2ZUxvY2F0aW9uUGVybWlzc2lvbjogc2F2ZUxvY2F0aW9uUGVybWlzc2lvbixcbiAgICAgIC8vIHJldHVybiBvciAobG9hZCBhbmQgcmV0dXJuKVxuICAgICAgY2hlY2tMb2NhdGlvblBlcm1pc3Npb246IGZ1bmN0aW9uKCl7XG5cdC8vIGNoZWNrZWQgb25jZSBwZXIgc2Vzc2lvblxuICAgICAgICBpZiAocmVwb0RhdGEuaXNfcGVybV9jaGVja2VkKXtcblx0ICB2YXIgZGZyID0gJHEuZGVmZXIoKTtcblx0ICBkZnIucmVzb2x2ZShpc19wZXJtX2FsbG93ZWQpO1xuXHQgIHJldHVybiBkZnIucHJvbWlzZTtcblx0fVxuXHRlbHNlIHtcblx0ICByZXR1cm4gbGRiSGVscGVyLnJlYWRGcm9tU3RvcmFnZShQRVJNX1RBQkxFLCB7XG4gICAgICAgICAgICBpZDogMFxuXHQgIH0sIGZhbHNlKS50aGVuKGhhbmRsZUxvY2F0aW9uUGVybWlzc2lvbik7XG5cdH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLnBlcm1SZXBvJywgW1xuICAgICdteUFwcC5sZGJIZWxwZXInXG4gIF0pXG5cbiAgICAuZmFjdG9yeSgncGVybVJlcG8nLCBbXG4gICAgICAnJHEnLFxuICAgICAgJ2xkYkhlbHBlcicsXG4gICAgICB4cG9dKTtcbiAgXG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiLyoqXG4qIExvYWQgcnVicmljcyBhbmQgc3RhdGlzdGljIGZvciBncm91cHNcbiogICAgaGFpcjogWydoYWlyRXh0JywgJ2hhaXJDdXQnLi4uXSArIGNvdW50ZXJzXG4qL1xuKGZ1bmN0aW9uKGFuZ3VsYXIsIEFQUENPTkYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIERlZmF1bHQgZGF0YSB3aXRoIGdyb3VwcyBhbmQgbmFtZXNcbiAgLy8gSW4gZ2xvYmFsIHNjb3BlOiBydWJyaWNfcmVwb1xuICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgYXJyX3NlcnZfZ3JvdXA6W3tcbiAgICAgIGlkOlwiaGFpclwiLFxuICAgICAgbmFtZTpcItCj0YHQu9GD0LPQuCDQv9Cw0YDQuNC60LzQsNGF0LXRgNCwXCIsXG4gICAgICBhcnJfc2Vydl9ydWJyaWNfc3RhdDogW10sXG4gICAgICBjb3VudF9zZXJ2X3J1YnJpYzogMCxcbiAgICAgIHN1bV9tYXN0ZXJfc2VydjogMFxuICAgIH0se1xuICAgICAgaWQ6IFwibmFpbFwiLFxuICAgICAgbmFtZTogXCLQo9GF0L7QtCDQt9CwINC90L7Qs9GC0Y/QvNC4XCIsXG4gICAgICBhcnJfc2Vydl9ydWJyaWNfc3RhdDogW10sXG4gICAgICAvLyB0aGlzIHByb3BlcnR5IGNhbiBiZSBjYWxjdWxhdGVkIGR5bmFtaWNhbGx5LCBidXRcbiAgICAgIC8vIGluIHJlYWQtb25seSBjYXNlOiBvbmx5IG9uY2UgcGVyIHJldHJpZXZpbmcgZGF0YVxuICAgICAgY291bnRfc2Vydl9ydWJyaWM6IDAsXG4gICAgICAvLyBTVU0oc2Vydl9ydWJyaWMuY291bnRfbWFzdGVyX3NlcnYpXG4gICAgICBzdW1fbWFzdGVyX3NlcnY6IDBcbiAgICB9LHtcbiAgICAgIGlkOlwibWFrZXVwXCIsXG4gICAgICBuYW1lOlwi0KPRgdC70YPQs9C4INCy0LjQt9Cw0LbQuNGB0YLQsFwiLFxuICAgICAgYXJyX3NlcnZfcnVicmljX3N0YXQ6IFtdLFxuICAgICAgY291bnRfc2Vydl9ydWJyaWM6IDAsXG4gICAgICBzdW1fbWFzdGVyX3NlcnY6IDBcbiAgICB9LHtcbiAgICAgIGlkOlwiY29zbWV0aWNcIixcbiAgICAgIG5hbWU6XCLQo9GB0LvRg9Cz0Lgg0LrQvtGB0LzQtdGC0L7Qu9C+0LPQsFwiLFxuICAgICAgYXJyX3NlcnZfcnVicmljX3N0YXQ6IFtdLFxuICAgICAgY291bnRfc2Vydl9ydWJyaWM6IDAsXG4gICAgICBzdW1fbWFzdGVyX3NlcnY6IDBcbiAgICB9XSxcbiAgICBsYW5nOiBcInJ1XCIsXG4gICAgZ2VvX2Rpc3RyaWN0X2lkOiBudWxsLFxuICAgIC8vIGxvYWQgb25jZSBwZXIgYXBwLCBwZXIgY2l0eVxuICAgIC8vIHJlLWxvYWQgZm9yIGFub3RoZXIgc2Vzc2lvbiAocmFyZSBjaGFuZ2VzIG9mIGRhdGEpXG4gICAgLy8gcmUtbG9hZCBmb3IgYW5vdGhlciBjaXR5XG4gICAgaXNfbG9hZGVkOiBmYWxzZVxuICB9O1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkcSwgJGh0dHAsIGhwckZhY3RvcnkpIHtcbiAgICB2YXIgc2V0UnVicmljc1RvR3JvdXAgPSBmdW5jdGlvbihmcmVzaEFyclJ1YnJpYywgZ3JwSXRlbSl7XG4gICAgICB2YXIgdG1wU3VtTWFzdGVyU2VydiA9IDA7XG4gICAgICB2YXIgdG1wQXJyID0gZnJlc2hBcnJSdWJyaWMuZmlsdGVyKGZ1bmN0aW9uKHJiclN0YXQpe1xuXG5cdGlmIChyYnJTdGF0LnNlcnZfcnVicmljLnNlcnZfZ3JvdXBfaWQgPT09IGdycEl0ZW0uaWQpe1xuXHQgIHRtcFN1bU1hc3RlclNlcnYgKz0gcmJyU3RhdC5jb3VudF9tYXN0ZXJfc2Vydjtcblx0ICByZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcblxuICAgICAgLy8gc29ydCBhcnJheSBieSBudW1iZXIgb2YgbWFzdGVyc1xuICAgICAgdG1wQXJyLnNvcnQoZnVuY3Rpb24oYSwgYil7XG5cdGlmIChhLmNvdW50X21hc3Rlcl9zZXJ2ID4gYi5jb3VudF9tYXN0ZXJfc2Vydil7XG5cdCAgcmV0dXJuIC0xO1xuXHR9XG5cdGlmIChhLmNvdW50X21hc3Rlcl9zZXJ2IDwgYi5jb3VudF9tYXN0ZXJfc2Vydil7XG5cdCAgcmV0dXJuIDE7XG5cdH1cblx0cmV0dXJuIDA7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gY2xlYXIgcHJldmlvdXNcbiAgICAgIGdycEl0ZW0uYXJyX3NlcnZfcnVicmljX3N0YXQubGVuZ3RoID0gMDtcbiAgICAgIC8vIGF0dGFjaCBuZXcgKHdpdGhvdXQgYnJlYWtpbmcgYSBwb2ludGVyKVxuICAgICAgYW5ndWxhci5leHRlbmQoZ3JwSXRlbS5hcnJfc2Vydl9ydWJyaWNfc3RhdCwgdG1wQXJyKTtcbiAgICAgIFxuICAgICAgZ3JwSXRlbS5jb3VudF9zZXJ2X3J1YnJpYyA9IHRtcEFyci5sZW5ndGg7XG4gICAgICBncnBJdGVtLnN1bV9tYXN0ZXJfc2VydiA9IHRtcFN1bU1hc3RlclNlcnY7XG4gICAgfTtcbiAgICBcbiAgICAvLyBjb252ZXJ0IGZyb20gcmVzcG9uc2UgdG8gb3VyIG9iamVjdFxuICAgIC8vIGdyb3VwIGJ5IHNlcnZfZ3JvdXBcbiAgICAvLyBkbyBub3QgcmVtb3ZlIHNlcnZfZ3JvdXBzOlxuICAgIC8vIGNsZWFuIG9ubHkgYXJyX3NlcnZfcnVicmljXG4gICAgLy8gYW5kIGFkZCBuZXdzIG9uZVxuICAgIC8vIEFkZCBhbGwgYXJyYXkgYXQgYSBtb21lbnQ6IGRvIG5vdCBhZGQgaXRlbXMgc2VwYXJhdGVseVxuICAgIC8vICAgaXQgbWlnaHQgb2NjdXIgYW4gZXJyb3IgZHVyaW5nIGRvdWJsZS1yZXF1ZXN0ICAgXG4gICAgdmFyIGhhbmRsZVJlc3VsdCA9IGZ1bmN0aW9uKHIpe1xuICAgICAgLy9jb25zb2xlLmxvZyhyLmRhdGEpO1xuICAgICAgLy9yLmRhdGEuYXJyX3NlcnZfcnVicmljX3N0YXRcbiAgICAgIC8vIGdyb3VwIGJ5IHNlcnZfZ3JvdXBzXG4gICAgICByZXBvRGF0YS5hcnJfc2Vydl9ncm91cFxuXHQuZm9yRWFjaChhbmd1bGFyLmJpbmQobnVsbCwgc2V0UnVicmljc1RvR3JvdXAsXG5cdFx0IHIuZGF0YS5hcnJfc2Vydl9ydWJyaWNfc3RhdCkpO1xuXG4gICAgICAvLyBhdHRhY2ggbmV3IHZhbHVlcyAoZmlsdGVycylcbiAgICAgIHJlcG9EYXRhLmdlb19kaXN0cmljdF9pZCA9IHIuZGF0YS5nZW9fZGlzdHJpY3RfaWQ7XG4gICAgICAvLyAgICAgIGNvbnNvbGUubG9nKHJlcG9EYXRhKTtcbiAgICAgIC8qKlxuICAgICAgICogV2hldGhlciB0aGUgcnVicmljcyBhcmUgbG9hZGVkXG4gICAgICAgKi9cbiAgICAgIHJlcG9EYXRhLmlzX2xvYWRlZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHNlcnYgc3RhdFxuICAgICAqL1xuICAgIHZhciByZXRyaWV2ZURhdGEgPSBmdW5jdGlvbihnZW9EaXN0cmljdElkLCBsYW5nKSB7XG4gICAgICAvLyBsb2FkIG9uY2UgcGVyIGFwcCwgcGVyIGNpdHlcbiAgICAgIC8vIHJlLWxvYWQgZm9yIGFub3RoZXIgc2Vzc2lvbiAocmFyZSBjaGFuZ2VzIG9mIGRhdGEpXG4gICAgICAvLyByZS1sb2FkIGZvciBhbm90aGVyIGNpdHlcbiAgICAgIGlmIChyZXBvRGF0YS5pc19sb2FkZWQgJiZcbiAgICAgIFx0ICByZXBvRGF0YS5nZW9fZGlzdHJpY3RfaWQgPT09IGdlb0Rpc3RyaWN0SWQpe1xuICAgICAgXHR2YXIgZGZyID0gJHEuZGVmZXIoKTtcbiAgICAgIFx0ZGZyLnJlc29sdmUoKTtcbiAgICAgIFx0cmV0dXJuIGRmci5wcm9taXNlO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXBvRGF0YS5pc19sb2FkZWQgPSBmYWxzZTtcbiAgICAgIHZhciBpZHNTZXJ2R3JvdXAgPSByZXBvRGF0YVxuXHQgICAgLmFycl9zZXJ2X2dyb3VwLm1hcChmdW5jdGlvbihpdGVtKXtcblx0ICAgICAgXG5cdCAgICAgIHJldHVybiBpdGVtLmlkO1xuXHQgICAgfSk7XG5cbiAgICAgIHZhciByZXEgPSB7XG5cdG1ldGhvZDogXCJHRVRcIixcblx0dXJsOiBBUFBDT05GLkFQSU1BU19FTkRQT0lOVCArIFwiL3J1YnJpYy9nZXQtZ3JvdXAtc3RhdFwiLFxuXHQvLyBwcmV2OiBnZXQtc2Vydi1zdGF0XG5cdHBhcmFtczoge1xuXHQgIGlkc19zZXJ2X2dyb3VwOiBpZHNTZXJ2R3JvdXAuam9pbignX18nKSxcblx0ICBnZW9fZGlzdHJpY3RfaWQ6IGdlb0Rpc3RyaWN0SWQsXG5cdCAgbGFuZzogbGFuZ1xuXHR9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gJGh0dHAocmVxKS50aGVuKGhhbmRsZVJlc3VsdCk7XG4gICAgICAvLyBjYXRjaCBlcnJvcnMgaW4gbWFpbiBjb2RlXG4gICAgfTtcblxuICAgIHZhciBjYWxjU2Vydkdyb3VwQnlJZCA9IGZ1bmN0aW9uKHNlcnZHcm91cElkKXtcbiAgICAgIHJldHVybiBocHJGYWN0b3J5XG5cdC5maW5kRWxlbUJ5UHJvcChyZXBvRGF0YS5hcnJfc2Vydl9ncm91cCxcblx0XHRcdCdpZCcsXG5cdFx0XHRzZXJ2R3JvdXBJZCk7XHRcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBnZXRJZHM6IGZ1bmN0aW9uKCl7XG5cdHJldHVybiByZXBvRGF0YS5hcnJfc2Vydl9ncm91cC5tYXAoZnVuY3Rpb24oaXRlbSl7XG5cdCAgcmV0dXJuIGl0ZW0uaWQ7XG5cdH0pO1xuICAgICAgfSwgICAgICBcbiAgICAgIC8vICAgICAgc2V0RGF0YTogc2V0RGF0YSwgLy8gcmVhZC1vbmx5IHJlcG9cbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XG4gICAgICAgIHJldHVybiByZXBvRGF0YTtcbiAgICAgIH0sXG4gICAgICByZXRyaWV2ZURhdGE6IHJldHJpZXZlRGF0YSxcbiAgICAgIGNhbGNTZXJ2R3JvdXBCeUlkOiBjYWxjU2Vydkdyb3VwQnlJZCxcbiAgICAgIGNhbGNTZXJ2UnVicmljU3RhdDogZnVuY3Rpb24oc2Vydkdyb3VwLCBzZXJ2UnVicmljSWQpe1xuXHRyZXR1cm4gc2Vydkdyb3VwLmFycl9zZXJ2X3J1YnJpY19zdGF0LmZpbHRlcihmdW5jdGlvbih0bXBSdWJyaWNTdGF0KXtcdCBcblx0ICByZXR1cm4gdG1wUnVicmljU3RhdC5zZXJ2X3J1YnJpYy5pZCA9PT0gc2VydlJ1YnJpY0lkO1xuXHR9KVswXTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5ydWJyaWNSZXBvJywgW1xuICAgICdteUFwcC5ocHJGYWN0b3J5J1xuICBdKVxuXG4gICAgLmZhY3RvcnkoJ3J1YnJpY1JlcG8nLCBbXG4gICAgICAnJHEnLFxuICAgICAgJyRodHRwJyxcbiAgICAgICdocHJGYWN0b3J5JyxcbiAgICAgIHhwb1xuICAgIF0pO1xuXG59KHdpbmRvdy5hbmd1bGFyLCB3aW5kb3cuQVBQQ09ORikpO1xuXG4vLyAgdmFyIHNldERhdGEgPSBmdW5jdGlvbih0bXBEYXRhKSB7XG4vLyAvLyByZW1vdmUgYWxsIHByZXYgZWxlbWVudHNcbi8vIGRhdGEubGVuZ3RoID0gMDtcbi8vIC8vIGFkZCBuZXcgZWxlbWVudHNcbi8vIGFuZ3VsYXIuZXh0ZW5kKGRhdGEsIHRtcERhdGEpO1xuLy8gLy8gZGF0YSA9IHRtcERhdGEgLSBicmVhayBjdXJyZW50IHJlZmVyZW5jZXNcbi8vICAgIH07XG5cblxuLy8gU0VMRUNUIGNvdW50ZXJzIEZST00gbWFzdGVyIG1wXG4vLyBXSEVSRSBtcC5nZW9fZGlzdHJpY3RfaWQgPSBnZW9fZGlzdHJpY3RfaWRcbi8vIEpPSU4gbWFzdGVyX3NlcnYgbXNcbi8vIEpPSU4gc2Vydl9ydWJyaWNzIHNyXG4vLyBXSEVSRSBzci5zZXJ2X2dyb3VwX2lkIEFOWSBzZXJ2X2dyb3VwX2lkc1xuLy8gICBjYW4gYmUgY2hhbmdlZCBsYXRlciB0byBvbmx5IG9uZSBzZXJ2X2dyb3VwX2lkXG4vLyBHUk9VUCBieSBzci5pZFxuLy8gT1JERVIgYnkgQ09VTlQobXMpIC8gcGVyIHJ1YnJpY1xuXG4vLyBzZXJ2X2dyb3VwX2lkcyAtICduYWlsX2hhaXJfLi5cIlxuLy8gdGhpcyByZXF1ZXN0IGRvZXNuJ3QgdG91Y2ggc2Vydl9ncm91cCB0YWJsZVxuLy8gYW5kIGl0IGlzIGJldHRlciB0aGFuIDUgc2VwYXJhdGUgc2luZ2xlIHJlcXVlc3RzXG5cblxuLy8gZnJvbSB0aGlzIHJlc3BvbnNlOiBjYWxjIGNvdW50ZXJzIHBlciBzZXJ2X2dyb3VwXG4vLyBzZXJ2X2dyb3VwX2lkIHwgY291bnQocnVicmljcykgfCBjb3VudChtYXN0ZXJfc2Vydilcbi8vIHRoaXMgcmVxdWVzdCBpcyB0aGUgc2FtZSBKT0lORVIsIGV4Y2VwdFxuLy8gLSBmdWxsIGxpc3Qgb2YgcnVicmljcywgaW5zdGVhZCBjb3VudChydWJyaWNzKSBvbmx5XG4vLyAtIGNvdW50X21hc3Rlcl9zZXJ2IHBlciBydWJyaWMsIGluc3RlYWQgZ2xvYmFsIGNvdW50XG5cbi8vIHRoaXMgcmVxdWVzdCBpcyBiZXR0ZXIgdGhhblxuLy8gZ2xvYmFsIGNvdW50ZXIgcGVyIHNlcnZfZ3JvdXBcbi8vIC0gbm8gbmVlZCB0byBzZW5kIHJlcXVlc3RzLCBpZiBzZXJ2X2dyb3VwIGlzIGNoYW5nZWRcbi8vICAgaXQgaXMgcG9zc2libGUgc2l0dWF0aW9uXG4vLyAtIGEgY2xpZW50IGNhbiB2aWV3IG5vdCBvbmx5IGNvdW50ZXJzLFxuLy8gICBidXQgcnVicmljIG5hbWVzXG4vLyBvdmVyZmxvdyBpbm5lciBqb2luIHdpdGggcnVicmljIG5hbWVzOiBidXRcbi8vICAgaXQgaXMgdGFzayBvZiBtaWRkbGUtZGJcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJlcG9EYXRhICA9IHtcbiAgICBwb3M6MFxuICB9O1xuICBcbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIHNldFBvc2l0aW9uIG9ubHkgZm9yIHNjcm9sbCBiaW5kXG4gICAgICBzZXRQb3M6IGZ1bmN0aW9uKHBvcyl7XG5cdHJlcG9EYXRhLnBvcyA9IHBvcztcblx0Ly9cdGNvbnNvbGUubG9nKHJlcG9EYXRhLnBvcyk7XG4gICAgICB9LFxuICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oKXtcblx0cmV0dXJuIHJlcG9EYXRhO1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuc2Nyb2xsUmVwbycsIFtdKVxuICAgIC5mYWN0b3J5KCdzY3JvbGxSZXBvJywgW3hwb10pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCBBUFBDT05GKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgYXJyX3NlcnZfaW5mbzogW10sXG4gICAgbGltaXQ6IG51bGwsXG4gICAgc3RhcnRfaWQ6IG51bGwsXG4gICAgbmV4dF9zdGFydF9pZDogbnVsbCxcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBuZXcgcmVjb3JkcyBleGlzdD9cbiAgICAgKi9cbiAgICBpc19tb3JlX2V4aXN0OiBmYWxzZVxuICB9O1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkcSwgJGh0dHApIHtcbiAgICB2YXIgY2xlYW5BcnJTZXJ2SW5mbyA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXBvRGF0YS5hcnJfc2Vydl9pbmZvLmxlbmd0aCA9IDA7XG4gICAgICByZXBvRGF0YS5saW1pdCA9IG51bGw7XG4gICAgICByZXBvRGF0YS5zdGFydF9pZCA9IG51bGw7XG4gICAgICByZXBvRGF0YS5uZXh0X3N0YXJ0X2lkID0gbnVsbDtcbiAgICAgIHJlcG9EYXRhLmlzX21vcmVfZXhpc3QgPSBmYWxzZTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBhZGREYXRhID0gZnVuY3Rpb24ocikge1xuICAgICAgLy8gY29uc29sZS5sb2coJ2luc3RhJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhyKTtcbiAgICAgIC8vIHJldHVybjtcbiAgICAgIHZhciBjb250ZW50ID0gci5kYXRhO1xuXG4gICAgICBjb250ZW50LmFycl9zZXJ2X2luZm8uZm9yRWFjaChmdW5jdGlvbih2KSB7XG5cdHJlcG9EYXRhLmFycl9zZXJ2X2luZm8ucHVzaCh2KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBhbmd1bGFyIGV4dGVuZCBkb2VzbnQgd29yayBmb3Igbm9uLWVtcHR5IGFycmF5c1xuICAgICAgLy8gbGlrZSBbMTIzLDIzNF0gd2l0aCBbNTQ1Nl0gd2lsbCBiZSBbNTQ1NiwgMjM0XVxuICAgICAgLy8gYW5ndWxhci5leHRlbmQocmVwb0RhdGEuYXJyX3NlcnZfaW5mbyxcbiAgICAgIC8vIFx0XHQgICAgIGNvbnRlbnQuYXJyX3NlcnZfaW5mbyk7XG5cbiAgICAgIC8vIG90aGVyIHZhcmlhbnQgYW5ndWxhci5tZXJnZSAob25seSBvbiB2MS40KVxuXG4gICAgICByZXBvRGF0YS5saW1pdCA9IHBhcnNlSW50KGNvbnRlbnQubGltaXQsIDEwKTtcbiAgICAgIHJlcG9EYXRhLnN0YXJ0X2lkID0gY29udGVudC5zdGFydF9pZDtcbiAgICAgIHJlcG9EYXRhLm5leHRfc3RhcnRfaWQgPSBjb250ZW50Lm5leHRfc3RhcnRfaWQ7XG4gICAgICBpZiAocmVwb0RhdGEubGltaXQgPT09IGNvbnRlbnQuYXJyX3NlcnZfaW5mby5sZW5ndGgpe1xuXHRyZXBvRGF0YS5pc19tb3JlX2V4aXN0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG5cdHJlcG9EYXRhLmlzX21vcmVfZXhpc3QgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9O1xuICAgXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYXJyX21hc3Rlcl9zZXJ2IFxuICAgICAqICAgd2l0aCBtYXN0ZXJfcHJvZmlsZVxuICAgICAqICAgYW5kIG9uZSBzZXJ2X3dvcmsgKGUuZy4gYmVzdClcbiAgICAgKiAgIGFuZCBtYXN0ZXJfdXNlclxuICAgICAqICAgZmlsdGVyZWQgYnk6XG4gICAgICogICAtIG1hc3Rlcl9hZGRyZXNzLmdlb19kaXN0cmljdF9pZFxuICAgICAqICAgLSBtYXN0ZXJfc2Vydi5pZF9zZXJ2X3J1YnJpYyBhcnJheVxuICAgICAqICAgLSBnZW5kZXIsIGlzX291dF9vbmx5Li4uIHZOZXh0XG4gICAgICogICBzb3J0ZWQgYnlcbiAgICAgKiAgIC0gbWFzdGVyX3Byb2ZpbGUubGFzdF9tb2RpZmllZCAodGhlbiBieSBpZClcbiAgICAgKiAgICAgb3B0aW9uYWxseSBieSBwcmljZV9mcm9tLCBwcmljZV90bywgZXRjLi4uLiB2TmV4dFxuICAgICAqICAgbGltaXQgYnlcbiAgICAgKiAgIC0gc3RhcnRfaWRcbiAgICAgKiAgIC0gY291bnRcbiAgICAgKi9cbiAgICB2YXIgcmV0cmlldmVEYXRhID0gZnVuY3Rpb24oaWRzU2VydlJ1YnJpYyxcblx0XHRcdFx0Z2VvRGlzdHJpY3RJZCl7XG4gICAgICBcbiAgICAgIHZhciByZXEgPSB7XG5cdG1ldGhvZDogXCJHRVRcIixcblx0dXJsOiBBUFBDT05GLkFQSU1BU19FTkRQT0lOVCArIFwiL21hc3Rlci9nZXQtc2Vydi1zY29wZTJcIixcblx0cGFyYW1zOiB7XG5cdCAgaWRzX3NlcnZfcnVicmljOiBpZHNTZXJ2UnVicmljLmpvaW4oJ19fJyksXG5cdCAgZ2VvX2Rpc3RyaWN0X2lkOiBnZW9EaXN0cmljdElkLFxuXHQgIGlzX291dF9vbmx5OiBmYWxzZSxcblx0ICAvLyAwIG9yIG51bGwgb3IgdW5kZWZpbmVkIC0gZm9yIGEgZmlyc3QgcmVxdWVzdFxuXHQgIHN0YXJ0X2lkOiByZXBvRGF0YS5uZXh0X3N0YXJ0X2lkLFxuXHQgIGxpbWl0OiAxNlxuXHR9XG4gICAgICB9O1xuXG4gICAgICAvLyBUT0RPOiBhZGQgdG8gYXJyYXksIGRlcGVuZHMgb2YgbGltaXQgKyBvZmZzZXRcbiAgICAgIHJldHVybiAkaHR0cChyZXEpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuXHQgIGlmICghcmVwb0RhdGEubmV4dF9zdGFydF9pZCkge1xuXHQgICAgLy8gcmVwbGFjZSB0b3RhbCwgb2Zmc2V0LCBpdGVtcyAoMXN0IGxldmVsXG5cdCAgICAvLyAgICB3aXRob3V0IGRlZXAgY29weSlcblx0ICAgIC8vIGNsZWFuIHByZXYgdmFsdWVzXG5cdCAgICBjbGVhbkFyclNlcnZJbmZvKCk7XHQgICBcblx0ICB9XG5cblx0ICBhZGREYXRhKHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKCdkYXRhJywgZGF0YSk7XG4gICAgICAgIHJldHVybiByZXBvRGF0YTtcbiAgICAgIH0sXG4gICAgICAvLyBsb2FkIG1hc3Rlcl9zZXJ2aWNlc1xuICAgICAgcmV0cmlldmVEYXRhOiByZXRyaWV2ZURhdGEsXG4gICAgICBjbGVhbkFyclNlcnZJbmZvOiBjbGVhbkFyclNlcnZJbmZvXG4gICAgfTtcbiAgfTtcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuc2VydlJlcG8nLCBbXSlcblxuICAgIC5mYWN0b3J5KCdzZXJ2UmVwbycsIFtcbiAgICAgICckcScsXG4gICAgICAnJGh0dHAnLFxuICAgICAgeHBvXG4gICAgXSk7XG5cbn0od2luZG93LmFuZ3VsYXIsIHdpbmRvdy5BUFBDT05GKSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIHZhciB4cG8gPSBmdW5jdGlvbigpe1xuICAgIC8qKlxuICAgICAqIFNpdGUgZGF0YVxuICAgICAqICAgIG5vIGFwcC5pc19pbl9wcm9ncmVzcyBmbGFnIGZvciBlbnRpcmUgYXBwbGljYXRpb25cbiAgICAgKiAgICBzb21lIHBhcnRzIGNhbiBiZSBpbiBwcm9ncmVzcywgd2hpbGUgb3RoZXIgLSBub3RcbiAgICAgKiAgICBsaWtlIHdpZGdldHNcbiAgICAgKi9cbiAgICB2YXIgcmVwb0RhdGEgPSB7XG4gICAgICB0dGw6ICdEZWZhdWx0JyxcbiAgICAgIHByZXZfaHJlZjogJydcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBzZXRUaXRsZTogZnVuY3Rpb24odHRsKXtcblx0cmVwb0RhdGEudHRsID0gdHRsO1xuICAgICAgfSxcbiAgICAgIHNldFByZXZIcmVmOiBmdW5jdGlvbih0bXBIcmVmKXtcblx0cmVwb0RhdGEucHJldl9ocmVmID0gdG1wSHJlZjtcbiAgICAgIH0sXG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpe1xuXHRyZXR1cm4gcmVwb0RhdGE7IFxuICAgICAgfVxuICAgIH07XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZShcIm15QXBwLnNpdGVSZXBvXCIsIFtdKVxuICAgIC5mYWN0b3J5KCdzaXRlUmVwbycsIFt4cG9dKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7ICBcblxuICB2YXIgcGFyZW50RWwgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gIFxuICBmdW5jdGlvbiB4cG8oJG1kRGlhbG9nKSB7XG5cbiAgICB2YXIgbXNnID0gZnVuY3Rpb24oYmR5KSB7XG4gICAgICAkbWREaWFsb2cuc2hvdyh7XG5cdHRlbXBsYXRlVXJsOiAnYWxydC9hbHJ0LnRwbC5odG1sJyxcblx0Y29udHJvbGxlcjogJ0FscnRDb250cm9sbGVyJyxcblx0Y2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcblx0cGFyZW50OiBwYXJlbnRFbCxcblx0bG9jYWxzOiB7XG5cdCAgbXNnX2JvZHk6IGJkeVxuXHR9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gdmFyIGFscnQgPSAkbWREaWFsb2cuYWxlcnQoKVxuICAgICAgLy8gICAgICAgLy8ucGFyZW50KGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KSlcbiAgICAgIC8vIFx0ICAgIC50aXRsZShzdWJqKVxuICAgICAgLy8gXHQgICAgLmNvbnRlbnQoYmR5KVxuICAgICAgLy8gXHQgICAgLy8uYXJpYUxhYmVsKCdBbGVydCBEaWFsb2cgRGVtbycpXG4gICAgICAvLyBcdCAgICAub2soJ9Cf0L7QvdGP0YLQvdC+Jyk7XG5cbiAgICAgIC8vIC8vICAgICAgXHRjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuXG4gICAgICAvLyAkbWREaWFsb2cuc2hvdyhhbHJ0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBmdW5jdGlvbihiZHkpIHtcblx0bXNnKGJkeSk7XG4gICAgICB9XG4gICAgfTtcblxuICB9XG5cbiAgLy8gaHR0cDovL3BsbmtyLmNvL2VkaXQvSEtUQzFhP3A9cHJldmlld1xuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAubm90aWZGYWN0b3J5JywgW1xuICAgICduZ01hdGVyaWFsJyxcbiAgICAnbXlBcHAuQWxydENvbnRyb2xsZXInXG4gIF0pXG5cbiAgLmZhY3RvcnkoJ25vdGlmRmFjdG9yeScsIFtcbiAgICAnJG1kRGlhbG9nJyxcbiAgICB4cG9cbiAgXSk7XG5cbn0od2luZG93LmFuZ3VsYXIpKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkc2NvcGUsICRtZERpYWxvZywgZmlybUl0ZW1SZXBvKXtcbiAgICAkc2NvcGUuZmlybV9kYXRhID0gZmlybUl0ZW1SZXBvLmdldERhdGEoKTtcblxuICAgICRzY29wZS5oaWRlRGlhbG9nID0gZnVuY3Rpb24oKXtcbiAgICAgICRtZERpYWxvZy5oaWRlKCk7XG4gICAgfTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5GaXJtRGV0YWlsQ29udHJvbGxlcicsIFtcbiAgICAnbXlBcHAuZmlybUl0ZW1SZXBvJ1xuICBdKVxuICAgIC5jb250cm9sbGVyKCdGaXJtRGV0YWlsQ29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRtZERpYWxvZycsXG4gICAgICAnZmlybUl0ZW1SZXBvJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3RvbWJhdG9zc2Fscy9hbmd1bGFyLWxlYWZsZXQtZGlyZWN0aXZlXG4gKiBodHRwOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UuaHRtbFxuICogaHR0cDovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLmh0bWwjZ2VvanNvbi1zZXRzdHlsZVxuICogaHR0cDovL2xlYWZsZXRqcy5jb20vZXhhbXBsZXMvbW9iaWxlLmh0bWxcbiAqL1xuKGZ1bmN0aW9uKGFuZ3VsYXIsIGxmbCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ291bGRuJ3QgYXV0b2RldGVjdCBMLkljb24uRGVmYXVsdC5pbWFnZVBhdGhcbiAgLy8gLi8gLSB0aGlzIHJlbGF0aXZlIHBhdGggZG9lc24ndCB3b3JrIG9uIG1vYmlsZSAoZm9yIGpzIGF0dGFjaClcbiAgbGZsLkljb24uRGVmYXVsdC5pbWFnZVBhdGggPSAnLi9pbWFnZXMvJztcblxuICB2YXIgcGFyZW50RWwgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICRzdGF0ZSxcblx0XHQgICAgICRtZERpYWxvZyxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIGhwckZhY3RvcnksXG5cdFx0ICAgICBmaXJtTGlzdFJlcG8sXG5cdFx0ICAgICBwZXJtUmVwbyxcblx0XHQgICAgIGxvY1JlcG8sXG5cdFx0ICAgICBhZ2dsb1JlcG8sXG5cdFx0ICAgICBzaXRlUmVwbyxcblx0XHQgICAgIGZpcm1JdGVtUmVwbykge1xuXG4gICAgc2l0ZVJlcG8uc2V0UHJldkhyZWYoXG4gICAgICAkc3RhdGUuaHJlZignYnl0LmFnZ2xvSXRlbS5zcGVjTGlzdCcsIHtcbiAgICBcdFwiYWdnbG9faW50ZXJfY29kZVwiOiAkc2NvcGUuY3VyX2FnZ2xvLmludGVyX2NvZGVcbiAgICAgIH0pKTtcbiAgICBcbiAgICBzaXRlUmVwby5zZXRUaXRsZSgkc2NvcGUuY3VyX3NwZWMubmFtZSk7XG4gICAgXG4gICAgJHNjb3BlLmZpcm1fbGlzdF9kYXRhID0gZmlybUxpc3RSZXBvLmdldERhdGEoKTtcbiAgICBcbiAgICAkc2NvcGUubWFwX2RlZmF1bHRzID0ge1xuICAgICAgLy8gaHR0cHMgZG9lc250IHdvcmtzXG4gICAgICB0aWxlTGF5ZXI6IFwiaHR0cHM6Ly8vL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZ1wiLFxuICAgICAgdGlsZUxheWVyT3B0aW9uczoge1xuICAgICAgICAvL29wYWNpdHk6IDAuOSxcbiAgICAgICAgZGV0ZWN0UmV0aW5hOiB0cnVlLFxuICAgICAgICByZXVzZVRpbGVzOiB0cnVlLFxuXHRhdHRyaWJ1dGlvbjogJ8KpIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycyB8IDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwOi8vYXBpLjJnaXMucnUvXCI+0J/RgNC10LTQvtGB0YLQsNCy0LvQtdC90L4gMtCT0JjQoTwvYT4nXG4gICAgICB9LFxuICAgICAgem9vbUNvbnRyb2xQb3NpdGlvbjogJ3RvcGxlZnQnXG4gICAgICAvL3pvb21Db250cm9sOiBmYWxzZVxuICAgICAgLy8gaWNvbjoge1xuICAgICAgLy8gICB1cmw6ICdodHRwOi8vY2RuLmxlYWZsZXRqcy5jb20vbGVhZmxldC0wLjYuNC9pbWFnZXMvbWFya2VyLWljb24ucG5nJyxcbiAgICAgIC8vIH0sXG4gICAgICAvL21heFpvb206IDE3XG4gICAgICAvLyBwYXRoOiB7XG4gICAgICAvLyAgIHdlaWdodDogMTAsXG4gICAgICAvLyAgIGNvbG9yOiAnIzgwMDAwMCcsXG4gICAgICAvLyAgIG9wYWNpdHk6IDFcbiAgICAgIC8vIH1cbiAgICB9O1xuXG4gICAgLy8gaHR0cDovL3RvbWJhdG9zc2Fscy5naXRodWIuaW8vYW5ndWxhci1sZWFmbGV0LWRpcmVjdGl2ZS8jIS9leGFtcGxlcy9ldmVudHNcbiAgICAkc2NvcGUubWFwX2V2ZW50cyA9IHtcbiAgICAgIG1hcDoge1xuICAgICAgICAvLyB6b29tZW5kIGV4ZWN1dGVzIG1vdmVlbmRcblx0Ly8gICAoYSBtYXAgaXMgbW92ZXMsIHdoZW4gYSB6b29tIHZhbHVlIGNoYW5nZWQpXG4gICAgICAgIC8vIGxvYWQgZXhlY3V0ZXMgbW92ZWVuZFxuICAgICAgICAvLyBvdGhlciBldmVudHM6XG5cdC8vICAgaHR0cDovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLmh0bWwjbWFwLWV2ZW50c1xuICAgICAgICBlbmFibGU6IFsnbW92ZWVuZCddLFxuICAgICAgICBsb2dpYzogJ2VtaXQnXG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5tYXBfcGF0aHMgPSB7XG4gICAgICBwMToge1xuICAgICAgICAvLyBodHRwOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UuaHRtbCNwYXRoLW9wdGlvbnNcbiAgICAgICAgd2VpZ2h0OiAyLCAvLyBib3JkZXJzIHdpZHRoXG4gICAgICAgIHN0cm9rZTogdHJ1ZSwgLy8gYm9yZGVyXG4gICAgICAgIG9wYWNpdHk6IDAuNSwgLy9ib3JkZXIgb3BhY2l0eVxuICAgICAgICBmaWxsT3BhY2l0eTogMCxcbiAgICAgICAgY2xpY2thYmxlOiBmYWxzZSwgLy8gbm8gZXZlbnRzXG4gICAgICAgIGNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAvL29wYWNpdHk6IDAsIC8vIGRvZXNudCB3b3JrXG5cdC8vIHN0YXJ0IHBvc2l0aW9uOiBubyBtYXR0ZXJcbiAgICAgICAgbGF0bG5nczogWzQwLCA0MF0sXG5cdC8vWzQzLjYwNzg5NzYzNjU1OTIxLCAzOS43NDQ2Mjk4NTk5MjQzMTZdLFxuICAgICAgICAvLyDQv9C+INC/0L7Qu9GD0YfQtdC90L3Ri9C8INC60L7QvNC/0LDQvdC40Y/QvCwg0LHRgNCw0YLRjCDQv9C10YDQstGL0LUgNTAg0LHQu9C40LbQsNC50YjQuNGFXG4gICAgICAgIC8vINC4INGB0YPQttCw0YLRjCDRgNCw0LTQuNGD0YEg0LTQviDRgdCw0LzQvtCz0L4g0LTQsNC70YzQvdC10LPQvlxuICAgICAgICAvLyDQldGB0LvQuCDQvNC10L3QtdC1IDUwLdGC0LgsINGC0L4g0L7RgdGC0LDQstC70Y/RgtGMINC60LDQuiDQtdGB0YLRjFxuICAgICAgICAvLyDQn9C+0LrQsNC30YvQstCw0YLRjCDQsdC+0LvQtdC1IDUwLdGC0Lgg0L3QtSDQvdGD0LbQvdC+XG5cdC8vICAgICjQvtCx0YnQtdC1INGH0LjRgdC70L4g0LzQvtC20L3QviDQvtGC0LTQtdC70YzQvdC+KVxuICAgICAgICByYWRpdXM6IDMwMDAsIC8vIG1ldGVyc1xuICAgICAgICB0eXBlOiAnY2lyY2xlJ1xuICAgICAgfVxuICAgICAgLy8gcDI6IHtcbiAgICAgIC8vICAgd2VpZ2h0OiAwLCAvLyBubyBib3JkZXJzXG4gICAgICAvLyAgIGNvbG9yOiAnYmx1ZScsXG4gICAgICAvLyAgIC8vb3BhY2l0eTogMCwgLy8gZG9lc250IHdvcmtcbiAgICAgIC8vICAgbGF0bG5nczogWzQzLjYwNzg5NzYzNjU1OTIxLCAzOS43NDQ2Mjk4NTk5MjQzMTZdLFxuICAgICAgLy8gICByYWRpdXM6IDEwLCAvLyBtZXRlcnNcbiAgICAgIC8vICAgdHlwZTogJ2NpcmNsZSdcbiAgICAgIC8vIH1cbiAgICB9O1xuXG4gICAgLy8gUG9zaXRpb24gb2YgdGhlIG1hcCBhZnRlciBtb3ZpbmcgKHpvb21pbmcpXG4gICAgLy8gTW92aW5nICh6b29taW5nKSBkb2VzIG5vdCBjaGFuZ2UgZ2xvYmFsIGN1cnJlbnQgcG9zaXRpb25cbiAgICAkc2NvcGUuenVycG9zID0ge1xuICAgICAgbG5nOiBudWxsLFxuICAgICAgbGF0OiBudWxsLFxuICAgICAgem9vbTogbnVsbFxuICAgIH07XG5cbiAgICB2YXIgaXNfZmlyc3RfbW92ZWVuZCA9IHRydWU7XG5cbiAgICB2YXIgY2JrQ2F0Y2hSZXRyaWV2ZSA9IGZ1bmN0aW9uKCl7XG4gICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGB0LDQu9C+0L3QvtCyLiDQn9C+0L/RgNC+0LHRg9C50YLQtSDQv9C+0LfQttC1LicpOyAgIFxuICAgIH07XG5cbiAgICB2YXIgY2JrRmluYWxseVJldHJpZXZlID0gZnVuY3Rpb24oaXNGaXJzdE1vdmVFbmQpe1xuICAgICAgaWYgKGlzRmlyc3RNb3ZlRW5kKXtcblx0JHNjb3BlLmh0bWxSZWFkeSgpO1xuICAgICAgfSAgICAgIFxuICAgIH07XG4gICAgXG4gICAgLy8gTGlzdGVuIGV2ZW50cyBmcm9tIGEgbWFwXG4gICAgJHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcC5tb3ZlZW5kJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHZhciBjbnRyID0gZXZlbnQudGFyZ2V0U2NvcGUuY2VudGVyO1xuXG4gICAgICB2YXIgaXNFbm91Z2ggPSB0cnVlO1xuXG4gICAgICBpZiAoJHNjb3BlLnp1cnBvcy5sbmcpIHtcbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5tYXgoXG4gICAgICAgICAgTWF0aC5hYnMoY250ci5sbmcgLSAkc2NvcGUuenVycG9zLmxuZyksXG4gICAgICAgICAgTWF0aC5hYnMoY250ci5sYXQgLSAkc2NvcGUuenVycG9zLmxhdCkpO1xuICAgICAgICAvLzAuMDAxNSAtIG5vcm1hbCAgIFxuXG4gICAgICAgIGlmIChkZWx0YSA8IDAuMDAxNSkge1xuICAgICAgICAgIGlzRW5vdWdoID0gZmFsc2U7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2RlbHRhJywgZGVsdGEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRzY29wZS56dXJwb3MubG5nID0gY250ci5sbmc7XG4gICAgICAkc2NvcGUuenVycG9zLmxhdCA9IGNudHIubGF0O1xuICAgICAgJHNjb3BlLnp1cnBvcy56b29tID0gY250ci56b29tO1xuXG4gICAgICBpZiAoY250ci56b29tIDwgMTQpIHtcblx0ZmlybUxpc3RSZXBvLmNsZWFyRGF0YSgpO1xuICAgICAgICAkc2NvcGUubWFwX3BhdGhzLnAxLnJhZGl1cyA9IDA7IC8vIGhpZGUgYSBjaWNybGVcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoaXNFbm91Z2gpIHtcblx0ICB2YXIgdG1wU2xjU2Vydkdyb3VwSWQgPSAkc2NvcGUuY3VyX3NwZWMuaWQ7XG5cdCAgaWYgKCF0bXBTbGNTZXJ2R3JvdXBJZCl7XG5cdCAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9CU0LvRjyDQv9C+0LrQsNC30LAg0YHQsNC70L7QvdC+0LIg0L3QtdC+0LHRhdC+0LTQuNC80L4g0LLRi9Cx0YDQsNGC0Ywg0YDRg9Cx0YDQuNC60YMnKTtcblx0ICAgIFxuXHQgIH1cblx0ICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGxvYWQgbmV3IGNvbXBhbmllcywgaWYgbW92ZWQgbW9yZSB0aGFuIDEwMCBtZXRlcnNcblx0ICAgIGZpcm1MaXN0UmVwby5yZXRyaWV2ZURhdGEoJHNjb3BlLnp1cnBvcy5sbmcsXG5cdFx0XHRcdCAgICAgICRzY29wZS56dXJwb3MubGF0LFxuXHRcdFx0XHQgICAgICB0bXBTbGNTZXJ2R3JvdXBJZClcblx0ICAgIC8vIHRoZW4gbm90aGluZzogc2hvdyBhdXRvbWF0aWNhbGx5XG5cdCAgICAvLyAudGhlbihhbmd1bGFyLmJpbmQobnVsbCwgY2JrVGhlblJldHJpZXZlKSlcblx0ICAgICAgLmNhdGNoKGFuZ3VsYXIuYmluZChudWxsLCBjYmtDYXRjaFJldHJpZXZlKSlcblx0ICAgICAgLmZpbmFsbHkoYW5ndWxhci5iaW5kKG51bGwsXG5cdFx0XHRcdCAgICBjYmtGaW5hbGx5UmV0cmlldmUsXG5cdFx0XHRcdCAgIGlzX2ZpcnN0X21vdmVlbmQpKTtcblx0ICAgIFxuXHQgICAgXG4gICAgICAgICAgICAkc2NvcGUubWFwX3BhdGhzLnAxLmxhdGxuZ3MgPSBbY250ci5sYXQsIGNudHIubG5nXTtcbiAgICAgICAgICAgICRzY29wZS5tYXBfcGF0aHMucDEucmFkaXVzID0gMzAwMDtcblx0ICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gbm90IG1vdmUgY2ljcmxlIGFuZCBtYXJrZXJzXG4gICAgICB9XG4gICAgICBpc19maXJzdF9tb3ZlZW5kID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICB2YXIgY3VyX3BvcHVwID0gbnVsbDtcbiAgICBcbiAgICAkc2NvcGUuJG9uKCdsZWFmbGV0RGlyZWN0aXZlTWFya2VyLnBvcHVwb3BlbicsIGZ1bmN0aW9uKGUsIGFyZ3MpIHtcbiAgICAgIGN1cl9wb3B1cCA9IGFyZ3MubGVhZmxldEV2ZW50LnBvcHVwLl9zb3VyY2U7XG4gICAgICAvLyBBcmdzIHdpbGwgY29udGFpbiB0aGUgbWFya2VyIG5hbWVcbiAgICAgIC8vICAgYW5kIG90aGVyIHJlbGV2YW50IGluZm9ybWF0aW9uXG4gICAgICAvLyAgICAgIGNvbnNvbGUubG9nKFwiTGVhZmxldCBQb3B1cCBPcGVuXCIsIGUsIGFyZ3MpO1xuICAgIH0pO1xuICAgIFxuICAgIHZhciBjYmtMb2FkRmlybSA9IGZ1bmN0aW9uKGV2KSB7ICAgICBcblxuICAgICAgJG1kRGlhbG9nLnNob3coe1xuXHRjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuXHQvL3ByZXNlcnZlU2NvcGU6IHRydWUsXG5cdHBhcmVudDogcGFyZW50RWwsXG5cdGNvbnRyb2xsZXI6ICdGaXJtRGV0YWlsQ29udHJvbGxlcicsXG5cdHRlbXBsYXRlVXJsOiAnYWdnbG8taXRlbS9zcGVjLWl0ZW0vc2Fsb24tbGlzdC9maXJtLWRldGFpbC50cGwuaHRtbCcsXG5cdC8vIGhpZGUgZGlhbG9nIGluIHRoaXMgZXYucG9pbnQgKGFuaW1hdGlvbilcblx0dGFyZ2V0RXZlbnQ6IGV2LFxuXHRvbkNvbXBsZXRlOiBmdW5jdGlvbigpe1xuXHQgIGlmIChjdXJfcG9wdXApe1xuICAgICAgXHQgICAgY3VyX3BvcHVwLmNsb3NlUG9wdXAoKTtcblx0ICB9XG5cdH1cbiAgICAgIH0pO1xuXHQvLyAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgIC8vIFx0Ly9cdCAgJHNjb3BlLmFsZXJ0ID0gJ1lvdSBzYWlkIHRoZSBpbmZvcm1hdGlvbiB3YXMgXCInICsgYW5zd2VyICsgJ1wiLic7XG4gICAgICAvLyB9LCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFx0Ly8kc2NvcGUuYWxlcnQgPSAnWW91IGNhbmNlbGxlZCB0aGUgZGlhbG9nLic7XG4gICAgICAvLyB9KTtcbiAgICAgIFxuICAgIH07XG5cbiAgICB2YXIgY2JrTG9hZEZpcm1FcnIgPSBmdW5jdGlvbihlcnJGaXJtKSB7XG4gICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INC40L3RhNC+0YDQvNCw0YbQuNC4INC+INC60L7QvNC/0LDQvdC40LguINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7Qt9C20LUuJyk7XG4gICAgICBjb25zb2xlLmxvZygnZXJyRmlybScsIGVyckZpcm0pO1xuICAgIH07XG4gICAgXG4gICAgd2luZG93LnNob3dGaXJtSW5mbyA9IGZ1bmN0aW9uKGV2LCBpZCwgZmlsaWFsSGFzaCkge1xuICAgICAgZmlybUl0ZW1SZXBvLnJldHJpZXZlRGF0YShpZCwgZmlsaWFsSGFzaClcbiAgICAgICAgLnRoZW4oYW5ndWxhci5iaW5kKG51bGwsIGNia0xvYWRGaXJtLCBldiksXG5cdCAgICAgIGNia0xvYWRGaXJtRXJyKTtcbiAgICB9O1xuXG4gICAgLy8gMS4gZ2V0IGN1cnJlbnQgYWdnbG9tZXJhdGlvblxuICAgIC8vIDIuIGdldCBwZXJtaXNzaW9uXG4gICAgLy8gMi4xIGlmIHBlcm0gPT09IHRydWVcbiAgICAvLyAgICAgaWYgYXV0b2xvYWRlZCA9PT0gdHJ1ZVxuICAgIC8vICAgICBpZiBhdXRvY29vcmRzIGluIGN1cl9hZ2dsby5wb2x5Z29uXG4gICAgLy8gICAgIHJldHVybiBhdXRvY29vcmRzXG4gICAgLy8gZWxzZVxuICAgIC8vICAgICByZXR1cm4gYWdnbG9fY2VudGVyX2Nvb3Jkc1xuXG4gICAgLyoqXG4gICAgICogUGVybWlzc2lvbiBkYXRhOiBzdG9yZXMgaXNfcGVybV9jaGVja2VkIHN3aXRjaGVyXG4gICAgICovXG4gICAgJHNjb3BlLnBlcm1fZGF0YSA9IHBlcm1SZXBvLmdldERhdGEoKTtcblxuICAgIC8vIGxvY2F0aW9uIHJlcG8gd2l0aCBjdXJyZW50IGNvb3JkcyBhbmQgZGVmYXVsdCB6b29tXG4gICAgJHNjb3BlLmxvY19kYXRhID0gbG9jUmVwby5nZXREYXRhKCk7ICAgIFxuXG4gICAgLy8gVE9ETzogcHV0IGl0IGluIHNldHRpbmdzXG4gICAgLy8gICBhbmQgd2hlbiBtYW51YWwgc2VsZWN0aW9uIGV4ZWN1dGVzXG4gICAgLy8gcGVybVJlcG8uY2xlYW5Mb2NhdGlvblBlcm1pc3Npb24oKTsgICAgXG5cbiAgICAkc2NvcGUubWFwX2NlbnRlciA9IHtcbiAgICAgIGxhdDogbnVsbCxcbiAgICAgIGxuZzogbnVsbCxcbiAgICAgIHpvb206IDE0XG4gICAgfTtcblxuICAgIHZhciBzZXRDb29yZHMgPSBmdW5jdGlvbihsYXQsIGxuZyl7XG4gICAgICAkc2NvcGUubWFwX2NlbnRlci5sYXQgPSBsYXQ7XG4gICAgICAkc2NvcGUubWFwX2NlbnRlci5sbmcgPSBsbmc7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgdXNlQ2VudGVyQ29vcmRzID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBjZW50ZXJDb29yZHMgPSBocHJGYWN0b3J5LmNvb3Jkc0Zyb21Xa3RQb2ludCgkc2NvcGUuY3VyX2FnZ2xvLmNlbnRyb2lkKTtcbiAgICAgIHNldENvb3JkcyhjZW50ZXJDb29yZHMubGF0aXR1ZGUsIGNlbnRlckNvb3Jkcy5sb25naXR1ZGUpO1xuICAgICAgY29uc29sZS5sb2coJ2NlbnRlciBjb29yZHMnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsYyBhZ2dsb1xuICAgICAqICAgbWF0Y2ggYSBjYWxjdWxhdGVkIGFnZ2xvIHdpdGggYSBjdXJyZW50IGFnZ2xvXG4gICAgICogICBpZiBub3QgbWF0Y2hlZCAtIHVzZSBjaXR5LWNlbnRlci1jb29yZHNcbiAgICAgKiAgIGlmIG1hdGNoZWQgLSB1c2UgZGV2aWNlLWNvb3Jkc1xuICAgICAqL1xuICAgIHZhciBhdXRvQ2FsY0FnZ2xvID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciB0bXBDb29yZHMgPSBsb2NSZXBvLmdldERhdGEoKS5jb29yZHM7XG5cbiAgICAgIGFnZ2xvUmVwby5jYWxjQWdnbG9CeUNvb3Jkcyh0bXBDb29yZHMubGF0LFxuXHRcdFx0XHQgIHRtcENvb3Jkcy5sbmcpXG5cdC50aGVuKGZ1bmN0aW9uKHRtcEFnZ2xvKXtcblx0ICBpZiAodG1wQWdnbG8pe1xuXHQgICAgLy9yZWRpcmVjdFRvQWdnbG9TcGVjcyh0bXBBZ2dsbyk7XG5cdCAgICBjb25zb2xlLmxvZygndG1wQWdnbG8nLCB0bXBBZ2dsbyk7XG5cdCAgICBpZiAodG1wQWdnbG8uaWQgPT09ICRzY29wZS5jdXJfYWdnbG8uaWQpe1xuXHQgICAgICBzZXRDb29yZHModG1wQ29vcmRzLmxhdCwgdG1wQ29vcmRzLmxuZyk7XG5cdCAgICAgIGNvbnNvbGUubG9nKCdkZXZpY2UgY29vcmRzJyk7XG5cdCAgICB9XG5cdCAgICBlbHNlIHtcblx0ICAgICAgdXNlQ2VudGVyQ29vcmRzKCk7XG5cdCAgICB9XG5cdCAgfVxuXHQgIGVsc2Uge1xuXHQgICAgdXNlQ2VudGVyQ29vcmRzKCk7XG5cdCAgfVxuXHR9KTtcbiAgICB9O1xuICAgIFxuICAgIC8vbG9jUmVwby5yZXRyaWV2ZUZyb21Xa3RQb2ludCh0bXBBZ2dsby5jZW50cm9pZClcbiAgICBcbiAgICB2YXIgaGFuZGxlTG9jYXRpb25QZXJtaXNzaW9uID0gZnVuY3Rpb24oaXNfcGVybV9hbGxvd2VkKXtcbiAgICAgIGNvbnNvbGUubG9nKCdoYW5kbGVMb2NQZXJtJyk7XG4gICAgICAvL2NvbnNvbGUubG9nKCdpc19wZXJtX2FsbG93ZWQ6IG1hcCcsIGlzX3Blcm1fYWxsb3dlZCk7XG4gICAgICBpZiAoaXNfcGVybV9hbGxvd2VkKXtcblx0Ly8gJHNjb3BlLmRlZmluZUxvY2F0aW9uKCk7XG5cdGxvY1JlcG8ucmV0cmlldmVGcm9tRGV2aWNlKClcblx0ICAudGhlbihhdXRvQ2FsY0FnZ2xvKVxuICAgICAgICAgIC5jYXRjaCh1c2VDZW50ZXJDb29yZHMpO1xuICAgICAgfSBlbHNlIHtcblx0dXNlQ2VudGVyQ29vcmRzKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlbG9jcGVybScpOyAgICAgXG4gICAgLy8gV2hlbiBhbGwgYWdnbG9zIHVwbG9hZGVkIC0gZmluZCBhIHBvc2l0aW9uXG4gICAgLy8gb25seSBpZiBzYXZlZCBpbiBhIGxvY2FsIHNldHRpbmdzXG4gICAgcGVybVJlcG8uY2hlY2tMb2NhdGlvblBlcm1pc3Npb24oKVxuICAgICAgLnRoZW4oaGFuZGxlTG9jYXRpb25QZXJtaXNzaW9uKTtcbiAgfTtcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuU2Fsb25MaXN0Q29udHJvbGxlcicsIFtcbiAgICAnbmdTYW5pdGl6ZScsIC8vIHRvIG5nLWJpbmQtaHRtbCBcbiAgICAnbGVhZmxldC1kaXJlY3RpdmUnLFxuICAgICduZ01hdGVyaWFsJyxcbiAgICAnbXlBcHAubm90aWZGYWN0b3J5JyxcbiAgICAnbXlBcHAuaHByRmFjdG9yeScsXG4gICAgJ215QXBwLmZpcm1MaXN0UmVwbycsXG4gICAgJ215QXBwLnBlcm1SZXBvJyxcbiAgICAnbXlBcHAubG9jUmVwbycsXG4gICAgJ215QXBwLmFnZ2xvUmVwbycsXG4gICAgJ215QXBwLnNpdGVSZXBvJyxcbiAgICAnbXlBcHAuRmlybURldGFpbENvbnRyb2xsZXInLFxuICAgICdteUFwcC5maXJtSXRlbVJlcG8nXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignU2Fsb25MaXN0Q29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRzdGF0ZScsXG4gICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICdub3RpZkZhY3RvcnknLFxuICAgICAgJ2hwckZhY3RvcnknLFxuICAgICAgJ2Zpcm1MaXN0UmVwbycsXG4gICAgICAncGVybVJlcG8nLFxuICAgICAgJ2xvY1JlcG8nLFxuICAgICAgJ2FnZ2xvUmVwbycsXG4gICAgICAnc2l0ZVJlcG8nLFxuICAgICAgJ2Zpcm1JdGVtUmVwbycsXG4gICAgICB4cG9cbiAgICBdKTtcblxuXG59KHdpbmRvdy5hbmd1bGFyLCB3aW5kb3cuTCkpO1xuXG5cbi8vIGh0dHA6Ly90b21iYXRvc3NhbHMuZ2l0aHViLmlvL2FuZ3VsYXItbGVhZmxldC1kaXJlY3RpdmUvIyEvZXhhbXBsZXMvbGVnZW5kIFxuLy8gJHNjb3BlLm1hcF9sZWdlbmQgPSB7XG4vLyAgIHBvc2l0aW9uOiAnYm90dG9tbGVmdCcsXG4vLyAgIC8vbGVnZW5kQ2xhc3M6ICdsZWdlbmQnLFxuLy8gICBjb2xvcnM6IFsnIzAwMDBmZiddLFxuLy8gICBsYWJlbHM6IFsn0YHQsNC70L7QvdGLJ11cbi8vIH07XG5cbi8vIGZ1bmN0aW9uIHRvR3JhZHVzKGdyYWQsIG1pbiwgc2VjKSB7XG4vLyAgIHJldHVybiBncmFkICsgbWluIC8gNjAgKyBzZWMgLyAzNjAwO1xuLy8gfVxuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICRtZERpYWxvZyxcblx0XHQgICAgIG1hc3RlclJlcG8sXG5cdFx0ICAgICBtYXN0ZXJfcHJvZmlsZV9pZCl7XG4gICAgXG4gICAgLy8gICAgY29uc29sZS5sb2cobWFzdGVyX3Byb2ZpbGVfaWQpO1xuICAgIC8vICAgICRzY29wZS5maXJtX2RhdGEgPSBmaXJtSXRlbVJlcG8uZ2V0RGF0YSgpO1xuXG4gICAgJHNjb3BlLmhpZGVEaWFsb2cgPSBmdW5jdGlvbigpe1xuICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcbiAgICB9O1xuXG4gICAgLy8gJHNjb3BlLmRvU2Vjb25kYXJ5ID0gZnVuY3Rpb24oKXtcbiAgICAvLyAgIGNvbnNvbGUubG9nKCdhc2RmJyk7XG4gICAgLy8gfTtcblxuICAgICRzY29wZS5pc19sb2FkZWQgPSBmYWxzZTtcbiAgICBcbiAgICBtYXN0ZXJSZXBvLnJldHJpZXZlTWFzdGVyKG1hc3Rlcl9wcm9maWxlX2lkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcblx0JHNjb3BlLm1hc3Rlcl9kYXRhID0gbWFzdGVyUmVwby5nZXREYXRhKCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKXtcblx0JHNjb3BlLmlzX2xvYWRlZCA9IHRydWU7XG4gICAgICB9KTtcblxuICAgIC8vIFx0ICAvLyBkbyBub3Qgb3BlbiBhIHdpbmRvdywgaWYgYW4gZXJyb3JcbiAgICAvLyBcdCAgbm90aWZGYWN0b3J5LmVycm9yKHJlYXNvbik7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuTWFzdGVyRGV0YWlsQ29udHJvbGxlcicsIFtcbiAgICAvLyAnbXlBcHAuZmlybUl0ZW1SZXBvJ1xuICAgICdteUFwcC5tYXN0ZXJSZXBvJ1xuICBdKVxuICAgIC5jb250cm9sbGVyKCdNYXN0ZXJEZXRhaWxDb250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICdtYXN0ZXJSZXBvJyxcbiAgICAgIC8vIGluamVjdGVkIGZyb20gcnVicmljX2l0ZW0gY29udHJvbGxlclxuICAgICAgJ21hc3Rlcl9wcm9maWxlX2lkJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICRzdGF0ZSxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIHJ1YnJpY1JlcG8sXG5cdFx0ICAgICBzaXRlUmVwbyxcblx0XHQgICAgIHFfcnVicmljX2lkKXtcblxuICAgIHNpdGVSZXBvLnNldFByZXZIcmVmKFxuICAgICAgJHN0YXRlLmhyZWYoJ2J5dC5hZ2dsb0l0ZW0uc3BlY0xpc3QnLCB7XG4gICAgXHRcImFnZ2xvX2ludGVyX2NvZGVcIjogJHNjb3BlLmN1cl9hZ2dsby5pbnRlcl9jb2RlXG4gICAgICB9KSk7XG5cbiAgICBzaXRlUmVwby5zZXRUaXRsZSgkc2NvcGUuY3VyX3NwZWMubmFtZSk7XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RlZCBydWJyaWMgd2l0aCBpZCBsaWtlIGhhaXJFeHQsIGhhaXJDdXRcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIGNvdW50X21hc3Rlcl9zZXJ2OiAxMjMsXG4gICAgICogc2Vydl9ydWJyaWM6IHt9XG4gICAgICovXG4gICAgJHNjb3BlLmN1cl9ydWJyaWNfc3RhdCA9IHJ1YnJpY1JlcG9cbiAgICAgIC5jYWxjU2VydlJ1YnJpY1N0YXQoJHNjb3BlLmN1cl9zcGVjLCBxX3J1YnJpY19pZCk7ICAgXG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuUnVicmljSXRlbUNvbnRyb2xsZXInLCBbXG4gICAgJ215QXBwLmRyY3QnLFxuICAgICdteUFwcC5TZXJ2TGlzdENvbnRyb2xsZXInLFxuICAgICdteUFwcC5ub3RpZkZhY3RvcnknLFxuICAgICdteUFwcC5ydWJyaWNSZXBvJyxcbiAgICAnbXlBcHAuc2l0ZVJlcG8nXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignUnVicmljSXRlbUNvbnRyb2xsZXInLCBbXG4gICAgICAnJHNjb3BlJyxcbiAgICAgICckc3RhdGUnLFxuICAgICAgJ25vdGlmRmFjdG9yeScsXG4gICAgICAncnVicmljUmVwbycsXG4gICAgICAnc2l0ZVJlcG8nLFxuICAgICAgJ3FfcnVicmljX2lkJyxcbiAgICAgIHhwb10pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcblxuICAgIC8vIGlmICgkc2NvcGUuY3VyX3J1YnJpY19zdGF0KXtcbiAgICAvLyAgIC8vIGNhbGN1bGF0ZSBzZWxlY3RlZCBpbmRleFxuICAgIC8vICAgJHNjb3BlLmN1cl9zcGVjLmFycl9zZXJ2X3J1YnJpY19zdGF0LmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kKXtcbiAgICAvLyAgIFx0aWYgKGl0ZW0uc2Vydl9ydWJyaWMuaWQgPT09ICRzY29wZS5jdXJfcnVicmljX3N0YXQuc2Vydl9ydWJyaWMuaWQpe1xuICAgIC8vICAgXHQgICRzY29wZS5zbGNfcnVicmljX2luZGV4ID0gaW5kICsgMTtcbiAgICAvLyAgIFx0fVxuICAgIC8vICAgfSk7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgICRzY29wZS5zbGNfcnVicmljX2luZGV4ID0gMDtcbiAgICAvLyB9XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgcGFyZW50RWwgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSk7XG4gIFxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHNjb3BlLFxuXHRcdCAgICAgJHN0YXRlLFxuXHRcdCAgICAgJG1kRGlhbG9nLFxuXHRcdCAgICAgbm90aWZGYWN0b3J5LFxuXHRcdCAgICAgc2VydlJlcG8pe1xuXG4gICAgLy8gJHNjb3BlLnBhZ2VfdXJsID0gJHN0YXRlLmhyZWYoJ2J5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0ucnVicmljSXRlbScse1xuICAgIC8vICAgXCJhZ2dsb19pbnRlcl9jb2RlXCI6ICRzY29wZS5jdXJfYWdnbG8uaW50ZXJfY29kZSxcbiAgICAvLyAgIFwic3BlY19pZFwiOiAkc2NvcGUuY3VyX3NwZWMuaWQsXG4gICAgLy8gICBcInJ1YnJpY19pZFwiOiAkc2NvcGUuY3VyX3J1YnJpY19zdGF0LnNlcnZfcnVicmljLmlkXG4gICAgLy8gfSk7XG4gICAgXG4gICAgLy8gY29uc29sZS5sb2coJ3FfcnVicmljX2lkJywgJHNjb3BlLmN1cl9ydWJyaWNfc3RhdC5zZXJ2X3J1YnJpYy5pZCk7XG4gICAgLy8gY29uc29sZS5sb2coJHNjb3BlLmN1cl9ydWJyaWNfc3RhdCk7ICAgXG4gICAgXG4gICAgLy8gZnJvbSBzZXJ2aWNlIGxpc3QgYnkgbWFzdGVycyAgICBcbiAgICAvLyBBIG1hc3RlciBkbyBub3QgZGVwZW5kcyBvbiBzZWxlY3RlZCBydWJyaWMsXG4gICAgLy8gICBzZWxlY3RlZCBjaXR5LCBldGM6IGp1c3QgaW5mbyBhYm91dCBtYXN0ZXJcbiAgICAkc2NvcGUuc2hvd01hc3RlckluZm8gPSBmdW5jdGlvbihldiwgbWFzdGVyUHJvZmlsZUlkKXtcbiAgICAgICRtZERpYWxvZy5zaG93KHtcblx0Y2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcblx0Ly9wcmVzZXJ2ZVNjb3BlOiB0cnVlLFxuXHRwYXJlbnQ6IHBhcmVudEVsLFxuXHRjb250cm9sbGVyOiAnTWFzdGVyRGV0YWlsQ29udHJvbGxlcicsXG5cdHRlbXBsYXRlVXJsOiAnYWdnbG8taXRlbS9zcGVjLWl0ZW0vcnVicmljLWl0ZW0vbWFzdGVyLWRldGFpbC50cGwuaHRtbCcsXG5cdC8vIGhpZGUgZGlhbG9nIGluIHRoaXMgZXYucG9pbnQgKGFuaW1hdGlvbilcblx0dGFyZ2V0RXZlbnQ6IGV2LFxuXHRsb2NhbHM6IHtcblx0ICBtYXN0ZXJfcHJvZmlsZV9pZDogbWFzdGVyUHJvZmlsZUlkXG5cdH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgJHNjb3BlLiRvbignc2Vydkxpc3RSZXBlYXRGaW5pc2hlZCcsXG5cdCAgICAgICBmdW5jdGlvbigpIHsgLy8gZXZlbnRcblx0XHQgLy9jb25zb2xlLmxvZygnc2Vydkxpc3RSZXBlYXRGaW5pc2hlZCcpO1xuXHRcdCAkc2NvcGUuaHRtbFJlYWR5KCk7XG5cdFx0IC8vY29uc29sZS5sb2coJ25nUmYnLCBlKTtcblx0XHQgLy95b3UgYWxzbyBnZXQgdGhlIGFjdHVhbCBldmVudCBvYmplY3Rcblx0XHQgLy9kbyBzdHVmZiwgZXhlY3V0ZSBmdW5jdGlvbnMgLS0gd2hhdGV2ZXIuLi5cblx0ICAgICAgIH0pOyAgIFxuXG4gICAgJHNjb3BlLnBsdXNEYXRhID0gZnVuY3Rpb24oKXtcbiAgICAgICRzY29wZS5pc19tb3JlX2xvYWRlZCA9IGZhbHNlO1xuICAgICAgc2VydlJlcG8ucmV0cmlldmVEYXRhKFskc2NvcGUuY3VyX3J1YnJpY19zdGF0LnNlcnZfcnVicmljLmlkXSwgJHNjb3BlLmN1cl9hZ2dsby5pZClcblx0LmZpbmFsbHkoZnVuY3Rpb24oKXtcblx0ICAkc2NvcGUuaXNfbW9yZV9sb2FkZWQgPSB0cnVlO1xuXHR9KTtcbiAgICB9O1xuICAgIFxuICAgIC8vYXV0byBjbGVhbmluZyAocmVwbGFjaW5nIGR1cmluZyBuZXcgc2V0KVxuICAgIHNlcnZSZXBvLmNsZWFuQXJyU2VydkluZm8oKTtcblxuICAgIC8qKlxuICAgICAqIEF0dGFjaCByZXBvIGRhdGEgdG8gdGhpcyB2YWx1ZVxuICAgICAqICAgTGFuY2VyIHJlcG8gdXBkYXRlZCBldmVyeSB0aW1lLCB3aGVuIGEgdXNlciBjaGFuZ2VzXG4gICAgICogICBzbGNfYXJyX3NlcnZfcnVicmljLCBzZWxlY3Rpbmcgb3IgdW5zZWxlY3RpbmdcbiAgICAgKiAgIHJ1YnJpY3MgKGZyb20gbGVmdCBtZW51KVxuICAgICAqL1xuICAgICRzY29wZS5zZXJ2X2RhdGEgPSBzZXJ2UmVwby5nZXREYXRhKCk7ICAgXG4gICAgXG4gICAgc2VydlJlcG8ucmV0cmlldmVEYXRhKFskc2NvcGUuY3VyX3J1YnJpY19zdGF0LnNlcnZfcnVicmljLmlkXSxcblx0XHRcdCAgJHNjb3BlLmN1cl9hZ2dsby5pZClcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XG5cdC8vIGV4ZWN1dGVzIGluIHNlcnZMaXN0UmVwZWF0RmluaXNoZWQgZXZlbnRcblx0Ly8kc2NvcGUuaHRtbFJlYWR5KCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbil7XHRcblx0bm90aWZGYWN0b3J5LmVycm9yKCfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDRg9GB0LvRg9CzLiDQn9C+0L/RgNC+0LHRg9C50YLQtSDQv9C+0LfQttC1LicpO1xuXHRjb25zb2xlLmxvZygncmV0cmlldmVTZXJ2RXJyb3InLCByZWFzb24pO1xuXHQkc2NvcGUuaHRtbFJlYWR5KCk7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKXtcblx0JHNjb3BlLmlzX3NlcnZfbG9hZGVkID0gdHJ1ZTtcblx0JHNjb3BlLmlzX21vcmVfbG9hZGVkID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIGF1dG8gc2Nyb2xsaW5nXG4gICAgLy8gICAgICAkc2NvcGUuc2Nyb2xsVG9wKCk7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuU2Vydkxpc3RDb250cm9sbGVyJywgW1xuICAgICdteUFwcC5kcmN0JyxcbiAgICAnbXlBcHAuTWFzdGVyRGV0YWlsQ29udHJvbGxlcicsXG4gICAgJ215QXBwLm5vdGlmRmFjdG9yeScsXG4gICAgJ215QXBwLnNlcnZSZXBvJ1xuICBdKVxuXG4gICAgLmNvbnRyb2xsZXIoJ1NlcnZMaXN0Q29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRzdGF0ZScsXG4gICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICdub3RpZkZhY3RvcnknLFxuICAgICAgJ3NlcnZSZXBvJyxcbi8vICAgICAgJ3FfcnVicmljX2lkJyxcbiAgICAgIHhwb10pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsImFuZ3VsYXIubW9kdWxlKFwibXlBcHAudGVtcGxhdGVGYWN0b3J5XCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHskdGVtcGxhdGVDYWNoZS5wdXQoXCJhYm91dC9hYm91dC50cGwuaHRtbFwiLFwiPGRpdiBsYXlvdXQtbWFyZ2luPVxcXCJcXFwiIGxheW91dC1wYWRkaW5nPVxcXCJcXFwiPjxwPtCf0YDQvtC10LrRgiDQv9GA0LXQtNC+0YHRgtCw0LLQu9GP0LXRgiDRg9GB0LvRg9Cz0Lgg0L/QviDQv9C+0LjRgdC60YMg0LzQsNGB0YLQtdGA0L7QsiDQuCDRgdCw0LvQvtC90L7QsiDQutGA0LDRgdC+0YLRizo8L3A+PHVsIGNsYXNzPVxcXCJsaXN0XFxcIj48bGkgY2xhc3M9XFxcIml0ZW1cXFwiPjxzdHJvbmc+0J/QsNGA0LjQutC80LDRhdC10YA8L3N0cm9uZz48dWw+PGxpPtCh0LLQsNC00LXQsdC90YvQtSDQv9GA0LjRh9C10YHQutC4PC9saT48bGk+0J3QsNGA0LDRidC40LLQsNC90LjQtSDQstC+0LvQvtGBPC9saT48bGk+0KHRgtGA0LjQttC60LA8L2xpPjxsaT4uLi48L2xpPjwvdWw+PC9saT48bGkgY2xhc3M9XFxcIml0ZW1cXFwiPjxzdHJvbmc+0JLQuNC30LDQttC40YHRgjwvc3Ryb25nPjx1bD48bGk+0JLQtdGH0LXRgNC90LjQuSDQvNCw0LrQuNGP0LY8L2xpPjxsaT7QndCw0YDQsNGJ0LjQstCw0L3QuNC1INGA0LXRgdC90LjRhjwvbGk+PGxpPtCh0LLQsNC00LXQsdC90YvQuSDQvNCw0LrQuNGP0LY8L2xpPjxsaT4uLi48L2xpPjwvdWw+PC9saT48bGkgY2xhc3M9XFxcIml0ZW1cXFwiPjxzdHJvbmc+0KPRhdC+0LQg0LfQsCDQvdC+0LPRgtGP0LzQuDwvc3Ryb25nPjx1bD48bGk+0JzQsNC90LjQutGO0YA8L2xpPjxsaT7QndC+0LPRgtC10LLQvtC5INC00LjQt9Cw0LnQvTwvbGk+PGxpPtCo0LXQu9C70LDQujwvbGk+PGxpPi4uLjwvbGk+PC91bD48L2xpPjxsaSBjbGFzcz1cXFwiaXRlbVxcXCI+PHN0cm9uZz7QmtC+0YHQvNC10YLQvtC70L7Qszwvc3Ryb25nPjx1bD48bGk+0KfQuNGB0YLQutCwINC70LjRhtCwPC9saT48bGk+0K3Qv9C40LvRj9GG0LjRjzwvbGk+PGxpPtCi0LDRgtGD0LDQtjwvbGk+PGxpPi4uLjwvbGk+PC91bD48L2xpPjwvdWw+PHA+0JLQsNGA0LjQsNC90YLRiyDQv9C+0LjRgdC60LA6PHVsPjxsaT7Qv9C+INC60LDRgNGC0LUg0LPQvtGA0L7QtNCwOiDQvtGC0L7QsdGA0LDQttC10L3QuNC1INGB0LDQu9C+0L3QvtCyINC60YDQsNGB0L7RgtGLPC9saT48bGk+0L/QviDQv9C+0YDRgtGE0L7Qu9C40L46INGE0L7RgtC+0LPRgNCw0YTQuNGP0Lwg0YDQsNCx0L7RgjwvbGk+PC91bD48L3A+PHA+0J/RgNC+0LXQutGCINC/0L7QtNC00LXRgNC20LjQstCw0LXRgiDQsdC+0LvRjNGI0LjQvdGB0YLQstC+INC60YDRg9C/0L3Ri9GFINC4INGB0YDQtdC00L3QuNGFINCz0L7RgNC+0LTQvtCyINC/0L4g0YLQtdGA0YDQuNGC0L7RgNC40Lgg0KDQpCDQuCDQvdC10LrQvtGC0L7RgNGL0LUg0LfQsNGA0YPQsdC10LbQvdGL0LUg0LPQvtGA0L7QtNCwLjwvcD48L2Rpdj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL2FnZ2xvLWl0ZW0udHBsLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcImZ1bGwtaGVpZ2h0XFxcIj48ZGl2IG5nLWlmPVxcXCJpc19wcmdcXFwiPjxkaXYgbmctaWY9XFxcIiFjdXJfYWdnbG9cXFwiPjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCI+PG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XFxcImluZGV0ZXJtaW5hdGVcXFwiIGNsYXNzPVxcXCJtZC1odWUtM1xcXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj7Qt9Cw0LPRgNGD0LfQutCwINC70L7QutCw0YbQuNC4Li4uPC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiIG5nLWlmPVxcXCJjdXJfYWdnbG9cXFwiPjx1aS12aWV3IGNsYXNzPVxcXCJmdWxsLWhlaWdodFxcXCIgbmFtZT1cXFwiYWdnbG9JdGVtQ29udGVudFxcXCI+PC91aS12aWV3PjwvZGl2PjwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWxpc3QvYWdnbG8tbGlzdC50cGwuaHRtbFwiLFwiPG1kLWNvbnRlbnQgbGF5b3V0LW1hcmdpbj1cXFwiXFxcIiBtZC1zY3JvbGwteT1cXFwiXFxcIj48ZGl2IGxheW91dD1cXFwicm93XFxcIj48ZGl2IGZsZXg9XFxcIlxcXCIgb2Zmc2V0LWd0LW1kPVxcXCIyNVxcXCIgZmxleC1ndC1tZD1cXFwiNTBcXFwiPjxkaXYgbmctaWY9XFxcImFnZ2xvX2RhdGEuaXNfbG9hZGVkXFxcIj48bWQtaW5wdXQtY29udGFpbmVyIG1kLW5vLWZsb2F0PVxcXCJcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDE2cHggMTZweCAwIDE2cHhcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtc2VhcmNoIGZhLTJ4XFxcIj48L21kLWljb24+PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCLQndCw0LnRgtC4INCz0L7RgNC+0LRcXFwiIG5nLW1vZGVsPVxcXCJhZ2dsb19zZWFyY2gubG9jYWxfbmFtZVxcXCI+PC9tZC1pbnB1dC1jb250YWluZXI+PG1kLWxpc3Q+PG1kLWxpc3QtaXRlbSBuZy1yZXBlYXQ9XFxcImFnZyBpbiBhZ2dsb19kYXRhLmFycl9nZW9fYWdnbG8gfCBmaWx0ZXI6YWdnbG9fc2VhcmNoXFxcIiBzdHlsZT1cXFwiZGlzcGxheTppbmxpbmUtYmxvY2tcXFwiPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLWFjY2VudFxcXCIgc3R5bGU9XFxcInRleHQtYWxpZ246IGxlZnRcXFwiIGFyaWEtbGFiZWw9XFxcInt7YWdnLmxvY2FsX25hbWV9fVxcXCIgdWktc3JlZj1cXFwiYnl0LmFnZ2xvSXRlbS5zcGVjTGlzdCh7YWdnbG9faW50ZXJfY29kZTphZ2cuaW50ZXJfY29kZX0pXFxcIj48c3BhbiBuZy1iaW5kPVxcXCJhZ2cubG9jYWxfbmFtZVxcXCI+PC9zcGFuPjwvbWQtYnV0dG9uPjwvbWQtbGlzdC1pdGVtPjwvbWQtbGlzdD48L2Rpdj48L2Rpdj48L2Rpdj48L21kLWNvbnRlbnQ+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiYWxydC9hbHJ0LnRwbC5odG1sXCIsXCI8bWQtZGlhbG9nIGFyaWEtbGFiZWw9XFxcItCj0LLQtdC00L7QvNC70LXQvdC40LVcXFwiPjxtZC1kaWFsb2ctY29udGVudD48cCBuZy1iaW5kPVxcXCJtc2dfYm9keVxcXCI+PC9wPjwvbWQtZGlhbG9nLWNvbnRlbnQ+PGRpdiBjbGFzcz1cXFwibWQtYWN0aW9uc1xcXCI+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtYWNjZW50XFxcIiBuZy1jbGljaz1cXFwiaGlkZURpYWxvZygpXFxcIj7Qn9C+0L3Rj9GC0L3QvjwvbWQtYnV0dG9uPjwvZGl2PjwvbWQtZGlhbG9nPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcInRvb2xiYXIvdG9vbGJhci50cGwuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwibWQtdG9vbGJhci10b29sc1xcXCIgbmctY29udHJvbGxlcj1cXFwiVG9vbGJhckNvbnRyb2xsZXJcXFwiPjxtZC1idXR0b24gbmctaHJlZj1cXFwie3tzaXRlX2RhdGEucHJldl9ocmVmfX1cXFwiIGNsYXNzPVxcXCJtZC1pY29uLWJ1dHRvblxcXCIgYXJpYS1sYWJlbD1cXFwi0L3QsNC30LDQtFxcXCIgdGl0bGU9XFxcItC90LDQt9Cw0LRcXFwiIG5nLWlmPVxcXCJzaXRlX2RhdGEucHJldl9ocmVmXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWFycm93LWNpcmNsZS1sZWZ0IGZhLTJ4XFxcIiBzdHlsZT1cXFwiY29sb3I6d2hpdGVcXFwiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48bWQtYnV0dG9uIGNsYXNzPVxcXCJtZC1pY29uLWJ1dHRvblxcXCIgdWktc3JlZj1cXFwiYnl0LndlbGNvbWVcXFwiIGFyaWEtbGFiZWw9XFxcItCz0LvQsNCy0L3QsNGPXFxcIiBuZy1pZj1cXFwiIXNpdGVfZGF0YS5wcmV2X2hyZWZcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtaG9tZSBmYS0yeFxcXCIgc3R5bGU9XFxcImNvbG9yOndoaXRlXFxcIj48L21kLWljb24+PC9tZC1idXR0b24+PGgyPjxzcGFuIG5nLWJpbmQ9XFxcInNpdGVfZGF0YS50dGxcXFwiPjwvc3Bhbj48L2gyPjxzcGFuIGZsZXg9XFxcIlxcXCI+PC9zcGFuPjxtZC1idXR0b24gbmctY2xpY2s9XFxcInNjcm9sbFRvVG9wKClcXFwiIGFyaWEtbGFiZWw9XFxcItC90LDQstC10YDRhVxcXCIgbmctc2hvdz1cXFwic2Nyb2xsX2RhdGEucG9zID4gMzAwXFxcIj7QvdCw0LLQtdGA0YU8L21kLWJ1dHRvbj48L2Rpdj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJ3ZWxjb21lL25vLWxvY2F0aW9uLnRwbC5odG1sXCIsXCI8bWQtY2FyZCBmbGV4PVxcXCJcXFwiIGNsYXNzPVxcXCJtZC13aGl0ZWZyYW1lLXoyXFxcIj48bWQtY2FyZC1jb250ZW50PjxkaXY+0LzQvtGRINC80LXRgdGC0L7Qv9C+0LvQvtC20LXQvdC40LU8L2Rpdj48bWQtZGl2aWRlcj48L21kLWRpdmlkZXI+PGRpdiBsYXlvdXQ9XFxcInJvd1xcXCIgbGF5b3V0LXNtPVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwic3BhY2UtYXJvdW5kIGNlbnRlclxcXCIgc3R5bGU9XFxcIm1hcmdpbi10b3A6IDEycHhcXFwiPjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCI+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtZmFiIG1kLXByaW1hcnlcXFwiIG5nLWNsaWNrPVxcXCJkZWZpbmVMb2NhdGlvbigpXFxcIiB0aXRsZT1cXFwi0L/RgNC40LHQu9C40LfQuNGC0LXQu9GM0L3Ri9C1INC60L7QvtGA0LTQuNC90LDRgtGLXFxcIiBhcmlhLWxhYmVsPVxcXCLQsNCy0YLQvtC+0L/RgNC10LTQtdC70LXQvdC40LVcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtc3RyZWV0LXZpZXcgZmEtMnhcXFwiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48ZGl2PjxzbWFsbD7QsNCy0YLQvtC+0L/RgNC10LTQtdC70LXQvdC40LU8L3NtYWxsPjwvZGl2PjwvZGl2PjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCI+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtcHJpbWFyeSBtZC1mYWJcXFwiIHVpLXNyZWY9XFxcImJ5dC5hZ2dsb0xpc3RcXFwiIG5nLWNsaWNrPVxcXCJjbGVhbkxvY2F0aW9uUGVybWlzc2lvbigpO1xcXCIgdGl0bGU9XFxcItGG0LXQvdGC0YAg0LPQvtGA0L7QtNCwXFxcIiBhcmlhLWxhYmVsPVxcXCLQstGA0YPRh9C90YPRjlxcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1saXN0LXVsIGZhLTJ4XFxcIj48L21kLWljb24+PC9tZC1idXR0b24+PGRpdj48c21hbGw+0LLRi9Cx0YDQsNGC0Ywg0LLRgNGD0YfQvdGD0Y48L3NtYWxsPjwvZGl2PjwvZGl2PjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCIgbmctaWY9XFxcImlzX3NvY25ldFxcXCI+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtZmFiIG1kLXByaW1hcnlcXFwiIG5nLWNsaWNrPVxcXCJkZWZpbmVTb2NDaXR5KClcXFwiIHRpdGxlPVxcXCLRhtC10L3RgtGAINCz0L7RgNC+0LTQsFxcXCIgYXJpYS1sYWJlbD1cXFwi0LjQtyDRgdC+0YbQuNCw0LvRjNC90L7QuSDRgdC10YLQuFxcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS12ayBmYS0yeFxcXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjxkaXY+PHNtYWxsPtC40Lcg0YHQvtGG0LjQsNC70YzQvdC+0Lkg0YHQtdGC0Lg8L3NtYWxsPjwvZGl2PjwvZGl2PjwvZGl2PjwvbWQtY2FyZC1jb250ZW50PjwvbWQtY2FyZD5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJ3ZWxjb21lL3dsYy50cGwuaHRtbFwiLFwiPG1kLWNvbnRlbnQgbWQtc2Nyb2xsLXk9XFxcIlxcXCI+PGRpdiBsYXlvdXQ9XFxcInJvd1xcXCI+PGRpdiBmbGV4PVxcXCJcXFwiIG9mZnNldC1ndC1tZD1cXFwiMjVcXFwiIGZsZXgtZ3QtbWQ9XFxcIjUwXFxcIj48aDQgY2xhc3M9XFxcIm1kLXN1YmhlYWRcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDIwcHhcXFwiPtCf0L7QuNGB0Log0LzQsNGB0YLQtdGA0L7QsiDQuCDRgdCw0LvQvtC90L7QsiDQutGA0LDRgdC+0YLRizog0L7RgtC60YDRi9GC0YvQtSDQutC+0L3RgtCw0LrRgtC90YvQtSDQtNCw0L3QvdGL0LUsINC60LDRgNGC0LAg0YEg0LHQu9C40LbQsNC50YjQuNC80Lgg0YHQsNC70L7QvdCw0LzQuCwg0L/QvtGA0YLRhNC+0LvQuNC+INC80LDRgdGC0LXRgNC+0LIg0Lgg0LTRgNGD0LPQvtC1IDxhIHVpLXNyZWY9XFxcImJ5dC5hYm91dFxcXCI+0L/QvtC00YDQvtCx0L3QtdC1PC9hPjxicj48YnI+0JLRiyAtINC80LDRgdGC0LXRgD8g0J7RgdGC0LDQstGM0YLQtSDQt9Cw0Y/QstC60YMg0L3QsCDQv9C+0LTQutC70Y7Rh9C10L3QuNC1INCyIDxhIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBocmVmPVxcXCIvL3ZrLmNvbS90b3BpYy05MjAwMjc3MV8zMTY5OTQ3MlxcXCI+0LPRgNGD0L/Qv9C1INC/0YDQuNC70L7QttC10L3QuNGPPC9hPi48L2g0PjxkaXYgbmctaWY9XFxcImlzX3ByZ1xcXCI+PGRpdiBuZy1pZj1cXFwiIXBlcm1fZGF0YS5pc19wZXJtX2NoZWNrZWRcXFwiPjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCI+PG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XFxcImluZGV0ZXJtaW5hdGVcXFwiIGNsYXNzPVxcXCJtZC1odWUtM1xcXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj7Qt9Cw0LPRgNGD0LfQutCwPC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBuZy1pZj1cXFwicGVybV9kYXRhLmlzX3Blcm1fY2hlY2tlZFxcXCI+PG5nLWluY2x1ZGUgc3JjPVxcXCJcXCd3ZWxjb21lL25vLWxvY2F0aW9uLnRwbC5odG1sXFwnXFxcIj48L25nLWluY2x1ZGU+PC9kaXY+PC9kaXY+PC9kaXY+PC9tZC1jb250ZW50PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3NwZWMtaXRlbS50cGwuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiPjxkaXYgbmctaWY9XFxcImlzX3ByZ1xcXCI+PGRpdiBuZy1pZj1cXFwiIWN1cl9zcGVjXFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVxcXCJpbmRldGVybWluYXRlXFxcIiBjbGFzcz1cXFwibWQtaHVlLTNcXFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+0LfQsNCz0YDRg9C30LrQsCDRgdC/0LXRhtC40LDQu9C40LfQsNGG0LjQuC4uLjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcImZ1bGwtaGVpZ2h0XFxcIiBuZy1pZj1cXFwiY3VyX3NwZWNcXFwiPjxkaXYgbmctaWY9XFxcImlzX3Nob3dfcnVicmljc1xcXCI+PG1kLXRhYnMgbWQtYm9yZGVyLWJvdHRvbT1cXFwiXFxcIiBtZC1zZWxlY3RlZD1cXFwic2xjX3J1YnJpY19pbmRleFxcXCI+PG1kLXRhYiBuZy1yZXBlYXQ9XFxcInJiclN0YXQgaW4gY3VyX3NwZWMuYXJyX3NlcnZfcnVicmljX3N0YXRcXFwiIG1kLW9uLXNlbGVjdD1cXFwib25UYWJTZWxlY3RlZChyYnJTdGF0LnNlcnZfcnVicmljLmlkKVxcXCIgbGFiZWw9XFxcInt7cmJyU3RhdC5zZXJ2X3J1YnJpYy5uYW1lfX1cXFwiPjwvbWQtdGFiPjwvbWQtdGFicz48L2Rpdj48dWktdmlldyBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiIG5hbWU9XFxcInNwZWNJdGVtQ29udGVudFxcXCI+PC91aS12aWV3PjwvZGl2PjwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1saXN0L3NlcnYtZ3JvdXBzLnRwbC5odG1sXCIsXCI8ZGl2IGxheW91dC1ndC1zbT1cXFwicm93XFxcIiBsYXlvdXQtc209XFxcImNvbHVtblxcXCIgbGF5b3V0LWZpbGw9XFxcIlxcXCIgbGF5b3V0LXdyYXA9XFxcIlxcXCI+PG1kLWNhcmQgZmxleD1cXFwiXFxcIiBjbGFzcz1cXFwibWQtd2hpdGVmcmFtZS16M1xcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoyNDBweDtcXFwiIG5nLXJlcGVhdD1cXFwiZ3JwIGluIHJ1YnJpY19kYXRhLmFycl9zZXJ2X2dyb3VwXFxcIj48bWQtY2FyZC1jb250ZW50PjxoMiBjbGFzcz1cXFwibWQtdGl0bGVcXFwiIG5nLWJpbmQ9XFxcImdycC5uYW1lXFxcIj48L2gyPjxwIG5nLXNob3c9XFxcImdycC5hcnJfc2Vydl9ydWJyaWNfc3RhdC5sZW5ndGggPiAwXFxcIj48ZGl2IG5nLXJlcGVhdD1cXFwicmJyU3RhdCBpbiBncnAuYXJyX3NlcnZfcnVicmljX3N0YXR8bGltaXRUbzo1fGxpbWl0VG86LTRcXFwiPnt7cmJyU3RhdC5zZXJ2X3J1YnJpYy5uYW1lfX0gPHNwYW4gbmctc2hvdz1cXFwiJGluZGV4ID09PSAzXFxcIj4uLi48L3NwYW4+PC9kaXY+PC9wPjxkaXYgY2xhc3M9XFxcIm1kLWFjdGlvbnNcXFwiIGxheW91dD1cXFwicm93XFxcIiBsYXlvdXQtYWxpZ249XFxcImVuZCBjZW50ZXJcXFwiPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLWFjY2VudFxcXCIgdWktc3JlZj1cXFwiYnl0LmFnZ2xvSXRlbS5zcGVjSXRlbS5zYWxvbkxpc3Qoe2FnZ2xvX2ludGVyX2NvZGU6IGN1cl9hZ2dsby5pbnRlcl9jb2RlLCBzcGVjX2lkOiBncnAuaWR9KVxcXCI+0L3QsCDQutCw0YDRgtC1PC9tZC1idXR0b24+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtYWNjZW50XFxcIiB1aS1zcmVmPVxcXCJieXQuYWdnbG9JdGVtLnNwZWNJdGVtLnJ1YnJpY0l0ZW0oe2FnZ2xvX2ludGVyX2NvZGU6IGN1cl9hZ2dsby5pbnRlcl9jb2RlLCBzcGVjX2lkOiBncnAuaWQsIHJ1YnJpY19pZDogZ3JwLmlkfSlcXFwiPtC/0L7RgNGC0YTQvtC70LjQvjwvbWQtYnV0dG9uPjwvZGl2PjwvbWQtY2FyZC1jb250ZW50PjwvbWQtY2FyZD48L2Rpdj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL3NwZWMtbGlzdC9zcGVjLWxpc3QudHBsLmh0bWxcIixcIjxtZC1jb250ZW50IG1kLXNjcm9sbC15PVxcXCJcXFwiPjxkaXYgbGF5b3V0PVxcXCJyb3dcXFwiPjxkaXYgZmxleD1cXFwiXFxcIiBmbGV4LWd0LW1kPVxcXCI1MFxcXCIgb2Zmc2V0LWd0LW1kPVxcXCIyNVxcXCI+PGRpdiBuZy1pZj1cXFwiaXNfcHJnXFxcIj48ZGl2IG5nLWlmPVxcXCIhcnVicmljX2RhdGEuaXNfbG9hZGVkXFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVxcXCJpbmRldGVybWluYXRlXFxcIiBjbGFzcz1cXFwibWQtaHVlLTNcXFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+0LfQsNCz0YDRg9C30LrQsCDQutCw0YLQtdCz0L7RgNC40LkuLi48L2Rpdj48L2Rpdj48L2Rpdj48ZGl2IG5nLWlmPVxcXCJydWJyaWNfZGF0YS5pc19sb2FkZWRcXFwiPjxuZy1pbmNsdWRlIHNyYz1cXFwiXFwnYWdnbG8taXRlbS9zcGVjLWxpc3Qvc2Vydi1ncm91cHMudHBsLmh0bWxcXCdcXFwiPjwvbmctaW5jbHVkZT48L2Rpdj48L2Rpdj48L2Rpdj48L21kLWNvbnRlbnQ+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiYWdnbG8taXRlbS9zcGVjLWl0ZW0vc2Fsb24tbGlzdC9maXJtLWRldGFpbC50cGwuaHRtbFwiLFwiPG1kLWRpYWxvZyBhcmlhLWxhYmVsPVxcXCLQmNC90YTQvtGA0LzQsNGG0LjRjyDQviDRgdCw0LvQvtC90LVcXFwiPjxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cXFwic3RpY2t5LWNvbnRhaW5lclxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MFxcXCI+PG1kLXRvb2xiYXIgY2xhc3M9XFxcIm1kLXRhbGwgbWQtd2hpdGVmcmFtZS16MVxcXCI+PGgyIGNsYXNzPVxcXCJtZC10b29sYmFyLXRvb2xzXFxcIj48c3BhbiBuZy1iaW5kPVxcXCJmaXJtX2RhdGEuY3VyX2Zpcm0ubmFtZVxcXCI+PC9zcGFuPjwvaDI+PGgzIGNsYXNzPVxcXCJtZC10b29sYmFyLXRvb2xzXFxcIj48c21hbGw+PHNwYW4gbmctYmluZD1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmNpdHlfbmFtZVxcXCI+PC9zcGFuPiwgPHNwYW4gbmctYmluZD1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmFkZHJlc3NcXFwiPjwvc3Bhbj48L3NtYWxsPjwvaDM+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtZmFiIG1kLWFjY2VudCBtZC1mYWItYm90dG9tLXJpZ2h0XFxcIiBhcmlhLWxhYmVsPVxcXCLQktC10YDQvdGD0YLRjNGB0Y8g0L3QsCDQutCw0YDRgtGDXFxcIiB0aXRsZT1cXFwi0JLQtdGA0L3Rg9GC0YzRgdGPINC90LAg0LrQsNGA0YLRg1xcXCIgc3R5bGU9XFxcImJvdHRvbTogLTQwcHhcXFwiIG5nLWNsaWNrPVxcXCJoaWRlRGlhbG9nKClcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtbWFwLW1hcmtlciBmYS0yeFxcXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvbWQtdG9vbGJhcj48ZGl2PjxkaXYgbmctcmVwZWF0PVxcXCJjdGN0R3JvdXAgaW4gZmlybV9kYXRhLmN1cl9maXJtLmNvbnRhY3RzXFxcIj48bWQtbGlzdD48bWQtbGlzdC1pdGVtIGNsYXNzPVxcXCJtZC0yLWxpbmUgY29udGFjdC1pdGVtXFxcIiBuZy1yZXBlYXQ9XFxcImN0Y3QgaW4gY3RjdEdyb3VwLmNvbnRhY3RzXFxcIj48ZGl2IG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3Bob25lXFwnXFxcIiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLXBob25lIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPtGC0LXQu9C10YTQvtC9IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj4gPHNwYW4gbmctYmluZD1cXFwiY3RjdC5jb21tZW50XFxcIj48L3NwYW4+PC9wPjwvZGl2PjxtZC1zd2l0Y2ggY2xhc3M9XFxcIm1kLXNlY29uZGFyeVxcXCIgbmctc2hvdz1cXFwiZmFsc2VcXFwiIG5nLW1vZGVsPVxcXCJpc19lbmFibGVkXFxcIj48L21kLXN3aXRjaD48L2Rpdj48ZGl2IG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ2ZheFxcJ1xcXCIgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1mYXggZmEtMnhcXFwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0tdGV4dFxcXCI+PGgzIG5nLWJpbmQ9XFxcImN0Y3QudmFsdWVcXFwiPjwvaDM+PHA+0YTQsNC60YEgPHNwYW4gbmctYmluZD1cXFwiY3RjdC5hbGlhc1xcXCI+PC9zcGFuPiA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIiBuZy1pZj1cXFwiY3RjdC50eXBlID09PSBcXCdlbWFpbFxcJ1xcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1lbnZlbG9wZSBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48aDMgbmctYmluZD1cXFwiY3RjdC52YWx1ZVxcXCI+PC9oMz48cD5lbWFpbCA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3NreXBlXFwnXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLXNreXBlIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPlNreXBlIDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj4gPHNwYW4gbmctYmluZD1cXFwiY3RjdC5jb21tZW50XFxcIj48L3NwYW4+PC9wPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCIgbmctaWY9XFxcImN0Y3QudHlwZSA9PT0gXFwnaWNxXFwnXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWNvbW1lbnRzIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPmljcSA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ2phYmJlclxcJ1xcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1jb21tZW50cy1vIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPmphYmJlciA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3dlYnNpdGVcXCdcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtZ2xvYmUgZmEtMnhcXFwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0tdGV4dFxcXCI+PGEgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIG5nLWhyZWY9XFxcInt7Y3RjdC52YWx1ZX19XFxcIj48c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+PC9hPjxwPtCy0LXQsS3RgdCw0LnRgiA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIiBuZy1pZj1cXFwiY3RjdC50eXBlID09PSBcXCd2a29udGFrdGVcXCdcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtdmsgZmEtMnhcXFwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0tdGV4dFxcXCI+PGEgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIG5nLWhyZWY9XFxcInt7Y3RjdC52YWx1ZX19XFxcIj48c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+PC9hPjxwPtCS0JrQvtC90YLQsNC60YLQtSA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIiBuZy1pZj1cXFwiY3RjdC50eXBlID09PSBcXCdmYWNlYm9va1xcJ1xcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1mYWNlYm9vayBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tjdGN0LnZhbHVlfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj48L2E+PHA+RmFjZWJvb2sgPHNwYW4gbmctYmluZD1cXFwiY3RjdC5jb21tZW50XFxcIj48L3NwYW4+PC9wPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCIgbmctaWY9XFxcImN0Y3QudHlwZSA9PT0gXFwnaW5zdGFncmFtXFwnXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWluc3RhZ3JhbSBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tjdGN0LnZhbHVlfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj48L2E+PHA+SW5zdGFncmFtIDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3R3aXR0ZXJcXCdcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtdHdpdHRlciBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tjdGN0LnZhbHVlfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj48L2E+PHA+VHdpdHRlciA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PC9tZC1saXN0LWl0ZW0+PC9tZC1saXN0PjwvZGl2PjwvZGl2PjxkaXYgbmctaWY9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5hcnRpY2xlXFxcIj48bmctaW5jbHVkZSBzcmM9XFxcIlxcJ2FnZ2xvLWl0ZW0vc3BlYy1pdGVtL3NhbG9uLWxpc3QvZmlybS1yZWtsLnRwbC5odG1sXFwnXFxcIj48L25nLWluY2x1ZGU+PC9kaXY+PC9tZC1kaWFsb2ctY29udGVudD48L21kLWRpYWxvZz5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L2Zpcm0tcmVrbC50cGwuaHRtbFwiLFwiPGRpdiBsYXlvdXQtbWFyZ2luPVxcXCJcXFwiIGxheW91dC1wYWRkaW5nPVxcXCJcXFwiPjxtZC1kaXZpZGVyPjwvbWQtZGl2aWRlcj48c21hbGwgc3R5bGU9XFxcImNvbG9yOiBncmF5XFxcIj7RgdC/0LXRhtC40LDQu9GM0L3QvtC1INC/0YDQtdC00LvQvtC20LXQvdC40LU8L3NtYWxsPjxkaXY+PGgyIG5nLWlmPVxcXCJmaXJtX2RhdGEuY3VyX2Zpcm0ubGlua1xcXCI+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtYWNjZW50IG1kLXJhaXNlZFxcXCIgYXJpYS1sYWJlbD1cXFwi0YHQv9C10YYg0L/RgNC10LTQu9C+0LbQtdC90LjQtVxcXCIgc3R5bGU9XFxcIm1hcmdpbi1sZWZ0OiAwXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tmaXJtX2RhdGEuY3VyX2Zpcm0ubGluay5saW5rfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5saW5rLnRleHRcXFwiPjwvc3Bhbj48L21kLWJ1dHRvbj48L2gyPjxoMiBjbGFzcz1cXFwibWQtc3ViaGVhZFxcXCIgbmctaWY9XFxcIiFmaXJtX2RhdGEuY3VyX2Zpcm0ubGlua1xcXCI+0J7QsdGK0Y/QstC70LXQvdC40LU8L2gyPjwvZGl2PjxwPjwvcD48cCBuZy1pZj1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmFydGljbGVcXFwiPjxzcGFuIG5nLWJpbmQtaHRtbD1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmFydGljbGVcXFwiPjwvc3Bhbj48L3A+PHAgbmctaWY9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5mYXNfd2FybmluZ1xcXCI+PHNtYWxsIG5nLWJpbmQ9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5mYXNfd2FybmluZ1xcXCI+PC9zbWFsbD48L3A+PHA+PC9wPjwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3NhbG9uLWxpc3Qvc2Fsb24tbGlzdC50cGwuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiPjxkaXYgY2xhc3M9XFxcInBhZGRpbmcgdGV4dC1jZW50ZXJcXFwiIG5nLWlmPVxcXCIhbWFwX2NlbnRlci5sbmdcXFwiPtC30LDQs9GA0YPQt9C60LAg0LrQsNGA0YLRiy4uLjxicj48aW9uLXNwaW5uZXI+PC9pb24tc3Bpbm5lcj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJmdWxsLWhlaWdodFxcXCIgbmctaWY9XFxcIm1hcF9jZW50ZXIubG5nXFxcIiBkYXRhLXRhcC1kaXNhYmxlZD1cXFwidHJ1ZVxcXCI+PGxlYWZsZXQgY2xhc3M9XFxcIm15LW1hcCBjdXN0b20tcG9wdXBcXFwiIGNlbnRlcj1cXFwibWFwX2NlbnRlclxcXCIgZGVmYXVsdHM9XFxcIm1hcF9kZWZhdWx0c1xcXCIgbWFya2Vycz1cXFwiZmlybV9saXN0X2RhdGEubWFwX21hcmtlcnNcXFwiIGV2ZW50LWJyb2FkY2FzdD1cXFwibWFwX2V2ZW50c1xcXCIgcGF0aHM9XFxcIm1hcF9wYXRoc1xcXCI+PC9sZWFmbGV0PjxkaXYgc3R5bGU9XFxcInRvcDo0cHg7IHJpZ2h0OjRweDsgcG9zaXRpb246IGFic29sdXRlO1xcXCI+PGRpdiBzdHlsZT1cXFwiYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjcpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogMCA1cHg7XFxcIj48c3BhbiBuZy1zaG93PVxcXCJ6dXJwb3Muem9vbSA8IDE0XFxcIiBzdHlsZT1cXFwiY29sb3I6I2RkMDAwMFxcXCI+0L/RgNC40LHQu9C40LfRjNGC0LUg0LrQsNGA0YLRgyDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDQvNC10YLQvtC6PC9zcGFuPiA8c3BhbiBuZy1zaG93PVxcXCJ6dXJwb3Muem9vbSA+PSAxNFxcXCI+PHNwYW4gbmctc2hvdz1cXFwiZmlybV9saXN0X2RhdGEudG90YWwgPiAwXFxcIj7RgdCw0LvQvtC90L7QsiDQsiDRgNCw0LTQuNGD0YHQtSAz0LrQvDogPGIgbmctYmluZD1cXFwiZmlybV9saXN0X2RhdGEudG90YWxcXFwiPjwvYj48L3NwYW4+IDxzcGFuIG5nLXNob3c9XFxcImZpcm1fbGlzdF9kYXRhLnRvdGFsID09PSAwXFxcIj7QvdC1INC90LDQudC00LXQvdC+INGB0LDQu9C+0L3QvtCyINC90LAg0LLRi9Cx0YDQsNC90L3QvtC5INGC0LXRgNGA0LjRgtC+0YDQuNC4PC9zcGFuPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9ydWJyaWMtaXRlbS9tYXN0ZXItZGV0YWlsLnRwbC5odG1sXCIsXCI8bWQtZGlhbG9nIGFyaWEtbGFiZWw9XFxcItCY0L3RhNC+0YDQvNCw0YbQuNGPINC+INC80LDRgdGC0LXRgNC1XFxcIj48bWQtZGlhbG9nLWNvbnRlbnQgY2xhc3M9XFxcInN0aWNreS1jb250YWluZXJcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBcXFwiPjxkaXYgbmctaWY9XFxcIiFtYXN0ZXJfZGF0YVxcXCI+PGRpdiBsYXlvdXQ9XFxcImNvbHVtblxcXCIgbGF5b3V0LWFsaWduPVxcXCJjZW50ZXIgY2VudGVyXFxcIj48bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cXFwiaW5kZXRlcm1pbmF0ZVxcXCIgY2xhc3M9XFxcIm1kLWh1ZS0zXFxcIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPtC30LDQs9GA0YPQt9C60LAuLi48L2Rpdj48L2Rpdj48bWQtdG9vbGJhciBjbGFzcz1cXFwibWQtd2hpdGVmcmFtZS16MVxcXCIgbmctaWY9XFxcIm1hc3Rlcl9kYXRhXFxcIj48ZGl2IGNsYXNzPVxcXCJtZC10b29sYmFyLXRvb2xzXFxcIj48c3BhbiBuZy1iaW5kPVxcXCJtYXN0ZXJfZGF0YS5zbGNfbWFzdGVyLm5hbWVcXFwiPjwvc3Bhbj48L2Rpdj48L21kLXRvb2xiYXI+PGRpdiBuZy1pZj1cXFwibWFzdGVyX2RhdGFcXFwiPjxkaXYgbGF5b3V0LW1hcmdpbj1cXFwiXFxcIiBsYXlvdXQtcGFkZGluZz1cXFwiXFxcIj48ZGl2IHN0eWxlPVxcXCJ3aWR0aDogMTAwcHg7IGhlaWdodDogMTAwcHg7IGZsb2F0OiByaWdodDsgbWFyZ2luLWxlZnQ6IDhweFxcXCI+PGltZyBzdHlsZT1cXFwid2lkdGg6IDEwMHB4XFxcIiBuZy1zcmM9XFxcInt7bWFzdGVyX2RhdGEuc2xjX21hc3Rlci5tYXN0ZXJfdXNlci5hdmF0YXJ9fVxcXCI+PC9kaXY+PGRpdj48c3BhbiBuZy1iaW5kPVxcXCJtYXN0ZXJfZGF0YS5zbGNfbWFzdGVyLmJpb1xcXCI+PC9zcGFuPjwvZGl2PjwvZGl2PjxtZC1saXN0IHN0eWxlPVxcXCJjbGVhcjogYm90aFxcXCI+PG1kLWxpc3QtaXRlbSBjbGFzcz1cXFwibWQtMi1saW5lXFxcIj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtaW5zdGFncmFtIGZhLTJ4XFxcIiBzdHlsZT1cXFwibWFyZ2luLXJpZ3RoOjhweDtcXFwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0tdGV4dFxcXCI+PGgzPjxhIGNsYXNzPVxcXCJtZC1hY2NlbnRcXFwiIGFyaWEtbGFiZWw9XFxcImxpbmsgdG8gaW5zdGFncmFtXFxcIiBzdHlsZT1cXFwibWFyZ2luOiAwOyBwYWRkaW5nOiAwXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwiaHR0cHM6Ly9pbnN0YWdyYW0uY29tL3t7bWFzdGVyX2RhdGEuc2xjX21hc3Rlci51c2VybmFtZX19XFxcIj5odHRwczovL2luc3RhZ3JhbS5jb20ve3ttYXN0ZXJfZGF0YS5zbGNfbWFzdGVyLnVzZXJuYW1lfX08L2E+PC9oMz48cD5pbnN0YWdyYW0gKNC90L7QstCw0Y8g0LLQutC70LDQtNC60LApPC9wPjwvZGl2PjxtZC1zd2l0Y2ggY2xhc3M9XFxcIm1kLXNlY29uZGFyeVxcXCIgbmctc2hvdz1cXFwiZmFsc2VcXFwiIG5nLW1vZGVsPVxcXCJpc19lbmFibGVkXFxcIj48L21kLXN3aXRjaD48L2Rpdj48L21kLWxpc3QtaXRlbT48bWQtbGlzdC1pdGVtIGNsYXNzPVxcXCJtZC0yLWxpbmVcXFwiPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1nbG9iZSBmYS0yeFxcXCIgc3R5bGU9XFxcIm1hcmdpbi1yaWd0aDoxMnB4O1xcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48aDM+PGEgbmctaWY9XFxcIm1hc3Rlcl9kYXRhLnNsY19tYXN0ZXIud2Vic2l0ZVxcXCIgYXJpYS1sYWJlbD1cXFwibGluayB0byBpbnN0YWdyYW1cXFwiIHN0eWxlPVxcXCJtYXJnaW46IDA7IHBhZGRpbmc6MFxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIG5nLWhyZWY9XFxcInt7bWFzdGVyX2RhdGEuc2xjX21hc3Rlci53ZWJzaXRlfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcIm1hc3Rlcl9kYXRhLnNsY19tYXN0ZXIud2Vic2l0ZVxcXCI+PC9zcGFuPjwvYT4gPHNwYW4gbmctaWY9XFxcIiFtYXN0ZXJfZGF0YS5zbGNfbWFzdGVyLndlYnNpdGVcXFwiPtC90LXRgiDQtNCw0L3QvdGL0YU8L3NwYW4+PC9oMz48cD7QstC10LEt0YHQsNC50YIgKNC90L7QstCw0Y8g0LLQutC70LDQtNC60LApPC9wPjwvZGl2PjxtZC1zd2l0Y2ggY2xhc3M9XFxcIm1kLXNlY29uZGFyeVxcXCIgbmctc2hvdz1cXFwiZmFsc2VcXFwiIG5nLW1vZGVsPVxcXCJpc19lbmFibGVkXFxcIj48L21kLXN3aXRjaD48L2Rpdj48L21kLWxpc3QtaXRlbT48L21kLWxpc3Q+PC9kaXY+PC9tZC1kaWFsb2ctY29udGVudD48L21kLWRpYWxvZz5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9ydWJyaWMtaXRlbS9ydWJyaWMtaXRlbS50cGwuaHRtbFwiLFwiPGRpdiBuZy1pZj1cXFwiY3VyX3J1YnJpY19zdGF0XFxcIj48bmctaW5jbHVkZSBzcmM9XFxcIlxcJ2FnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL3NlcnYtbGlzdC50cGwuaHRtbFxcJ1xcXCI+PC9uZy1pbmNsdWRlPjwvZGl2PjxkaXYgbmctaWY9XFxcIiFjdXJfcnVicmljX3N0YXRcXFwiPtCy0YHQtSDRg9GB0LvRg9Cz0Lg8L2Rpdj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9ydWJyaWMtaXRlbS9zZXJ2LWxpc3QudHBsLmh0bWxcIixcIjxkaXYgbmctY29udHJvbGxlcj1cXFwiU2Vydkxpc3RDb250cm9sbGVyXFxcIj48ZGl2IG5nLWlmPVxcXCIhaXNfc2Vydl9sb2FkZWRcXFwiPjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCI+PG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XFxcImluZGV0ZXJtaW5hdGVcXFwiIGNsYXNzPVxcXCJtZC1odWUtM1xcXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj7Qt9Cw0LPRgNGD0LfQutCwINC/0L7RgNGC0YTQvtC70LjQvi4uLjwvZGl2PjwvZGl2PjxkaXYgbmctaWY9XFxcImlzX3NlcnZfbG9hZGVkXFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiIG5nLWlmPVxcXCJzZXJ2X2RhdGEuYXJyX3NlcnZfaW5mby5sZW5ndGggPT09IDBcXFwiPtGA0LDQsdC+0YIg0L3QtSDQvdCw0LnQtNC10L3QviDQv9C+INC00LDQvdC90L7QuSDRgdC/0LXRhtC40LDQu9C40LfQsNGG0LjQuCDQsiDQstCw0YjQtdC8INCz0L7RgNC+0LTQtTwvZGl2PjxtZC1ncmlkLWxpc3QgbWQtY29scy1zbT1cXFwiMVxcXCIgbWQtY29scy1tZD1cXFwiMlxcXCIgbWQtY29scy1sZz1cXFwiM1xcXCIgbWQtY29scy1ndC1sZz1cXFwiNFxcXCIgbWQtcm93LWhlaWdodD1cXFwiMToxXFxcIiBtZC1ndXR0ZXI9XFxcIjRweFxcXCI+PG1kLWdyaWQtdGlsZSBjbGFzcz1cXFwiYmFjay1pbWdcXFwiIG5nLWlmPVxcXCJzZXJ2SW5mby53b3JrX2lkXFxcIiBuZy1yZXBlYXQ9XFxcInNlcnZJbmZvIGluIHNlcnZfZGF0YS5hcnJfc2Vydl9pbmZvXFxcIiBvbi1maW5pc2gtcmVuZGVyPVxcXCJzZXJ2TGlzdFJlcGVhdEZpbmlzaGVkXFxcIiBuZy1zdHlsZT1cXFwie1xcJ2JhY2tncm91bmQtaW1hZ2VcXCc6IFxcJ3VybCh7e3NlcnZJbmZvLndvcmtfcHJldmlld19pbWd9fSlcXCd9XFxcIj48bWQtZ3JpZC10aWxlLWZvb3Rlcj48aDMgbmctYmluZD1cXFwic2VydkluZm8ubWFzdGVyX25hbWVcXFwiIHN0eWxlPVxcXCJ0ZXh0LXNoYWRvdzogIzU1NSAxcHggMXB4LCAjNTU1IC0xcHggLTFweCwgIzU1NSAtMXB4IDFweCwgIzU1NSAxcHggLTFweFxcXCI+PC9oMz48L21kLWdyaWQtdGlsZS1mb290ZXI+PGRpdiBzdHlsZT1cXFwicG9zaXRpb246IGFic29sdXRlOyByaWdodDogMDsgYm90dG9tOiAycHhcXFwiPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLWljb24tYnV0dG9uXFxcIiBhcmlhLWxhYmVsPVxcXCLQuNC90YTQvtGA0LzQsNGG0LjRjyDQviDQvNCw0YHRgtC10YDQtVxcXCIgbmctY2xpY2s9XFxcInNob3dNYXN0ZXJJbmZvKCRldmVudCwgc2VydkluZm8ubWFzdGVyX3NlcnYubWFzdGVyX3Byb2ZpbGVfaWQpXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWluZm8tY2lyY2xlIGZhLTJ4XFxcIiBzdHlsZT1cXFwiY29sb3I6ICNlZWU7IHdpZHRoOiAzMnB4OyBoZWlnaHQ6IDMycHhcXFwiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48L2Rpdj48L21kLWdyaWQtdGlsZT48L21kLWdyaWQtbGlzdD48ZGl2IGxheW91dD1cXFwiXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiIG5nLWlmPVxcXCJzZXJ2X2RhdGEuaXNfbW9yZV9leGlzdFxcXCI+PG1kLWJ1dHRvbiBmbGV4PVxcXCJcXFwiIGNsYXNzPVxcXCJtZC1hY2NlbnRcXFwiIG5nLWNsaWNrPVxcXCJwbHVzRGF0YSgpXFxcIiBuZy1zaG93PVxcXCJpc19tb3JlX2xvYWRlZFxcXCI+0L/QvtC60LDQt9Cw0YLRjCDQtdGJ0ZEuLi48L21kLWJ1dHRvbj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiIG5nLXNob3c9XFxcIiFpc19tb3JlX2xvYWRlZFxcXCI+PG1kLXByb2dyZXNzLWNpcmN1bGFyIG1kLW1vZGU9XFxcImluZGV0ZXJtaW5hdGVcXFwiIGNsYXNzPVxcXCJtZC1odWUtM1xcXCI+PC9tZC1wcm9ncmVzcy1jaXJjdWxhcj7Qt9Cw0LPRgNGD0LfQutCwINC/0L7RgNGC0YTQvtC70LjQvi4uLjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PlwiKTt9XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9