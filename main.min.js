!function(t){"use strict";var e=function(t,e,r,i,o,n,a){o.theme("default").primaryPalette("pink",{"default":"500","hue-1":"200","hue-2":"800","hue-3":"A100"}).accentPalette("blue",{}).warnPalette("red"),i.html5Mode(!1).hashPrefix("!");var l="",c="/welcome";t.state("byt",{url:l,"abstract":!0}).state("byt.welcome",{url:c,templateUrl:"welcome/wlc.tpl.html",controller:"WlcController"}).state("byt.aggloList",{url:"/cities",templateUrl:"agglo-list/agglo-list.tpl.html",controller:"AggloListController"}).state("byt.aggloItem",{url:"/cities/:agglo_inter_code","abstract":!0,templateUrl:"agglo-item/agglo-item.tpl.html",controller:"AggloItemController",resolve:{q_agglo_inter_code:["$stateParams",function(t){return console.log("some resolve"),t.agglo_inter_code}]}}).state("byt.about",{url:"/about",templateUrl:"about/about.tpl.html",controller:"AboutController"}),e.otherwise(l+c),a.setPrefix("ppa").setStorageType("localStorage")};t.module("myApp.appConfig",["ui.router","ngMaterial","LocalStorageModule","myApp.templateFactory","myApp.ToolbarController","myApp.WlcController","myApp.AggloItemController","myApp.AggloListController","myApp.AboutController","anguphantom"]).config(["$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider","$mdThemingProvider","$mdIconProvider","localStorageServiceProvider",e])}(window.angular),function(t){"use strict";var e=function(){};t.module("myApp",["myApp.appConfig"]).run([e]);var r=function(){t.bootstrap(document,["myApp"])};t.element(document).ready(function(){window.cordova?document.addEventListener("deviceready",r,!1):r()})}(window.angular),window.onerror=function(){"use strict";alert("Непредвиденная ошибка")},function(t){"use strict";var e=function(t){t.state("byt.aggloItem.specList",{url:"/specs",views:{aggloItemContent:{templateUrl:"agglo-item/spec-list/spec-list.tpl.html",controller:"SpecListController"}}}).state("byt.aggloItem.specItem",{url:"/specs/:spec_id","abstract":!0,views:{aggloItemContent:{templateUrl:"agglo-item/spec-item/spec-item.tpl.html",controller:"SpecItemController"}},resolve:{q_spec_id:["$q","$stateParams","rubricRepo",function(t,e,r){var i=e.spec_id,o=t.defer();return r.getIds().indexOf(i)>=0?o.resolve(i):o.reject("param "+i+" is not supported"),o.promise}]}}).state("byt.aggloItem.specItem.salonList",{url:"/salons",views:{specItemContent:{templateUrl:"agglo-item/spec-item/salon-list/salon-list.tpl.html",controller:"SalonListController"}}}).state("byt.aggloItem.specItem.rubricItem",{url:"/rubrics/:rubric_id",views:{specItemContent:{templateUrl:"agglo-item/spec-item/rubric-item/rubric-item.tpl.html",controller:"RubricItemController"}},resolve:{q_rubric_id:["$stateParams",function(t){return t.rubric_id}]}})};t.module("myApp.aggloItemConfig",["myApp.SpecListController","myApp.SpecItemController","myApp.SalonListController","myApp.RubricItemController"]).config(["$stateProvider",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n,a,l,c){t.cur_agglo=null;var s=function(){var e=i.calcByInterCode(c);e?t.cur_agglo=e:r.go("byt.welcome")};i.retrieveData().then(s)["catch"](function(e){console.log("aggloRetrieveError"),console.log(e),l.error("Технические неполадки: не удалось подключиться к серверу."),t.htmlReady()}),e(function(){t.is_prg=!0},500)};t.module("myApp.AggloItemController",["myApp.aggloItemConfig","myApp.aggloRepo","myApp.rubricRepo","myApp.servRepo","myApp.masterRepo","myApp.notifFactory"]).controller("AggloItemController",["$scope","$timeout","$state","aggloRepo","rubricRepo","servRepo","masterRepo","notifFactory","q_agglo_inter_code",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o){o.setTitle("Выбор города"),o.setPrevHref(e.href("byt.welcome")),t.agglo_data=i.getData(),i.retrieveData()["catch"](function(t){r.error("Технические неполадки: не удалось подключиться к серверу."),console.log("aggloRetrieveError",t)})["finally"](function(){t.htmlReady()})};t.module("myApp.AggloListController",["myApp.notifFactory","myApp.aggloRepo","myApp.siteRepo"]).controller("AggloListController",["$scope","$state","notifFactory","aggloRepo","siteRepo",e])}(window.angular),function(t){"use strict";var e=function(t,e,r){r.setTitle("О проекте"),r.setPrevHref(e.href("byt.welcome")),t.htmlReady()};t.module("myApp.AboutController",["myApp.siteRepo"]).controller("AboutController",["$scope","$state","siteRepo",e])}(window.angular),function(t){"use strict";var e=function(t,e,r){t.msg_body=r,t.hideDialog=function(){e.hide()}};t.module("myApp.AlrtController",["ngMaterial"]).controller("AlrtController",["$scope","$mdDialog","msg_body",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o){t.site_data=i.getData(),t.scrollToTop=function(){e.hash("top_block"),r()},t.scroll_data=o.getData()};t.module("myApp.ToolbarController",["myApp.siteRepo","myApp.scrollRepo"]).controller("ToolbarController",["$scope","$location","$anchorScroll","siteRepo","scrollRepo",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n,a,l,c,s,d){d.setTitle("МисКра"),d.setPrevHref(""),t.is_socnet=window.IS_SOCNET;var m=function(){n.error("Не удалось определить город. Попробуйте выбрать вручную")};t.defineSocCity=function(){window.getSocCity?window.getSocCity(function(t){if(t){var e=l.findElemByProp(a.getData().arr_geo_agglo,"local_name",t);if(!e)return void n.error("Ваше местоположение "+t+" не поддерживается приложением");u(e)}else m()}):m()},t.loc_data=c.getData(),t.perm_data=s.getData();var u=function(t){e.go("byt.aggloItem.specList",{agglo_inter_code:t.inter_code})},p=function(){var e=c.getData().coords;a.calcAggloByCoords(e.lat,e.lng).then(function(e){e?(s.saveLocationPermission(),u(e)):(n.error("Местоположение не поддерживается сервисом. Попробуйте выбрать вручную."),t.htmlReady())})};t.defineLocation=function(){c.retrieveFromDevice().then(p)["catch"](function(e){n.error(e),t.htmlReady()})},t.cleanLocationPermission=function(){s.cleanLocationPermission()};var g=function(){s.checkLocationPermission().then(function(e){e,t.htmlReady()})};a.retrieveData().then(g)["catch"](function(e){n.error("Технические неполадки: не удалось подключиться к серверу."),console.log("aggloRetrieveError",e),t.htmlReady()}),o(function(){t.is_prg=!0},500)};t.module("myApp.WlcController",["ui.router","myApp.notifFactory","myApp.aggloRepo","myApp.hprFactory","myApp.locRepo","myApp.permRepo","myApp.siteRepo"]).controller("WlcController",["$scope","$state","$log","$http","$timeout","notifFactory","aggloRepo","hprFactory","locRepo","permRepo","siteRepo",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n,a,l){a.setTitle(t.cur_agglo.local_name),a.setPrevHref(r.href("byt.welcome")),t.rubric_data=i.getData();var c=n.calcByInterCode(l);i.retrieveData(c.id,"ru")["catch"](function(t){o.error("Ошибка загрузки категорий"),console.log(t)})["finally"](function(){t.htmlReady()}),e(function(){t.is_prg=!0},500)};t.module("myApp.SpecListController",["myApp.rubricRepo","myApp.notifFactory","myApp.aggloRepo","myApp.siteRepo"]).controller("SpecListController",["$scope","$timeout","$state","rubricRepo","notifFactory","aggloRepo","siteRepo","q_agglo_inter_code",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n){t.cur_spec=null;var a=function(){t.cur_spec=o.calcServGroupById(n)};t.is_show_rubrics="byt.aggloItem.specItem.rubricItem"===e.$current.name,t.onTabSelected=function(r){e.go("byt.aggloItem.specItem.rubricItem",{agglo_inter_code:t.cur_agglo.inter_code,spec_id:t.cur_spec.id,rubric_id:r})},o.retrieveData(t.cur_agglo.id,"ru").then(a)["catch"](function(e){i.error("Ошибка загрузки категорий"),console.log(e),t.htmlReady()}),r(function(){t.is_prg=!0},500)};t.module("myApp.SpecItemController",["myApp.notifFactory","myApp.rubricRepo"]).controller("SpecItemController",["$scope","$state","$timeout","notifFactory","rubricRepo","q_spec_id",e])}(window.angular),function(t,e){"use strict";var r=function(t,r){var i={key:e.APICOM_KEY,version:e.APICOM_VERSION},o=function(t){return 200!==t.status?r.reject("Ошибка запроса"):t.data?"404"===t.data.response_code?r.reject("Не найдено информации по салону"):"200"!==t.data.response_code?r.reject("Ошибка при получении информации о салоне"):(window.DG&&window.DG.apitracker.regBC(t.data.register_bc_url),t.data):r.reject("Ошибка запроса")},n=function(r,n){return i.id=r,i.hash=n,t({method:"GET",url:e.APICOM_ENDPOINT+"/profile",params:i}).then(o)};return{loadFirm:n}};t.module("myApp.firmItemFactory",[]).factory("firmItemFactory",["$http","$q",r])}(window.angular,window.APPCONF),function(t,e){"use strict";var r=function(t,r){var i={key:e.APICOM_KEY,version:e.APICOM_VERSION,sort:"distance",page:1,pagesize:50,what:""},o=function(t){return 200!==t.status?r.reject("Ошибка запроса"):t.data?"404"===t.data.response_code?{total:0,markers:[]}:"200"!==t.data.response_code?r.reject("Ошибка запроса"):{total:parseInt(t.data.total,10),result:t.data.result}:r.reject("Ошибка запроса")},n=function(r,n,a,l){return i.what=r,i.point=n.toString()+","+a.toString(),i.radius=l,t({method:"GET",url:e.APICOM_ENDPOINT+"/search",params:i}).then(o)};return{loadFirmsByPoint:n}};t.module("myApp.firmListFactory",[]).factory("firmListFactory",["$http","$q",r])}(window.angular,window.APPCONF),function(t){"use strict";var e=function(t,e){var r=function(){var r=t.defer();return"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){r.resolve(t.coords)},function(t){e.log("geoloc error",t),r.reject("Не удалось получить текущее местоположение")},{timeout:1e4}):r.reject("Не удалось получить текущее местоположение"),r.promise};return{getCurCoords:r}};t.module("myApp.geolocFactory",[]).factory("geolocFactory",["$q","$log",e])}(window.angular),function(t){"use strict";return t.module("anguphantom",[]).run(["$rootScope",function(t){var e=function(){"function"==typeof window.callPhantom&&(window.callPhantom({appResult:"clientFinished"}),console.log("callPhantomFromClient")),console.log("htmlReady")},r=function(){window.setTimeout(e,0)};t.htmlReady=function(){t.$evalAsync(r)}}])}(window.angular),function(t){"use strict";t.module("myApp.drct",["myApp.scrollRepo"]).directive("onFinishRender",["$timeout",function(t){return{restrict:"A",link:function(e,r,i){e.$last===!0&&(console.log("onFinishRender:last",e.$index),t(function(){e.$emit(i.onFinishRender)}))}}}]).directive("scrollWatcher",["scrollRepo",function(t){return function(e,r){var i=r[0];r.bind("scroll",function(){t.setPos(i.scrollTop),e.$apply()})}}])}(window.angular),function(t,e){"use strict";var r=function(t){t=t.substr(9,t.length-11);var e=t.split(",");return e.map(function(t){return{latitude:parseFloat(t.split(" ")[1]),longitude:parseFloat(t.split(" ")[0])}})},i=function(){var i=function(t,i,o){return e.isPointInside({latitude:i,longitude:o},r(t))},o=function(e,r,o){var n;return t.forEach(e,function(t){n||i(t.extent,r,o)&&(n=t)}),n};return{isPointInsideWkt:i,convertWktToArr:r,findAggloByCoords:o}};t.module("myApp.geoHelper",[]).factory("geoHelper",[i])}(window.angular,window.geolib),function(t){"use strict";var e=function(){function t(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var e=function(t,e){return 0===t.length?!0:0===e.length?!1:(t.sort(),e.sort(),("|"+e.join("|")+"|").indexOf("|"+t.join("|")+"|")>=0)},r=function(t,e,r){var i=t.map(function(t){return t[e]}).indexOf(r);return t[i]},i=function(t){t=t.substr(6,t.length-7);var e=t.split(" ");return{longitude:parseFloat(e[0]),latitude:parseFloat(e[1])}};return{findElemByProp:r,isArrInArr:e,randomIntFromInterval:t,coordsFromWktPoint:i}};t.module("myApp.hprFactory",[]).factory("hprFactory",[e])}(window.angular),function(t){"use strict";function e(e,r,i){function o(e,r){var i=!0;return t.forEach(e,function(t,e){r[e]!==t&&(i=!1)}),i}function n(n,a,l){var c=r.defer(),s=i.get(n);if(s){var d=t.fromJson(s),m=d.filter(t.bind(null,o,a));l?c.resolve(m):m.length>1?c.reject("notOnlyOne"):c.resolve(m[0])}else e.log("tbl not found",s,n),c.resolve(l?[]:null);return c.promise}function a(e,o){var n=r.defer(),a=i.get(e),l=a?t.fromJson(a):[],c=l.filter(function(t,e){return t.id===o.id?(l[e]=o,!0):!1})[0];return c||l.push(o),i.set(e,t.toJson(l)),n.resolve(o),n.promise}function l(e,n){var a=r.defer(),l=i.get(e);if(l){var c=t.fromJson(l);t.forEach(c,function(t,e){o(n,t)&&c.splice(e,1)}),i.set(e,t.fromJson(c))}return a.resolve(),a.promise}return{writeToStorage:a,readFromStorage:n,delFromStorage:l}}t.module("myApp.ldbHelper",["LocalStorageModule"]).factory("ldbHelper",["$log","$q","localStorageService",e])}(window.angular),function(t,e){"use strict";function r(t){for(var e,r,i,o,n=0;n<t.length;n++){var a=t[n];"moscow"===a.inter_code?(e=a,t.splice(n--,1)):"spb"===a.inter_code?(r=a,t.splice(n--,1)):"novosibirsk"===a.inter_code?(i=a,t.splice(n--,1)):"krasnodar"===a.inter_code&&(o=a,t.splice(n--,1))}t.splice(0,0,o),t.splice(0,0,i),t.splice(0,0,r),t.splice(0,0,e)}var i={arr_geo_agglo:[],is_loaded:!1},o=function(o,n,a){var l=function(e){i.arr_geo_agglo.length=0;var o=e.data.arr_geo_agglo;r(o),t.extend(i.arr_geo_agglo,o),i.is_loaded=!0},c=function(t,e){return e.inter_code===t};return{getData:function(){return i},retrieveData:function(){if(console.log("try: retrieving agglos"),i.is_loaded){var t=o.defer();return t.resolve(),t.promise}var r={method:"GET",url:e.APIMAS_ENDPOINT+"/territory/get-agglos"};return n(r).then(l)},calcByInterCode:function(e){return i.arr_geo_agglo.filter(t.bind(null,c,e))[0]},calcAggloByCoords:function(t,e){var r=a.findAggloByCoords(i.arr_geo_agglo,t,e),n=o.defer();return n.resolve(r),n.promise}}};t.module("myApp.aggloRepo",["myApp.geoHelper"]).factory("aggloRepo",["$q","$http","geoHelper",o])}(window.angular,window.APPCONF),function(t){"use strict";var e={cur_firm:null},r=function(t){return{getData:function(){return e},retrieveData:function(r,i){return t.loadFirm(r,i).then(function(t){e.cur_firm=t})}}};t.module("myApp.firmItemRepo",["myApp.firmItemFactory"]).factory("firmItemRepo",["firmItemFactory",r])}(window.angular),function(t){"use strict";var e={map_markers:{},total:0},r={hair:{name:"Парикмахерские"},cosmetic:{name:"Косметические услуги"},nail:{name:"Ногтевые студии"},makeup:{name:"Услуги визажиста"},massage:{name:"Услуги массажиста"}},i=function(t,e){var r='<md-button class="md-accent" style="margin:0" onclick="window.showFirmInfo(event,'+e.id+",'"+e.hash+"');\">Подробнее</md-button>",i="";e.micro_comment&&(i='<div><small class="md-caption">'+e.micro_comment+"</small></div>",e.fas_warning&&(i+='<div><small class="md-caption" style="color: #bb0000">'+e.fas_warning+"</small></div>"),i+="</div>");var o='<md-content style="background-color: transparent; font-size: 0.9rem"><div style="margin-bottom:2px"><strong>'+e.name+"</strong></div><div>"+e.address+"</div><md-divider></md-divider>"+i+'<div style="text-align: right">'+r+"</div></md-content>";t[e.id]={lat:parseFloat(e.lat),lng:parseFloat(e.lon),message:o}},o=function(e){var r={};return t.forEach(e,t.bind(null,i,r)),r},n=function(t){return{getData:function(){return e},clearData:function(){e.map_markers={}},retrieveData:function(i,n,a){var l=function(t){e.map_markers=o(t.result),e.total=t.total};return t.loadFirmsByPoint(r[a].name,i,n,3e3).then(l)}}};t.module("myApp.firmListRepo",["myApp.firmListFactory"]).factory("firmListRepo",["firmListFactory",n])}(window.angular),function(t){"use strict";var e={src_url:null},r=function(){return{getData:function(){return e},setUrl:function(t){e.src_url=t}}};t.module("myApp.fullRepo",[]).factory("fullRepo",[r])}(window.angular),function(t){"use strict";var e={is_defined:!1,is_device_progress:!1,coords:{lat:null,lng:null}},r=function(t,r){return{getData:function(){return e},retrieveFromDevice:function(){if(e.is_defined){var i=t.defer();return i.resolve(),i.promise}return e.is_device_progress=!0,r.getCurCoords().then(function(t){e.coords.lat=t.latitude,e.coords.lng=t.longitude,e.is_defined=!0})["finally"](function(){e.is_device_progress=!1})}}};t.module("myApp.locRepo",["myApp.geolocFactory"]).factory("locRepo",["$q","geolocFactory",r])}(window.angular),function(t,e){"use strict";var r={slc_master:null,is_in_progress:!1},i=function(t,i){var o=function(t){r.slc_master=t},n=function(){r.slc_master=null},a=function(n){var a=t.defer();r.is_in_progress=!0;var l={method:"GET",url:e.APIMAS_ENDPOINT+"/master/get-profile2",params:{id:n}};return i(l).then(function(t){return t.data?(o(t.data),t.data):a.reject("Мастер не найден")})["finally"](function(){r.is_in_progress=!1})};return{getData:function(){return r},cleanMaster:n,setMaster:o,retrieveMaster:a}};t.module("myApp.masterRepo",[]).factory("masterRepo",["$q","$http",i])}(window.angular,window.APPCONF),function(t){"use strict";var e="location_permission",r=null,i={is_perm_checked:!1},o=function(t,o){var n=function(){r=!0,o.writeToStorage(e,{id:0,is_allowed:!0})},a=function(t){return i.is_perm_checked=!0,r=t&&t.is_allowed===!0?!0:!1};return{getData:function(){return i},cleanLocationPermission:function(){r=!1,o.delFromStorage(e,{id:0})},saveLocationPermission:n,checkLocationPermission:function(){if(i.is_perm_checked){var n=t.defer();return n.resolve(r),n.promise}return o.readFromStorage(e,{id:0},!1).then(a)}}};t.module("myApp.permRepo",["myApp.ldbHelper"]).factory("permRepo",["$q","ldbHelper",o])}(window.angular),function(t,e){"use strict";var r={arr_serv_group:[{id:"hair",name:"Услуги парикмахера",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0},{id:"nail",name:"Уход за ногтями",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0},{id:"makeup",name:"Услуги визажиста",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0},{id:"cosmetic",name:"Услуги косметолога",arr_serv_rubric_stat:[],count_serv_rubric:0,sum_master_serv:0}],lang:"ru",geo_district_id:null,is_loaded:!1},i=function(i,o,n){var a=function(e,r){var i=0,o=e.filter(function(t){return t.serv_rubric.serv_group_id===r.id?(i+=t.count_master_serv,!0):!1});o.sort(function(t,e){return t.count_master_serv>e.count_master_serv?-1:t.count_master_serv<e.count_master_serv?1:0}),r.arr_serv_rubric_stat.length=0,t.extend(r.arr_serv_rubric_stat,o),r.count_serv_rubric=o.length,r.sum_master_serv=i},l=function(e){r.arr_serv_group.forEach(t.bind(null,a,e.data.arr_serv_rubric_stat)),r.geo_district_id=e.data.geo_district_id,r.is_loaded=!0},c=function(t,n){if(r.is_loaded&&r.geo_district_id===t){var a=i.defer();return a.resolve(),a.promise}r.is_loaded=!1;var c=r.arr_serv_group.map(function(t){return t.id}),s={method:"GET",url:e.APIMAS_ENDPOINT+"/rubric/get-group-stat",params:{ids_serv_group:c.join("__"),geo_district_id:t,lang:n}};return o(s).then(l)},s=function(t){return n.findElemByProp(r.arr_serv_group,"id",t)};return{getIds:function(){return r.arr_serv_group.map(function(t){return t.id})},getData:function(){return r},retrieveData:c,calcServGroupById:s,calcServRubricStat:function(t,e){return t.arr_serv_rubric_stat.filter(function(t){return t.serv_rubric.id===e})[0]}}};t.module("myApp.rubricRepo",["myApp.hprFactory"]).factory("rubricRepo",["$q","$http","hprFactory",i])}(window.angular,window.APPCONF),function(t){"use strict";var e={pos:0},r=function(){return{setPos:function(t){e.pos=t},getData:function(){return e}}};t.module("myApp.scrollRepo",[]).factory("scrollRepo",[r])}(window.angular),function(t,e){"use strict";var r={arr_serv_info:[],limit:null,start_id:null,next_start_id:null,is_more_exist:!1},i=function(t,i){var o=function(){r.arr_serv_info.length=0,r.limit=null,r.start_id=null,r.next_start_id=null,r.is_more_exist=!1},n=function(t){var e=t.data;e.arr_serv_info.forEach(function(t){r.arr_serv_info.push(t)}),r.limit=parseInt(e.limit,10),r.start_id=e.start_id,r.next_start_id=e.next_start_id,r.is_more_exist=r.limit===e.arr_serv_info.length?!0:!1},a=function(t,a){var l={method:"GET",url:e.APIMAS_ENDPOINT+"/master/get-serv-scope2",params:{ids_serv_rubric:t.join("__"),geo_district_id:a,is_out_only:!1,start_id:r.next_start_id,limit:16}};return i(l).then(function(t){r.next_start_id||o(),n(t)})};return{getData:function(){return r},retrieveData:a,cleanArrServInfo:o}};t.module("myApp.servRepo",[]).factory("servRepo",["$q","$http",i])}(window.angular,window.APPCONF),function(t){"use strict";var e=function(){var t={ttl:"Default",prev_href:""};return{setTitle:function(e){t.ttl=e},setPrevHref:function(e){t.prev_href=e},getData:function(){return t}}};t.module("myApp.siteRepo",[]).factory("siteRepo",[e])}(window.angular),function(t){"use strict";function e(t){var e=function(e){t.show({templateUrl:"alrt/alrt.tpl.html",controller:"AlrtController",clickOutsideToClose:!0,parent:r,locals:{msg_body:e}})};return{error:function(t){e(t)}}}var r=t.element(document.body);t.module("myApp.notifFactory",["ngMaterial","myApp.AlrtController"]).factory("notifFactory",["$mdDialog",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i){t.hideDialog=function(){e.hide()},t.is_loaded=!1,r.retrieveMaster(i).then(function(){t.master_data=r.getData()})["finally"](function(){t.is_loaded=!0})};t.module("myApp.MasterDetailController",["myApp.masterRepo"]).controller("MasterDetailController",["$scope","$mdDialog","masterRepo","master_profile_id",e])}(window.angular),function(t){"use strict";var e=function(t,e,r,i,o,n){o.setPrevHref(e.href("byt.aggloItem.specList",{agglo_inter_code:t.cur_agglo.inter_code})),o.setTitle(t.cur_spec.name),t.cur_rubric_stat=i.calcServRubricStat(t.cur_spec,n)};t.module("myApp.RubricItemController",["myApp.drct","myApp.ServListController","myApp.notifFactory","myApp.rubricRepo","myApp.siteRepo"]).controller("RubricItemController",["$scope","$state","notifFactory","rubricRepo","siteRepo","q_rubric_id",e])}(window.angular),function(t){"use strict";var e=t.element(document.body),r=function(t,r,i,o,n){t.showMasterInfo=function(t,r){i.show({clickOutsideToClose:!0,parent:e,controller:"MasterDetailController",templateUrl:"agglo-item/spec-item/rubric-item/master-detail.tpl.html",targetEvent:t,locals:{master_profile_id:r}})},t.$on("servListRepeatFinished",function(){t.htmlReady()}),t.plusData=function(){t.is_more_loaded=!1,n.retrieveData([t.cur_rubric_stat.serv_rubric.id],t.cur_agglo.id)["finally"](function(){t.is_more_loaded=!0})},n.cleanArrServInfo(),t.serv_data=n.getData(),n.retrieveData([t.cur_rubric_stat.serv_rubric.id],t.cur_agglo.id).then(function(){})["catch"](function(e){o.error("Ошибка загрузки услуг. Попробуйте позже."),console.log("retrieveServError",e),t.htmlReady()})["finally"](function(){t.is_serv_loaded=!0,t.is_more_loaded=!0})};t.module("myApp.ServListController",["myApp.drct","myApp.MasterDetailController","myApp.notifFactory","myApp.servRepo"]).controller("ServListController",["$scope","$state","$mdDialog","notifFactory","servRepo",r])}(window.angular),function(t){"use strict";var e=function(t,e,r){t.firm_data=r.getData(),t.hideDialog=function(){e.hide()}};t.module("myApp.FirmDetailController",["myApp.firmItemRepo"]).controller("FirmDetailController",["$scope","$mdDialog","firmItemRepo",e])}(window.angular),function(t,e){"use strict";e.Icon.Default.imagePath="./images/";var r=t.element(document.body),i=function(e,i,o,n,a,l,c,s,d,m,u){m.setPrevHref(i.href("byt.aggloItem.specList",{agglo_inter_code:e.cur_agglo.inter_code})),m.setTitle(e.cur_spec.name),e.firm_list_data=l.getData(),e.map_defaults={tileLayer:"https:////{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{detectRetina:!0,reuseTiles:!0,attribution:'© <a target="_blank" href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | <a target="_blank" href="http://api.2gis.ru/">Предоставлено 2ГИС</a>'},zoomControlPosition:"topleft"},e.map_events={map:{enable:["moveend"],logic:"emit"}},e.map_paths={p1:{weight:2,stroke:!0,opacity:.5,fillOpacity:0,clickable:!1,color:"green",latlngs:[40,40],radius:3e3,type:"circle"}},e.zurpos={lng:null,lat:null,zoom:null};var p=!0,g=function(){n.error("Ошибка загрузки салонов. Попробуйте позже.")},f=function(t){t&&e.htmlReady()};e.$on("leafletDirectiveMap.moveend",function(r){var i=r.targetScope.center,o=!0;if(e.zurpos.lng){var a=Math.max(Math.abs(i.lng-e.zurpos.lng),Math.abs(i.lat-e.zurpos.lat));.0015>a&&(o=!1,console.log("delta",a))}if(e.zurpos.lng=i.lng,e.zurpos.lat=i.lat,e.zurpos.zoom=i.zoom,i.zoom<14)l.clearData(),e.map_paths.p1.radius=0;else if(o){var c=e.cur_spec.id;c?(l.retrieveData(e.zurpos.lng,e.zurpos.lat,c)["catch"](t.bind(null,g))["finally"](t.bind(null,f,p)),e.map_paths.p1.latlngs=[i.lat,i.lng],e.map_paths.p1.radius=3e3):n.error("Для показа салонов необходимо выбрать рубрику")}p=!1});var v=null;e.$on("leafletDirectiveMarker.popupopen",function(t,e){v=e.leafletEvent.popup._source});var _=function(t){o.show({clickOutsideToClose:!0,parent:r,controller:"FirmDetailController",templateUrl:"agglo-item/spec-item/salon-list/firm-detail.tpl.html",targetEvent:t,onComplete:function(){v&&v.closePopup()}})},y=function(t){n.error("Ошибка загрузки информации о компании. Попробуйте позже."),console.log("errFirm",t)};window.showFirmInfo=function(e,r,i){u.retrieveData(r,i).then(t.bind(null,_,e),y)},e.perm_data=c.getData(),e.loc_data=s.getData(),e.map_center={lat:null,lng:null,zoom:14};var h=function(t,r){e.map_center.lat=t,e.map_center.lng=r},b=function(){var t=a.coordsFromWktPoint(e.cur_agglo.centroid);h(t.latitude,t.longitude),console.log("center coords")},w=function(){var t=s.getData().coords;d.calcAggloByCoords(t.lat,t.lng).then(function(r){r?(console.log("tmpAgglo",r),r.id===e.cur_agglo.id?(h(t.lat,t.lng),console.log("device coords")):b()):b()})},A=function(t){console.log("handleLocPerm"),t?s.retrieveFromDevice().then(w)["catch"](b):b()};console.log("handlelocperm"),c.checkLocationPermission().then(A)};t.module("myApp.SalonListController",["ngSanitize","leaflet-directive","ngMaterial","myApp.notifFactory","myApp.hprFactory","myApp.firmListRepo","myApp.permRepo","myApp.locRepo","myApp.aggloRepo","myApp.siteRepo","myApp.FirmDetailController","myApp.firmItemRepo"]).controller("SalonListController",["$scope","$state","$mdDialog","notifFactory","hprFactory","firmListRepo","permRepo","locRepo","aggloRepo","siteRepo","firmItemRepo",i])}(window.angular,window.L),angular.module("myApp.templateFactory",[]).run(["$templateCache",function(t){t.put("about/about.tpl.html",'<div layout-margin="" layout-padding=""><p>Проект предоставляет услуги по поиску мастеров и салонов красоты:</p><ul class="list"><li class="item"><strong>Парикмахер</strong><ul><li>Свадебные прически</li><li>Наращивание волос</li><li>Стрижка</li><li>...</li></ul></li><li class="item"><strong>Визажист</strong><ul><li>Вечерний макияж</li><li>Наращивание ресниц</li><li>Свадебный макияж</li><li>...</li></ul></li><li class="item"><strong>Уход за ногтями</strong><ul><li>Маникюр</li><li>Ногтевой дизайн</li><li>Шеллак</li><li>...</li></ul></li><li class="item"><strong>Косметолог</strong><ul><li>Чистка лица</li><li>Эпиляция</li><li>Татуаж</li><li>...</li></ul></li></ul><p>Варианты поиска:<ul><li>по карте города: отображение салонов красоты</li><li>по портфолио: фотографиям работ</li></ul></p><p>Проект поддерживает большинство крупных и средних городов по территории РФ и некоторые зарубежные города.</p></div>'),t.put("agglo-item/agglo-item.tpl.html",'<div class="full-height"><div ng-if="is_prg"><div ng-if="!cur_agglo"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка локации...</div></div></div><div class="full-height" ng-if="cur_agglo"><ui-view class="full-height" name="aggloItemContent"></ui-view></div></div>'),t.put("agglo-list/agglo-list.tpl.html",'<md-content layout-margin="" md-scroll-y=""><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div ng-if="agglo_data.is_loaded"><md-input-container md-no-float="" style="margin: 16px 16px 0 16px"><md-icon md-font-icon="fa fa-search fa-2x"></md-icon><input type="text" placeholder="Найти город" ng-model="agglo_search.local_name"></md-input-container><md-list><md-list-item ng-repeat="agg in agglo_data.arr_geo_agglo | filter:agglo_search" style="display:inline-block"><md-button class="md-accent" style="text-align: left" aria-label="{{agg.local_name}}" ui-sref="byt.aggloItem.specList({agglo_inter_code:agg.inter_code})"><span ng-bind="agg.local_name"></span></md-button></md-list-item></md-list></div></div></div></md-content>'),t.put("alrt/alrt.tpl.html",'<md-dialog aria-label="Уведомление"><md-dialog-content><p ng-bind="msg_body"></p></md-dialog-content><div class="md-actions"><md-button class="md-accent" ng-click="hideDialog()">Понятно</md-button></div></md-dialog>'),t.put("toolbar/toolbar.tpl.html",'<div class="md-toolbar-tools" ng-controller="ToolbarController"><md-button ng-href="{{site_data.prev_href}}" class="md-icon-button" aria-label="назад" title="назад" ng-if="site_data.prev_href"><md-icon md-font-icon="fa fa-arrow-circle-left fa-2x" style="color:white"></md-icon></md-button><md-button class="md-icon-button" ui-sref="byt.welcome" aria-label="главная" ng-if="!site_data.prev_href"><md-icon md-font-icon="fa fa-home fa-2x" style="color:white"></md-icon></md-button><h2><span ng-bind="site_data.ttl"></span></h2><span flex=""></span><md-button ng-click="scrollToTop()" aria-label="наверх" ng-show="scroll_data.pos > 300">наверх</md-button></div>'),t.put("welcome/no-location.tpl.html",'<md-card flex="" class="md-whiteframe-z2"><md-card-content><div>моё местоположение</div><md-divider></md-divider><div layout="row" layout-sm="column" layout-align="space-around center" style="margin-top: 12px"><div layout="column" layout-align="center center"><md-button class="md-fab md-primary" ng-click="defineLocation()" title="приблизительные координаты" aria-label="автоопределение"><md-icon md-font-icon="fa fa-street-view fa-2x"></md-icon></md-button><div><small>автоопределение</small></div></div><div layout="column" layout-align="center center"><md-button class="md-primary md-fab" ui-sref="byt.aggloList" ng-click="cleanLocationPermission();" title="центр города" aria-label="вручную"><md-icon md-font-icon="fa fa-list-ul fa-2x"></md-icon></md-button><div><small>выбрать вручную</small></div></div><div layout="column" layout-align="center center" ng-if="is_socnet"><md-button class="md-fab md-primary" ng-click="defineSocCity()" title="центр города" aria-label="из социальной сети"><md-icon md-font-icon="fa fa-vk fa-2x"></md-icon></md-button><div><small>из социальной сети</small></div></div></div></md-card-content></md-card>'),t.put("welcome/wlc.tpl.html",'<md-content md-scroll-y=""><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><h4 class="md-subhead" style="margin: 20px">Поиск мастеров и салонов красоты: открытые контактные данные, карта с ближайшими салонами, портфолио мастеров и другое <a ui-sref="byt.about">подробнее</a><br><br>Вы - мастер? Оставьте заявку на подключение в <a target="_blank" href="//vk.com/topic-92002771_31699472">группе приложения</a>.</h4><div ng-if="is_prg"><div ng-if="!perm_data.is_perm_checked"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка</div></div></div><div ng-if="perm_data.is_perm_checked"><ng-include src="\'welcome/no-location.tpl.html\'"></ng-include></div></div></div></md-content>'),t.put("agglo-item/spec-list/serv-groups.tpl.html",'<div layout-gt-sm="row" layout-sm="column" layout-fill="" layout-wrap=""><md-card flex="" class="md-whiteframe-z3" style="min-width:240px;" ng-repeat="grp in rubric_data.arr_serv_group"><md-card-content><h2 class="md-title" ng-bind="grp.name"></h2><p ng-show="grp.arr_serv_rubric_stat.length > 0"><div ng-repeat="rbrStat in grp.arr_serv_rubric_stat|limitTo:5|limitTo:-4">{{rbrStat.serv_rubric.name}} <span ng-show="$index === 3">...</span></div></p><div class="md-actions" layout="row" layout-align="end center"><md-button class="md-accent" ui-sref="byt.aggloItem.specItem.salonList({agglo_inter_code: cur_agglo.inter_code, spec_id: grp.id})">на карте</md-button><md-button class="md-accent" ui-sref="byt.aggloItem.specItem.rubricItem({agglo_inter_code: cur_agglo.inter_code, spec_id: grp.id, rubric_id: grp.id})">портфолио</md-button></div></md-card-content></md-card></div>'),
t.put("agglo-item/spec-list/spec-list.tpl.html",'<md-content md-scroll-y=""><div layout="row"><div flex="" flex-gt-md="50" offset-gt-md="25"><div ng-if="is_prg"><div ng-if="!rubric_data.is_loaded"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка категорий...</div></div></div><div ng-if="rubric_data.is_loaded"><ng-include src="\'agglo-item/spec-list/serv-groups.tpl.html\'"></ng-include></div></div></div></md-content>'),t.put("agglo-item/spec-item/spec-item.tpl.html",'<div class="full-height"><div ng-if="is_prg"><div ng-if="!cur_spec"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка специализации...</div></div></div><div class="full-height" ng-if="cur_spec"><div ng-if="is_show_rubrics"><md-tabs md-border-bottom="" md-selected="slc_rubric_index"><md-tab ng-repeat="rbrStat in cur_spec.arr_serv_rubric_stat" md-on-select="onTabSelected(rbrStat.serv_rubric.id)" label="{{rbrStat.serv_rubric.name}}"></md-tab></md-tabs></div><ui-view class="full-height" name="specItemContent"></ui-view></div></div>'),t.put("agglo-item/spec-item/rubric-item/master-detail.tpl.html",'<md-dialog aria-label="Информация о мастере"><md-dialog-content class="sticky-container" style="padding:0"><div ng-if="!master_data"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка...</div></div><md-toolbar class="md-whiteframe-z1" ng-if="master_data"><div class="md-toolbar-tools"><span ng-bind="master_data.slc_master.name"></span></div></md-toolbar><div ng-if="master_data"><div layout-margin="" layout-padding=""><div style="width: 100px; height: 100px; float: right; margin-left: 8px"><img style="width: 100px" ng-src="{{master_data.slc_master.master_user.avatar}}"></div><div><span ng-bind="master_data.slc_master.bio"></span></div></div><md-list style="clear: both"><md-list-item class="md-2-line"><div class="md-list-item-inner"><md-icon md-font-icon="fa fa-instagram fa-2x" style="margin-rigth:8px;"></md-icon><div class="md-list-item-text"><h3><a class="md-accent" aria-label="link to instagram" style="margin: 0; padding: 0" target="_blank" ng-href="https://instagram.com/{{master_data.slc_master.username}}">https://instagram.com/{{master_data.slc_master.username}}</a></h3><p>instagram (новая вкладка)</p></div><md-switch class="md-secondary" ng-show="false" ng-model="is_enabled"></md-switch></div></md-list-item><md-list-item class="md-2-line"><div class="md-list-item-inner"><md-icon md-font-icon="fa fa-globe fa-2x" style="margin-rigth:12px;"></md-icon><div class="md-list-item-text"><h3><a ng-if="master_data.slc_master.website" aria-label="link to instagram" style="margin: 0; padding:0" target="_blank" ng-href="{{master_data.slc_master.website}}"><span ng-bind="master_data.slc_master.website"></span></a> <span ng-if="!master_data.slc_master.website">нет данных</span></h3><p>веб-сайт (новая вкладка)</p></div><md-switch class="md-secondary" ng-show="false" ng-model="is_enabled"></md-switch></div></md-list-item></md-list></div></md-dialog-content></md-dialog>'),t.put("agglo-item/spec-item/rubric-item/rubric-item.tpl.html",'<div ng-if="cur_rubric_stat"><ng-include src="\'agglo-item/spec-item/rubric-item/serv-list.tpl.html\'"></ng-include></div><div ng-if="!cur_rubric_stat">все услуги</div>'),t.put("agglo-item/spec-item/rubric-item/serv-list.tpl.html",'<div ng-controller="ServListController"><div ng-if="!is_serv_loaded"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка портфолио...</div></div><div ng-if="is_serv_loaded"><div layout="column" layout-align="center center" ng-if="serv_data.arr_serv_info.length === 0">работ не найдено по данной специализации в вашем городе</div><md-grid-list md-cols-sm="1" md-cols-md="2" md-cols-lg="3" md-cols-gt-lg="4" md-row-height="1:1" md-gutter="4px"><md-grid-tile class="back-img" ng-if="servInfo.work_id" ng-repeat="servInfo in serv_data.arr_serv_info" on-finish-render="servListRepeatFinished" ng-style="{\'background-image\': \'url({{servInfo.work_preview_img}})\'}"><md-grid-tile-footer><h3 ng-bind="servInfo.master_name" style="text-shadow: #555 1px 1px, #555 -1px -1px, #555 -1px 1px, #555 1px -1px"></h3></md-grid-tile-footer><div style="position: absolute; right: 0; bottom: 2px"><md-button class="md-icon-button" aria-label="информация о мастере" ng-click="showMasterInfo($event, servInfo.master_serv.master_profile_id)"><md-icon md-font-icon="fa fa-info-circle fa-2x" style="color: #eee; width: 32px; height: 32px"></md-icon></md-button></div></md-grid-tile></md-grid-list><div layout="" layout-align="center center" ng-if="serv_data.is_more_exist"><md-button flex="" class="md-accent" ng-click="plusData()" ng-show="is_more_loaded">показать ещё...</md-button><div layout="column" layout-align="center center" ng-show="!is_more_loaded"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка портфолио...</div></div></div></div>'),t.put("agglo-item/spec-item/salon-list/firm-detail.tpl.html",'<md-dialog aria-label="Информация о салоне"><md-dialog-content class="sticky-container" style="padding:0"><md-toolbar class="md-tall md-whiteframe-z1"><h2 class="md-toolbar-tools"><span ng-bind="firm_data.cur_firm.name"></span></h2><h3 class="md-toolbar-tools"><small><span ng-bind="firm_data.cur_firm.city_name"></span>, <span ng-bind="firm_data.cur_firm.address"></span></small></h3><md-button class="md-fab md-accent md-fab-bottom-right" aria-label="Вернуться на карту" title="Вернуться на карту" style="bottom: -40px" ng-click="hideDialog()"><md-icon md-font-icon="fa fa-map-marker fa-2x"></md-icon></md-button></md-toolbar><div><div ng-repeat="ctctGroup in firm_data.cur_firm.contacts"><md-list><md-list-item class="md-2-line contact-item" ng-repeat="ctct in ctctGroup.contacts"><div ng-if="ctct.type === \'phone\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-phone fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>телефон <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div><md-switch class="md-secondary" ng-show="false" ng-model="is_enabled"></md-switch></div><div ng-if="ctct.type === \'fax\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-fax fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>факс <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'email\'"><md-icon md-font-icon="fa fa-envelope fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>email <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'skype\'"><md-icon md-font-icon="fa fa-skype fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>Skype <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'icq\'"><md-icon md-font-icon="fa fa-comments fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>icq <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'jabber\'"><md-icon md-font-icon="fa fa-comments-o fa-2x"></md-icon><div class="md-list-item-text"><h3 ng-bind="ctct.value"></h3><p>jabber <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'website\'"><md-icon md-font-icon="fa fa-globe fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>веб-сайт <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'vkontakte\'"><md-icon md-font-icon="fa fa-vk fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>ВКонтакте <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'facebook\'"><md-icon md-font-icon="fa fa-facebook fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Facebook <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'instagram\'"><md-icon md-font-icon="fa fa-instagram fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Instagram <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'twitter\'"><md-icon md-font-icon="fa fa-twitter fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Twitter <span ng-bind="ctct.comment"></span></p></div></div></md-list-item></md-list></div></div><div ng-if="firm_data.cur_firm.article"><ng-include src="\'agglo-item/spec-item/salon-list/firm-rekl.tpl.html\'"></ng-include></div></md-dialog-content></md-dialog>'),t.put("agglo-item/spec-item/salon-list/firm-rekl.tpl.html",'<div layout-margin="" layout-padding=""><md-divider></md-divider><small style="color: gray">специальное предложение</small><div><h2 ng-if="firm_data.cur_firm.link"><md-button class="md-accent md-raised" aria-label="спец предложение" style="margin-left: 0" target="_blank" ng-href="{{firm_data.cur_firm.link.link}}"><span ng-bind="firm_data.cur_firm.link.text"></span></md-button></h2><h2 class="md-subhead" ng-if="!firm_data.cur_firm.link">Объявление</h2></div><p></p><p ng-if="firm_data.cur_firm.article"><span ng-bind-html="firm_data.cur_firm.article"></span></p><p ng-if="firm_data.cur_firm.fas_warning"><small ng-bind="firm_data.cur_firm.fas_warning"></small></p><p></p></div>'),t.put("agglo-item/spec-item/salon-list/salon-list.tpl.html",'<div class="full-height"><div class="padding text-center" ng-if="!map_center.lng">загрузка карты...<br><ion-spinner></ion-spinner></div><div class="full-height" ng-if="map_center.lng" data-tap-disabled="true"><leaflet class="my-map custom-popup" center="map_center" defaults="map_defaults" markers="firm_list_data.map_markers" event-broadcast="map_events" paths="map_paths"></leaflet><div style="top:4px; right:4px; position: absolute;"><div style="background: rgba(255,255,255,0.7); color: #333; padding: 0 5px;"><span ng-show="zurpos.zoom < 14" style="color:#dd0000">приблизьте карту для отображения меток</span> <span ng-show="zurpos.zoom >= 14"><span ng-show="firm_list_data.total > 0">салонов в радиусе 3км: <b ng-bind="firm_list_data.total"></b></span> <span ng-show="firm_list_data.total === 0">не найдено салонов на выбранной территории</span></span></div></div></div></div>')}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC1jb25maWcuanMiLCJhcHAuanMiLCJhZ2dsby1pdGVtL2FnZ2xvLWl0ZW0tY29uZmlnLmpzIiwiYWdnbG8taXRlbS9hZ2dsby1pdGVtLWN0cmwuanMiLCJhZ2dsby1saXN0L2FnZ2xvLWxpc3QtY3RybC5qcyIsImFib3V0L2Fib3V0LWN0cmwuanMiLCJhbHJ0L2FscnQtY3RybC5qcyIsInRvb2xiYXIvdG9vbGJhci1jdHJsLmpzIiwid2VsY29tZS93bGMtY29udHJvbGxlci5qcyIsImFnZ2xvLWl0ZW0vc3BlYy1saXN0L3NwZWMtbGlzdC1jdHJsLmpzIiwiYWdnbG8taXRlbS9zcGVjLWl0ZW0vc3BlYy1pdGVtLWN0cmwuanMiLCJhbGwvYXBpL2Zpcm0taXRlbS1mYWN0b3J5LmpzIiwiYWxsL2FwaS9maXJtLWxpc3QtZmFjdG9yeS5qcyIsImFsbC9hcGkvZ2VvbG9jLWZhY3RvcnkuanMiLCJhbGwvY2hvcmUvYW5ndXBoYW50b20uanMiLCJhbGwvZHJjdC9kcmN0LmpzIiwiYWxsL2hwci9nZW8taGVscGVyLmpzIiwiYWxsL2hwci9ocHItZmFjdG9yeS5qcyIsImFsbC9ocHIvbGRiLWhlbHBlci5qcyIsImFsbC9yZXBvL2FnZ2xvLXJlcG8uanMiLCJhbGwvcmVwby9maXJtLWl0ZW0tcmVwby5qcyIsImFsbC9yZXBvL2Zpcm0tbGlzdC1yZXBvLmpzIiwiYWxsL3JlcG8vZnVsbC1yZXBvLmpzIiwiYWxsL3JlcG8vbG9jLXJlcG8uanMiLCJhbGwvcmVwby9tYXN0ZXItcmVwby5qcyIsImFsbC9yZXBvL3Blcm0tcmVwby5qcyIsImFsbC9yZXBvL3J1YnJpYy1yZXBvLmpzIiwiYWxsL3JlcG8vc2Nyb2xsLXJlcG8uanMiLCJhbGwvcmVwby9zZXJ2LXJlcG8uanMiLCJhbGwvcmVwby9zaXRlLXJlcG8uanMiLCJhbGwvdmlzdWFsL25vdGlmLWZhY3RvcnkuanMiLCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9ydWJyaWMtaXRlbS9tYXN0ZXItZGV0YWlsLWN0cmwuanMiLCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9ydWJyaWMtaXRlbS9ydWJyaWMtaXRlbS1jdHJsLmpzIiwiYWdnbG8taXRlbS9zcGVjLWl0ZW0vcnVicmljLWl0ZW0vc2Vydi1saXN0LWN0cmwuanMiLCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L2Zpcm0tZGV0YWlsLWN0cmwuanMiLCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L3NhbG9uLWxpc3QtY3RybC5qcyIsInRlbXBsYXRlLWZhY3RvcnkuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsInhwbyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiJGh0dHBQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwiJG1kSWNvblByb3ZpZGVyIiwibG9jYWxTdG9yYWdlU2VydmljZVByb3ZpZGVyIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImRlZmF1bHQiLCJodWUtMSIsImh1ZS0yIiwiaHVlLTMiLCJhY2NlbnRQYWxldHRlIiwid2FyblBhbGV0dGUiLCJodG1sNU1vZGUiLCJoYXNoUHJlZml4IiwiYmFzZVJvdXRlIiwiYmFzZVBhdGgiLCJzdGF0ZSIsInVybCIsImFic3RyYWN0IiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwicmVzb2x2ZSIsInFfYWdnbG9faW50ZXJfY29kZSIsIiRzdGF0ZVBhcmFtcyIsImNvbnNvbGUiLCJsb2ciLCJhZ2dsb19pbnRlcl9jb2RlIiwib3RoZXJ3aXNlIiwic2V0UHJlZml4Iiwic2V0U3RvcmFnZVR5cGUiLCJtb2R1bGUiLCJjb25maWciLCJ3aW5kb3ciLCJydW5YcG8iLCJydW4iLCJsb2FkVGhlQXBwIiwiYm9vdHN0cmFwIiwiZG9jdW1lbnQiLCJlbGVtZW50IiwicmVhZHkiLCJjb3Jkb3ZhIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uZXJyb3IiLCJhbGVydCIsImNia0NvbmZpZyIsInZpZXdzIiwiYWdnbG9JdGVtQ29udGVudCIsInFfc3BlY19pZCIsIiRxIiwicnVicmljUmVwbyIsInRtcFNwZWNJZCIsInNwZWNfaWQiLCJkZnIiLCJkZWZlciIsImdldElkcyIsImluZGV4T2YiLCJyZWplY3QiLCJwcm9taXNlIiwic3BlY0l0ZW1Db250ZW50IiwicV9ydWJyaWNfaWQiLCJydWJyaWNfaWQiLCIkc2NvcGUiLCIkdGltZW91dCIsIiRzdGF0ZSIsImFnZ2xvUmVwbyIsInNlcnZSZXBvIiwibWFzdGVyUmVwbyIsIm5vdGlmRmFjdG9yeSIsImN1cl9hZ2dsbyIsImNia1JldHJpZXZlQWdnbG9MaXN0IiwidG1wQWdnbG8iLCJjYWxjQnlJbnRlckNvZGUiLCJnbyIsInJldHJpZXZlRGF0YSIsInRoZW4iLCJ0bXBFcnJvciIsImVycm9yIiwiaHRtbFJlYWR5IiwiaXNfcHJnIiwic2l0ZVJlcG8iLCJzZXRUaXRsZSIsInNldFByZXZIcmVmIiwiaHJlZiIsImFnZ2xvX2RhdGEiLCJnZXREYXRhIiwiJG1kRGlhbG9nIiwibXNnX2JvZHkiLCJoaWRlRGlhbG9nIiwiaGlkZSIsIiRsb2NhdGlvbiIsIiRhbmNob3JTY3JvbGwiLCJzY3JvbGxSZXBvIiwic2l0ZV9kYXRhIiwic2Nyb2xsVG9Ub3AiLCJoYXNoIiwic2Nyb2xsX2RhdGEiLCIkbG9nIiwiJGh0dHAiLCJocHJGYWN0b3J5IiwibG9jUmVwbyIsInBlcm1SZXBvIiwiaXNfc29jbmV0IiwiSVNfU09DTkVUIiwiY2JrRXJyRGVmaW5lU29jQ2l0eSIsImRlZmluZVNvY0NpdHkiLCJnZXRTb2NDaXR5IiwiY2l0eU5hbWUiLCJmaW5kRWxlbUJ5UHJvcCIsImFycl9nZW9fYWdnbG8iLCJyZWRpcmVjdFRvQWdnbG9TcGVjcyIsImxvY19kYXRhIiwicGVybV9kYXRhIiwiaW50ZXJfY29kZSIsImF1dG9DYWxjQWdnbG8iLCJ0bXBDb29yZHMiLCJjb29yZHMiLCJjYWxjQWdnbG9CeUNvb3JkcyIsImxhdCIsImxuZyIsInNhdmVMb2NhdGlvblBlcm1pc3Npb24iLCJkZWZpbmVMb2NhdGlvbiIsInJldHJpZXZlRnJvbURldmljZSIsInJlYXNvbiIsImNsZWFuTG9jYXRpb25QZXJtaXNzaW9uIiwiY2hlY2tMb2NhdGlvblBlcm1pc3Npb24iLCJpc19wZXJtX2FsbG93ZWQiLCJsb2NhbF9uYW1lIiwicnVicmljX2RhdGEiLCJpZCIsImUiLCJjdXJfc3BlYyIsImF0dGFjaFNwZWNJdGVtIiwiY2FsY1NlcnZHcm91cEJ5SWQiLCJpc19zaG93X3J1YnJpY3MiLCIkY3VycmVudCIsIm5hbWUiLCJvblRhYlNlbGVjdGVkIiwic2Vydl9ydWJyaWNfaWQiLCJBUFBDT05GIiwiZ2lzX3BhcmFtcyIsImtleSIsIkFQSUNPTV9LRVkiLCJ2ZXJzaW9uIiwiQVBJQ09NX1ZFUlNJT04iLCJjYmtSZXEiLCJyIiwic3RhdHVzIiwiZGF0YSIsInJlc3BvbnNlX2NvZGUiLCJERyIsImFwaXRyYWNrZXIiLCJyZWdCQyIsInJlZ2lzdGVyX2JjX3VybCIsImxvYWRGaXJtIiwiZmlsaWFsSGFzaCIsIm1ldGhvZCIsIkFQSUNPTV9FTkRQT0lOVCIsInBhcmFtcyIsImZhY3RvcnkiLCJzb3J0IiwicGFnZSIsInBhZ2VzaXplIiwid2hhdCIsInRvdGFsIiwibWFya2VycyIsInBhcnNlSW50IiwicmVzdWx0IiwibG9hZEZpcm1zQnlQb2ludCIsInJ1YnJpY05hbWUiLCJsb24xIiwibGF0MSIsInJhZGl1cyIsInRvU3RyaW5nIiwiZ2V0Q3VyQ29vcmRzIiwibmF2aWdhdG9yIiwiZ2VvbG9jYXRpb24iLCJnZXRDdXJyZW50UG9zaXRpb24iLCJwb3NpdGlvbiIsImVyciIsInRpbWVvdXQiLCIkcm9vdFNjb3BlIiwiY2JrVGltZU91dCIsImNhbGxQaGFudG9tIiwiYXBwUmVzdWx0IiwiY2JrRXZhbEFzeW5jIiwic2V0VGltZW91dCIsIiRldmFsQXN5bmMiLCJkaXJlY3RpdmUiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImF0dHIiLCIkbGFzdCIsIiRpbmRleCIsIiRlbWl0IiwiZWxlbSIsInJhdyIsImJpbmQiLCJzZXRQb3MiLCJzY3JvbGxUb3AiLCIkYXBwbHkiLCJnZW9saWIiLCJjb252ZXJ0V2t0VG9BcnIiLCJ3a3QiLCJzdWJzdHIiLCJsZW5ndGgiLCJhcnJXa3QiLCJzcGxpdCIsIm1hcCIsIml0ZW0iLCJsYXRpdHVkZSIsInBhcnNlRmxvYXQiLCJsb25naXR1ZGUiLCJpc1BvaW50SW5zaWRlV2t0IiwiaXNQb2ludEluc2lkZSIsImZpbmRBZ2dsb0J5Q29vcmRzIiwiYXJyQWdnbG8iLCJmb3JFYWNoIiwiZXh0ZW50IiwicmFuZG9tSW50RnJvbUludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaXNBcnJJbkFyciIsImExIiwiYTIiLCJqb2luIiwiYXJyIiwicHJvcE5hbWUiLCJwcm9wVmFsIiwiZWxlbWVudFBvcyIsIngiLCJjb29yZHNGcm9tV2t0UG9pbnQiLCJ3a3RQb2ludCIsInRtcEFyciIsImxvY2FsU3RvcmFnZVNlcnZpY2UiLCJjaGVja1JlYWRJdGVtIiwiaXNQYXNzZWQiLCJwYXJhbVZhbHVlIiwicGFyYW1LZXkiLCJyZWFkRnJvbVN0b3JhZ2UiLCJ0YmxOYW1lIiwiaXNBcnJheSIsImRlZmVycmVkIiwidGJsIiwiZ2V0IiwiZnJvbUpzb24iLCJuZWVkSXRlbXMiLCJmaWx0ZXIiLCJ3cml0ZVRvU3RvcmFnZSIsInRhYmxlTmFtZSIsIm9iaiIsImN1ciIsImluZCIsInB1c2giLCJzZXQiLCJ0b0pzb24iLCJkZWxGcm9tU3RvcmFnZSIsInNwbGljZSIsInJlYXJyYW5nZUFyciIsIm1vc2Nvd0luZGV4Iiwic3BiSW5kZXgiLCJub3Zvc2liaXJza0luZGV4Iiwia3Jhc25vZGFySW5kZXgiLCJpIiwiYWdnIiwicmVwb0RhdGEiLCJpc19sb2FkZWQiLCJnZW9IZWxwZXIiLCJzZXREYXRhIiwiZXh0ZW5kIiwiY2JrTWFwQWdnbG8iLCJpbnRlckNvZGUiLCJhZ2dsb0l0ZW0iLCJyZXEiLCJBUElNQVNfRU5EUE9JTlQiLCJjdXJfZmlybSIsImZpcm1JdGVtRmFjdG9yeSIsInJlc3VsdEZpcm0iLCJtYXBfbWFya2VycyIsImdyb3VwVHJhbnNsYXRpb24iLCJoYWlyIiwiY29zbWV0aWMiLCJuYWlsIiwibWFrZXVwIiwibWFzc2FnZSIsImNia01hcmtlciIsIm1hcmtPYmoiLCJ2YWwiLCJkc2NCdG4iLCJtaWNyb0NtbnQiLCJtaWNyb19jb21tZW50IiwiZmFzX3dhcm5pbmciLCJkc2MiLCJhZGRyZXNzIiwibG9uIiwibWVzc2FnZSIsImFyclRvTWFya2VycyIsImZpcm1MaXN0RmFjdG9yeSIsImNsZWFyRGF0YSIsInNlcnZHcm91cElkIiwiY2JrTG9hZEZpcm1zIiwic3JjX3VybCIsInNldFVybCIsInRtcFVybCIsImlzX2RlZmluZWQiLCJpc19kZXZpY2VfcHJvZ3Jlc3MiLCJnZW9sb2NGYWN0b3J5Iiwic2xjX21hc3RlciIsImlzX2luX3Byb2dyZXNzIiwic2V0TWFzdGVyIiwidG1wTWFzdGVyIiwiY2xlYW5NYXN0ZXIiLCJyZXRyaWV2ZU1hc3RlciIsIlBFUk1fVEFCTEUiLCJpc19wZXJtX2NoZWNrZWQiLCJsZGJIZWxwZXIiLCJpc19hbGxvd2VkIiwiaGFuZGxlTG9jYXRpb25QZXJtaXNzaW9uIiwicHJtIiwiYXJyX3NlcnZfZ3JvdXAiLCJhcnJfc2Vydl9ydWJyaWNfc3RhdCIsImNvdW50X3NlcnZfcnVicmljIiwic3VtX21hc3Rlcl9zZXJ2IiwibGFuZyIsImdlb19kaXN0cmljdF9pZCIsInNldFJ1YnJpY3NUb0dyb3VwIiwiZnJlc2hBcnJSdWJyaWMiLCJncnBJdGVtIiwidG1wU3VtTWFzdGVyU2VydiIsInJiclN0YXQiLCJzZXJ2X3J1YnJpYyIsInNlcnZfZ3JvdXBfaWQiLCJjb3VudF9tYXN0ZXJfc2VydiIsImEiLCJiIiwiaGFuZGxlUmVzdWx0IiwiZ2VvRGlzdHJpY3RJZCIsImlkc1NlcnZHcm91cCIsImlkc19zZXJ2X2dyb3VwIiwiY2FsY1NlcnZSdWJyaWNTdGF0Iiwic2Vydkdyb3VwIiwic2VydlJ1YnJpY0lkIiwidG1wUnVicmljU3RhdCIsInBvcyIsImFycl9zZXJ2X2luZm8iLCJsaW1pdCIsInN0YXJ0X2lkIiwibmV4dF9zdGFydF9pZCIsImlzX21vcmVfZXhpc3QiLCJjbGVhbkFyclNlcnZJbmZvIiwiYWRkRGF0YSIsImNvbnRlbnQiLCJ2IiwiaWRzU2VydlJ1YnJpYyIsImlkc19zZXJ2X3J1YnJpYyIsImlzX291dF9vbmx5IiwidHRsIiwicHJldl9ocmVmIiwidG1wSHJlZiIsIm1zZyIsImJkeSIsInNob3ciLCJjbGlja091dHNpZGVUb0Nsb3NlIiwicGFyZW50IiwicGFyZW50RWwiLCJsb2NhbHMiLCJib2R5IiwibWFzdGVyX3Byb2ZpbGVfaWQiLCJtYXN0ZXJfZGF0YSIsImN1cl9ydWJyaWNfc3RhdCIsInNob3dNYXN0ZXJJbmZvIiwiZXYiLCJtYXN0ZXJQcm9maWxlSWQiLCJ0YXJnZXRFdmVudCIsIiRvbiIsInBsdXNEYXRhIiwiaXNfbW9yZV9sb2FkZWQiLCJzZXJ2X2RhdGEiLCJpc19zZXJ2X2xvYWRlZCIsImZpcm1JdGVtUmVwbyIsImZpcm1fZGF0YSIsImxmbCIsIkljb24iLCJEZWZhdWx0IiwiaW1hZ2VQYXRoIiwiZmlybUxpc3RSZXBvIiwiZmlybV9saXN0X2RhdGEiLCJtYXBfZGVmYXVsdHMiLCJ0aWxlTGF5ZXIiLCJ0aWxlTGF5ZXJPcHRpb25zIiwiZGV0ZWN0UmV0aW5hIiwicmV1c2VUaWxlcyIsImF0dHJpYnV0aW9uIiwiem9vbUNvbnRyb2xQb3NpdGlvbiIsIm1hcF9ldmVudHMiLCJlbmFibGUiLCJsb2dpYyIsIm1hcF9wYXRocyIsInAxIiwid2VpZ2h0Iiwic3Ryb2tlIiwib3BhY2l0eSIsImZpbGxPcGFjaXR5IiwiY2xpY2thYmxlIiwiY29sb3IiLCJsYXRsbmdzIiwidHlwZSIsInp1cnBvcyIsInpvb20iLCJpc19maXJzdF9tb3ZlZW5kIiwiY2JrQ2F0Y2hSZXRyaWV2ZSIsImNia0ZpbmFsbHlSZXRyaWV2ZSIsImlzRmlyc3RNb3ZlRW5kIiwiZXZlbnQiLCJjbnRyIiwidGFyZ2V0U2NvcGUiLCJjZW50ZXIiLCJpc0Vub3VnaCIsImRlbHRhIiwiYWJzIiwidG1wU2xjU2Vydkdyb3VwSWQiLCJjdXJfcG9wdXAiLCJhcmdzIiwibGVhZmxldEV2ZW50IiwicG9wdXAiLCJfc291cmNlIiwiY2JrTG9hZEZpcm0iLCJvbkNvbXBsZXRlIiwiY2xvc2VQb3B1cCIsImNia0xvYWRGaXJtRXJyIiwiZXJyRmlybSIsInNob3dGaXJtSW5mbyIsIm1hcF9jZW50ZXIiLCJzZXRDb29yZHMiLCJ1c2VDZW50ZXJDb29yZHMiLCJjZW50ZXJDb29yZHMiLCJjZW50cm9pZCIsIkwiLCIkdGVtcGxhdGVDYWNoZSIsInB1dCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsR0FDQSxZQUVBLElBQUFDLEdBQUEsU0FBQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsRUFDQUMsR0FJQUYsRUFBQUcsTUFBQSxXQUNBQyxlQUFBLFFBQ0FDLFVBQUEsTUFDQUMsUUFBQSxNQUNBQyxRQUFBLE1BQ0FDLFFBQUEsU0FFQUMsY0FBQSxXQVdBQyxZQUFBLE9BV0FYLEVBQ0FZLFdBQUEsR0FDQUMsV0FBQSxJQUVBLElBQUFDLEdBQUEsR0FDQUMsRUFBQSxVQUlBbEIsR0FFQW1CLE1BQUEsT0FDQUMsSUFBQUgsRUFDQUksWUFBQSxJQUlBRixNQUFBLGVBQ0FDLElBQUFGLEVBQ0FJLFlBQUEsdUJBQ0FDLFdBQUEsa0JBR0FKLE1BQUEsaUJBQ0FDLElBQUEsVUFDQUUsWUFBQSxpQ0FDQUMsV0FBQSx3QkFJQUosTUFBQSxpQkFDQUMsSUFBQSw0QkFFQUMsWUFBQSxFQUNBQyxZQUFBLGlDQUNBQyxXQUFBLHNCQUNBQyxTQUNBQyxvQkFDQSxlQUNBLFNBQUFDLEdBR0EsTUFEQUMsU0FBQUMsSUFBQSxnQkFDQUYsRUFBQUcsc0JBTUFWLE1BQUEsYUFDQUMsSUFBQSxTQUNBRSxZQUFBLHVCQUNBQyxXQUFBLG9CQUlBdEIsRUFBQTZCLFVBQUFiLEVBQUFDLEdBYUFaLEVBQ0F5QixVQUFBLE9BQ0FDLGVBQUEsZ0JBYUFsQyxHQUFBbUMsT0FBQSxtQkFDQSxZQUNBLGFBQ0EscUJBQ0Esd0JBR0EsMEJBQ0Esc0JB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aUJBQ0EsNkJBQ0EsdUJBR0FWLFdBQUEsdUJBQ0EsU0FDQSxTQUNBLFlBQ0EsZUFDQSxhQUNBLGVBQ0EsV0FDQSxVQUNBLFlBQ0EsV0FDQSxlQUNBeEIsS0FJQW9DLE9BQUFyQyxRQUFBcUMsT0FBQXdaLEdDcFZBN2IsUUFBQW1DLE9BQUEsNEJBQUFJLEtBQUEsaUJBQUEsU0FBQXVaLEdBQUFBLEVBQUFDLElBQUEsdUJBQUEsbzVCQUNBRCxFQUFBQyxJQUFBLGlDQUFBLDRXQUNBRCxFQUFBQyxJQUFBLGlDQUFBLDJ1QkFDQUQsRUFBQUMsSUFBQSxxQkFBQSwyTkFDQUQsRUFBQUMsSUFBQSwyQkFBQSxxcEJBQ0FELEVBQUFDLElBQUEsK0JBQUEsd25DQUNBRCxFQUFBQyxJQUFBLHVCQUFBLHV4QkFDQUQsRUFBQUMsSUFBQSw0Q0FBQTtBQUNBRCxFQUFBQyxJQUFBLDBDQUFBLHNkQUNBRCxFQUFBQyxJQUFBLDBDQUFBLHduQkFDQUQsRUFBQUMsSUFBQSwwREFBQSxnOERBQ0FELEVBQUFDLElBQUEsd0RBQUEsNEtBQ0FELEVBQUFDLElBQUEsc0RBQUEsa29EQUNBRCxFQUFBQyxJQUFBLHVEQUFBLDBtSUFDQUQsRUFBQUMsSUFBQSxxREFBQSw0cUJBQ0FELEVBQUFDLElBQUEsc0RBQUEiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLFxuXHRcdCAgICAgJHVybFJvdXRlclByb3ZpZGVyLFxuXHRcdCAgICAgJGh0dHBQcm92aWRlcixcblx0XHQgICAgICRsb2NhdGlvblByb3ZpZGVyLFxuXHRcdCAgICAgJG1kVGhlbWluZ1Byb3ZpZGVyLFxuXHRcdCAgICAgJG1kSWNvblByb3ZpZGVyLFxuXHRcdCAgICAgbG9jYWxTdG9yYWdlU2VydmljZVByb3ZpZGVyKSB7XG5cbiAgICBcbiAgICAvLyBVcGRhdGUgdGhlIHRoZW1lIGNvbG9ycyB0byB1c2UgdGhlbWVzIG9uIGZvbnQtaWNvbnNcbiAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxuICAgICAgLnByaW1hcnlQYWxldHRlKCdwaW5rJyx7XG4gICAgXHQnZGVmYXVsdCc6ICc1MDAnLFxuICAgIFx0J2h1ZS0xJzogJzIwMCcsXG4gICAgXHQnaHVlLTInOiAnODAwJyxcbiAgICBcdCdodWUtMyc6ICdBMTAwJ1xuICAgICAgfSlcbiAgICAgIC5hY2NlbnRQYWxldHRlKCdibHVlJyx7XG4gICAgXHQvLyAnZGVmYXVsdCc6ICdBNDAwJyxcbiAgICBcdC8vIC8vIGJ5IGRlZmF1bHQgdXNlIHNoYWRlIDQwMCBmcm9tIHRoZSBwaW5rIHBhbGV0dGVcbiAgICBcdC8vIC8vIGZvciBwcmltYXJ5IGludGVudGlvbnNcbiAgICBcdC8vICdodWUtMSc6ICcxMDAnLFxuICAgIFx0Ly8gLy8gdXNlIHNoYWRlIDEwMCBmb3IgdGhlIDxjb2RlPm1kLWh1ZS0xPC9jb2RlPiBjbGFzc1xuICAgIFx0Ly8gJ2h1ZS0yJzogJzYwMCcsXG4gICAgXHQvLyAvLyB1c2Ugc2hhZGUgNjAwIGZvciB0aGUgPGNvZGU+bWQtaHVlLTI8L2NvZGU+IGNsYXNzXG4gICAgXHQvLyAnaHVlLTMnOiAnQTEwMCdcbiAgICBcdC8vIHVzZSBzaGFkZSBBMTAwIGZvciB0aGUgPGNvZGU+bWQtaHVlLTM8L2NvZGU+IGNsYXNzXHRcbiAgICAgIH0pXG4gICAgICAud2FyblBhbGV0dGUoJ3JlZCcpO1xuXG4gICAgLy8gJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAvLyAgIC5kYXJrKCk7XG5cbiAgICAvLyRtZEljb25Qcm92aWRlclxuICAgIC8vIDEyMDAgdmlld2JveCBzaXplOiBmcm9tIGljb25tb25zdHJcbiAgICAvLy5kZWZhdWx0SWNvblNldCgnLi9pY29ucy5zdmcnLCA1MTIpO1xuICAgIC8vLmljb25TZXQoJ3NvY2lhbCcsICcuL2ljb25zL3NvY2lhbC1pY29ucy5zdmcnKTtcbiAgICAvLyBSZWdpc3RlciBhIGRlZmF1bHQgc2V0IG9mIFNWRyBpY29uc1xuICAgIFxuICAgICRsb2NhdGlvblByb3ZpZGVyXG4gICAgICAuaHRtbDVNb2RlKGZhbHNlKVxuICAgICAgLmhhc2hQcmVmaXgoJyEnKTtcbiAgICBcbiAgICB2YXIgYmFzZVJvdXRlID0gJycsXG5cdGJhc2VQYXRoID0gJy93ZWxjb21lJztcblxuICAgIC8vIHNldHVwIGFuIGFic3RyYWN0IHN0YXRlIGZvciB0aGUgdGFicyBkaXJlY3RpdmVcbiAgICAvLyBodHRwOi8vYW5ndWxhci11aS5naXRodWIuaW8vdWktcm91dGVyL3NpdGUvXG4gICAgJHN0YXRlUHJvdmlkZXIgICAgIFxuICAgIFxuICAgICAgLnN0YXRlKFwiYnl0XCIsIHtcbiAgICAgIFx0dXJsOiBiYXNlUm91dGUsXG4gICAgICBcdCdhYnN0cmFjdCc6IHRydWVcbiAgICAgIH0pXG5cbiAgICAgLy8gaW5jbHVkZXMgY2l0eSBzZWxlY3RvciBhbmQgb3RoZXIgd2VsY29tZSBmZWF0dXJlc1xuICAgICAgLnN0YXRlKFwiYnl0LndlbGNvbWVcIiwge1xuXHR1cmw6IGJhc2VQYXRoLFxuICAgICAgICB0ZW1wbGF0ZVVybDogJ3dlbGNvbWUvd2xjLnRwbC5odG1sJyxcblx0Y29udHJvbGxlcjogJ1dsY0NvbnRyb2xsZXInXG4gICAgICB9KVxuXG4gICAgICAuc3RhdGUoXCJieXQuYWdnbG9MaXN0XCIsIHtcblx0dXJsOiBcIi9jaXRpZXNcIixcblx0dGVtcGxhdGVVcmw6ICdhZ2dsby1saXN0L2FnZ2xvLWxpc3QudHBsLmh0bWwnLFxuXHRjb250cm9sbGVyOiAnQWdnbG9MaXN0Q29udHJvbGxlcidcbiAgICAgIH0pXG5cbiAgICAvLyBpbmZvIGFib3V0IGFnZ2xvICsgbGluayB0byBzcGVjc1xuICAgICAgLnN0YXRlKFwiYnl0LmFnZ2xvSXRlbVwiLCB7XG5cdHVybDogXCIvY2l0aWVzLzphZ2dsb19pbnRlcl9jb2RlXCIsXG5cdC8vIHRoaXMgdmlldyAtIGlzIGEgdGVtcGxhdGUgZm9yIGNoaWxkIHZpZXdzXG5cdCdhYnN0cmFjdCc6IHRydWUsXG5cdHRlbXBsYXRlVXJsOiAnYWdnbG8taXRlbS9hZ2dsby1pdGVtLnRwbC5odG1sJyxcblx0Y29udHJvbGxlcjogJ0FnZ2xvSXRlbUNvbnRyb2xsZXInLFxuXHRyZXNvbHZlOiB7XG5cdCAgcV9hZ2dsb19pbnRlcl9jb2RlOiBbXG5cdCAgICAnJHN0YXRlUGFyYW1zJyxcblx0ICAgIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcyl7XG5cdCAgICAgIC8vIHRoaXMgcmVzb2x2ZSBleGVjdXRlcyBiZWZvcmUgcGFyZW50IGNvbnRyb2xsZXJzXG5cdCAgICAgIGNvbnNvbGUubG9nKCdzb21lIHJlc29sdmUnKTtcblx0ICAgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5hZ2dsb19pbnRlcl9jb2RlO1xuXHQgICAgfVxuXHQgIF1cblx0fVxuICAgICAgfSkgICBcblxuICAgICAgLnN0YXRlKFwiYnl0LmFib3V0XCIsIHtcblx0dXJsOiBcIi9hYm91dFwiLFxuXHR0ZW1wbGF0ZVVybDogJ2Fib3V0L2Fib3V0LnRwbC5odG1sJyxcblx0Y29udHJvbGxlcjogJ0Fib3V0Q29udHJvbGxlcidcdFxuICAgICAgfSk7XG5cbiAgICBcbiAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKGJhc2VSb3V0ZSArIGJhc2VQYXRoKTtcbiAgICBcbiAgICAvLyBtYXN0ZXI6IC9tYXN0ZXJzLzEyMzQgKGRvIG5vdCBkZXBlbmRzIG9mIGNpdHkgYW5kIHNwZWMpXG4gICAgLy8gbWFwOiAvY2l0aWVzL2tyZC9zcGVjcy9oYWlyL3NhbG9uc1xuICAgIC8vIHNhbG9uOiAvc2Fsb25zLzIzNDIzXG4gICAgLy8gc2VydmljZXM6IC9jaXRpZXMva3JkL3NwZWNzL25haWwvc2VydmljZXMvMTIzNFxuICAgIC8vIHNlcnZpY2VzIHBhZ2luZzogLy4uLi9zZXJ2aWNlcz9vZmZzZXQ9MjMmbGltaXQ9NDBcbiAgICAgLy8gbG9naW46IC9sb2dpblxuICAgIC8vIGFib3V0OiAvYWJvdXRcbiAgICAvLyB2aWV3ZXI6IC91c2Vycy9tZSAgICBcblxuICAgIC8vIGFsbCB2YWx1ZXMgaW4gc3RvcmFnZSB3aWxsIGJlIHBwYS5zb21ldmFsdWVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ3Jldm9yeS9hbmd1bGFyLWxvY2FsLXN0b3JhZ2VcbiAgICBsb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXJcbiAgICAgIC5zZXRQcmVmaXgoJ3BwYScpXG4gICAgICAuc2V0U3RvcmFnZVR5cGUoJ2xvY2FsU3RvcmFnZScpO1xuXG4gICAgLy8gRGlzYWJsZTogcHV0IHNlc3Npb24gaWQgdG8gcmVxdWVzdHMgaW4gQVBJIGhlbHBlclxuICAgIC8vICAgICAgICAgIG9ubHkgZm9yIEFQSSByZXF1ZXN0cyAobm90IGZvciBvdGhlcnMsIHN1Y2ggQ1NTLCBKUyBmaWxlcylcbiAgICAvLyBqd3RJbnRlcmNlcHRvclByb3ZpZGVyLnRva2VuR2V0dGVyID0gW1xuICAgIC8vICAgZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgIHJldHVybiBzaWQ7XG4gICAgLy8gICB9XG4gICAgLy8gXTtcblxuICAgIC8vICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ2p3dEludGVyY2VwdG9yJyk7XG4gIH07XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmFwcENvbmZpZycsIFtcbiAgICAndWkucm91dGVyJyxcbiAgICAnbmdNYXRlcmlhbCcsXG4gICAgJ0xvY2FsU3RvcmFnZU1vZHVsZScsIC8vIGJvd2VyIGFuZ3VsYXItbG9jYWwtc3RvcmFnZVxuICAgICdteUFwcC50ZW1wbGF0ZUZhY3RvcnknLCAvLyBhdXRvLWdlbmVyYXRlZCB0byB0ZW1wbGF0ZS1jYWNoZSB1c2luZyB0Y2FjaGUgdGFzayBpbiBndWxwXG4gICAgLy8nYW5ndWxhci1qd3QnLFxuICAgIC8vIGltcGxlbWVudGVkIGluIGluZGV4Lmh0bWwgYXMgbWFpbiBjb250cm9sbGVyIG9mIHRoZSBhcHBcbiAgICAnbXlBcHAuVG9vbGJhckNvbnRyb2xsZXInLFxuICAgICdteUFwcC5XbGNDb250cm9sbGVyJyxcbiAgICAnbXlBcHAuQWdnbG9JdGVtQ29udHJvbGxlcicsXG4gICAgJ215QXBwLkFnZ2xvTGlzdENvbnRyb2xsZXInLFxuICAgICdteUFwcC5BYm91dENvbnRyb2xsZXInLFxuICAgICdhbmd1cGhhbnRvbSdcbiAgXSlcblxuICAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLFxuXHQgICAnJHVybFJvdXRlclByb3ZpZGVyJyxcblx0ICAgJyRodHRwUHJvdmlkZXInLFxuXHQgICAnJGxvY2F0aW9uUHJvdmlkZXInLFxuXHQgICAnJG1kVGhlbWluZ1Byb3ZpZGVyJyxcblx0ICAgJyRtZEljb25Qcm92aWRlcicsXG5cdCAgICdsb2NhbFN0b3JhZ2VTZXJ2aWNlUHJvdmlkZXInLFxuXHQgICAvLydqd3RJbnRlcmNlcHRvclByb3ZpZGVyJyxcdCAgIFxuXHQgICB4cG9cblx0ICBdKTtcblxufSh3aW5kb3cuYW5ndWxhcikpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBydW5YcG8gPSBmdW5jdGlvbigpIHtcblxuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgbW9kdWxlXG4gICAqIEBuYW1lIG15QXBwXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKlxuICAgKiBEZWNsYXJlIGFwcCBsZXZlbCBtb2R1bGUgd2hpY2ggZGVwZW5kcyBvbiB2aWV3c1xuICAgKlxuICAgKiAjVXNhZ2VcbiAgICpcbiAgICogVG8gc2VlIHNvbWUgc2Vlc1xuICAgKi9cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW1xuICAgICdteUFwcC5hcHBDb25maWcnXG4gIF0pXG5cbiAgICAucnVuKFtydW5YcG9dKTtcblxuICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIwNjkyMjAzL2NvcmRvdmEtZGV2aWNlcmVhZHktZXZlbnQtbm90LWZpcmluZy1mcm9tLXdpdGhpbi1hbmd1bGFyLXJ1bi1ibG9ja1xuICB2YXIgbG9hZFRoZUFwcCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgYW5ndWxhci5ib290c3RyYXAoZG9jdW1lbnQsIFsnbXlBcHAnXSk7XG4gICAgLy8gfSwgMTAwMCk7XG4gIH07XG5cbiAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICBpZiAod2luZG93LmNvcmRvdmEpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZXJlYWR5JywgbG9hZFRoZUFwcCwgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxvYWRUaGVBcHAoKTtcbiAgICB9XG4gIH0pO1xuXG59KSh3aW5kb3cuYW5ndWxhcik7XG5cbndpbmRvdy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFsZXJ0KFwi0J3QtdC/0YDQtdC00LLQuNC00LXQvdC90LDRjyDQvtGI0LjQsdC60LBcIik7XG59O1xuXG5cbi8vIFRyaWdnZXIgYSBjYWxsYmFjayBvbmNlIHRoZSBkZXZpY2UgaXMgcmVhZHksIG9yIGltbWVkaWF0ZWx5IGlmIHRoZSBkZXZpY2UgaXMgYWxyZWFkeSByZWFkeS5cbi8vIGh0dHA6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9hcGkvdXRpbGl0eS9pb25pYy5QbGF0Zm9ybS9cbi8vICdkZXZpY2VyZWFkeScgb3IgJ3dpbmRvdy5sb2FkJ1xuLy8gJGlvbmljUGxhdGZvcm0ucmVhZHkoZnVuY3Rpb24oKSB7XG4vLyAgIC8vIEhpZGUgdGhlIGFjY2Vzc29yeSBiYXIgYnkgZGVmYXVsdCAocmVtb3ZlIHRoaXMgdG8gc2hvdyB0aGUgYWNjZXNzb3J5IGJhciBhYm92ZSB0aGUga2V5Ym9hcmRcbi8vICAgLy8gZm9yIGZvcm0gaW5wdXRzKVxuLy8gICAkaW9uaWNQbGF0Zm9ybS5vbignb2ZmbGluZScsIGZ1bmN0aW9uKCkge1xuLy8gICAgIHdpbmRvdy5hbGVydCgnT2ZmbGluZSBtb2RlJyk7XG4vLyAgIH0pO1xuXG4vLyAgICRpb25pY1BsYXRmb3JtLm9uKCd2b2x1bWV1cGJ1dHRvbicsIGZ1bmN0aW9uKCkge1xuLy8gICAgIHdpbmRvdy5hbGVydCgndm9sdW1ldXBidXR0b24nKTtcbi8vICAgfSk7XG5cbi8vICAgaWYgKHdpbmRvdy5jb3Jkb3ZhKSB7XG4vLyAgICAgaWYgKHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQpIHtcbi8vICAgICAgIHdpbmRvdy5jb3Jkb3ZhLnBsdWdpbnMuS2V5Ym9hcmQuaGlkZUtleWJvYXJkQWNjZXNzb3J5QmFyKHRydWUpO1xuLy8gICAgICAgd2luZG93LmNvcmRvdmEucGx1Z2lucy5LZXlib2FyZC5kaXNhYmxlU2Nyb2xsKHRydWUpO1xuLy8gICAgIH1cblxuLy8gICAgIGlmIChuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnNwbGFzaHNjcmVlbikge1xuLy8gICAgICAgbmF2aWdhdG9yLnNwbGFzaHNjcmVlbi5oaWRlKCk7XG4vLyAgICAgfVxuLy8gICB9XG5cbi8vICAgaWYgKHdpbmRvdy5TdGF0dXNCYXIpIHtcbi8vICAgICAvLyBvcmcuYXBhY2hlLmNvcmRvdmEuc3RhdHVzYmFyIHJlcXVpcmVkXG4vLyAgICAgd2luZG93LlN0YXR1c0Jhci5zdHlsZURlZmF1bHQoKTtcbi8vICAgfVxuXG4vLyAgIC8vIGlmICh3aW5kb3cubmF2aWdhdG9yKSB7XG4vLyAgIC8vICAgaWYgKG5hdmlnYXRvci5nZW9sb2NhdGlvbikge1xuLy8gICAvLyAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbihcbi8vICAgLy8gICAgICAgZnVuY3Rpb24ocG9zKSB7XG4vLyAgIC8vICAgICAgICAgd2luZG93LmFsZXJ0KCdQb3NpdGlvbiAnICsgYW5ndWxhci50b0pzb24ocG9zKSk7XG4vLyAgIC8vICAgICAgIH0sXG4vLyAgIC8vICAgICAgIGZ1bmN0aW9uKGVycikge1xuLy8gICAvLyAgICAgICAgIHdpbmRvdy5hbGVydCgnUG9zRXJyJyArIGFuZ3VsYXIudG9Kc29uKGVycikpO1xuLy8gICAvLyAgICAgICAgICRsb2cubG9nKCdwb3NlcnInLCBlcnIpO1xuLy8gICAvLyAgICAgICB9XG4vLyAgIC8vICAgICApO1xuLy8gICAvLyAgIH1cbi8vICAgLy8gICBlbHNlIHtcbi8vICAgLy8gICAgIGFsZXJ0KCdubyBuYXYuZ2VvbG9jYXRpb24nKTtcbi8vICAgLy8gICB9XG5cbi8vICAgLy8gICAvLyRsb2cubG9nKCdjb25uIHR5cGUgJyArIG5hdmlnYXRvci5jb25uZWN0aW9uLnR5cGUpO1xuLy8gICAvLyB9XG4vLyAgIC8vIGVsc2Uge1xuLy8gICAvLyAgIHdpbmRvdy5hbGVydCgnbm8gbmF2IHByb3BlcnR5Jyk7XG4vLyAgIC8vICAgJGxvZy5sb2coJ25vIG5hdmlnYXRvciBpbiBwdWJsaWMnKTtcbi8vICAgLy8gfVxuXG4vLyAgIC8vIG90aGVyIG1ldGhvZDogc3RhdGVDaGFuZ2VFcnJvclxuLy8gICAvLyRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKGV2ZW50LCBuZXh0KXtcbi8vICAgLy8gLy8gZnJvbSB1aS5yb3V0ZXIgc3RhdGUuZGF0YVxuLy8gICAvL25leHQuZGF0YS5zb21lVmFsO1xuLy8gICAvL30pO1xuLy8gfSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgY2JrQ29uZmlnID0gZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIpe1xuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgLy8gYWZ0ZXIgYWdnbG8gc2VsZWN0aW9uOiBpbmZvIGFib3V0IGFnZ2xvICsgc3BlY3NcbiAgICAgIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0xpc3RcIiwge1xuICAgICAgXHR1cmw6IFwiL3NwZWNzXCIsXG4gICAgICBcdHZpZXdzOiB7XG5cdCAgLy8gYWdnbG9JdGVtLnh4eCAtPiBhZ2dsb0l0ZW1Db250ZW50XG4gICAgICBcdCAgJ2FnZ2xvSXRlbUNvbnRlbnQnOiB7XG4gICAgICBcdCAgICB0ZW1wbGF0ZVVybDogJ2FnZ2xvLWl0ZW0vc3BlYy1saXN0L3NwZWMtbGlzdC50cGwuaHRtbCcsXG5cdCAgICBjb250cm9sbGVyOiAnU3BlY0xpc3RDb250cm9sbGVyJ1xuICAgICAgXHQgIH1cbiAgICAgIFx0fVxuICAgICAgfSlcblxuICAgICAgLnN0YXRlKFwiYnl0LmFnZ2xvSXRlbS5zcGVjSXRlbVwiLCB7XG5cdHVybDogXCIvc3BlY3MvOnNwZWNfaWRcIixcblx0J2Fic3RyYWN0JzogdHJ1ZSxcblx0dmlld3M6IHtcbiAgICBcdCAgJ2FnZ2xvSXRlbUNvbnRlbnQnOiB7XG4gICAgXHQgICAgdGVtcGxhdGVVcmw6ICdhZ2dsby1pdGVtL3NwZWMtaXRlbS9zcGVjLWl0ZW0udHBsLmh0bWwnLFxuXHQgICAgY29udHJvbGxlcjogJ1NwZWNJdGVtQ29udHJvbGxlcidcbiAgICBcdCAgfVxuXHR9LFxuXHRyZXNvbHZlOiB7XG5cdCAgcV9zcGVjX2lkOiBbXG5cdCAgICAnJHEnLFxuXHQgICAgJyRzdGF0ZVBhcmFtcycsXHQgICAgXG5cdCAgICAncnVicmljUmVwbycsXG5cdCAgICBmdW5jdGlvbigkcSwgJHN0YXRlUGFyYW1zLCBydWJyaWNSZXBvKXtcblx0ICAgICAgdmFyIHRtcFNwZWNJZCA9ICRzdGF0ZVBhcmFtcy5zcGVjX2lkO1xuXHQgICAgICB2YXIgZGZyID0gJHEuZGVmZXIoKTtcblx0ICAgICAgLy8gdGhpcyByZXNvbHZlIGV4ZWN1dGVzIGJlZm9yZSBwYXJlbnQgY29udHJvbGxlcnNcblx0ICAgICAgLy9cdCAgICAgIGNvbnNvbGUubG9nKCdzb21lIHJlc29sdmUnKTtcblx0ICAgICAgaWYgKHJ1YnJpY1JlcG9cblx0XHQgIC5nZXRJZHMoKVxuXHRcdCAgLmluZGV4T2YodG1wU3BlY0lkKSA+PSAwKXtcblx0XHRcblx0XHRkZnIucmVzb2x2ZSh0bXBTcGVjSWQpO1xuXHQgICAgICB9XG5cdCAgICAgIGVsc2Uge1xuXHRcdGRmci5yZWplY3QoXCJwYXJhbSBcIiArXG5cdFx0XHQgICB0bXBTcGVjSWQgK1xuXHRcdFx0ICAgXCIgaXMgbm90IHN1cHBvcnRlZFwiKTtcblx0XHRcdFx0XG5cdCAgICAgIH1cblx0ICAgICAgXG5cdCAgICAgIHJldHVybiBkZnIucHJvbWlzZTtcblx0ICAgIH1cblx0ICBdXG5cdH1cbiAgICAgIH0pXG5cbiAgICAgIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0uc2Fsb25MaXN0XCIsIHtcbiAgICAgIFx0dXJsOiBcIi9zYWxvbnNcIixcbiAgICAgIFx0dmlld3M6IHtcbiAgICAgIFx0ICAnc3BlY0l0ZW1Db250ZW50Jzoge1xuICAgICAgXHQgICAgdGVtcGxhdGVVcmw6ICdhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L3NhbG9uLWxpc3QudHBsLmh0bWwnLFxuICAgICAgXHQgICAgY29udHJvbGxlcjogJ1NhbG9uTGlzdENvbnRyb2xsZXInXG4gICAgICBcdCAgfVxuICAgICAgXHR9XG4gICAgICB9KSAgICAgIFxuICAgIFxuICAgICAgLy8gLnN0YXRlKFwiYnl0LmFnZ2xvSXRlbS5zcGVjSXRlbS5ydWJyaWNMaXN0XCIsIHtcbiAgICAgIC8vIFx0dXJsOiBcIi9ydWJyaWNzXCIsXG4gICAgICAvLyBcdHZpZXdzOiB7XG4gICAgICAvLyBcdCAgJ3NwZWNJdGVtQ29udGVudCc6IHtcbiAgICAgIC8vIFx0ICAgIHRlbXBsYXRlVXJsOiAnYWdnbG8taXRlbS9zcGVjLWl0ZW0vcnVicmljLWxpc3QvcnVicmljLWxpc3QudHBsLmh0bWwnLFxuICAgICAgLy8gXHQgICAgY29udHJvbGxlcjogJ1J1YnJpY0xpc3RDb250cm9sbGVyJ1xuICAgICAgLy8gXHQgIH1cbiAgICAgIC8vIFx0fVxuICAgICAgLy8gfSlcblxuICAgIC8vIHJ1YnJpY0l0ZW1TZXJ2aWNlczogY29udGFpbnMgbGlua3MgdG8gb3RoZXIgcnVicmljSXRlbXNcbiAgICAgIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0ucnVicmljSXRlbVwiLCB7XG5cdHVybDogXCIvcnVicmljcy86cnVicmljX2lkXCIsIC8vIC9zZXJ2aWNlc1xuXHR2aWV3czoge1xuICAgIFx0ICAnc3BlY0l0ZW1Db250ZW50Jzoge1xuICAgIFx0ICAgIHRlbXBsYXRlVXJsOiAnYWdnbG8taXRlbS9zcGVjLWl0ZW0vcnVicmljLWl0ZW0vcnVicmljLWl0ZW0udHBsLmh0bWwnLFxuXHQgICAgY29udHJvbGxlcjogJ1J1YnJpY0l0ZW1Db250cm9sbGVyJ1xuICAgIFx0ICB9XG5cdH0sXG5cdHJlc29sdmU6IHtcblx0ICBxX3J1YnJpY19pZDogWyckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMpe1xuXHQgICAgLy8gYWxsIC0gdG8gc2hvdyBhbGwgcnVicmljc1xuXHQgICAgcmV0dXJuICRzdGF0ZVBhcmFtcy5ydWJyaWNfaWQ7XG5cdCAgfV1cblx0fVxuICAgICAgfSk7XG5cbiAgICAgIC8vIC5zdGF0ZShcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0ucnVicmljSXRlbS5zZXJ2TGlzdFwiLCB7XG4gICAgICAvLyBcdHVybDogXCIvc2VydmljZXNcIixcbiAgICAgIC8vIFx0dmlld3M6IHtcbiAgICAgIC8vIFx0ICAncnVicmljSXRlbUNvbnRlbnQnOiB7XG4gICAgICAvLyBcdCAgICB0ZW1wbGF0ZVVybDogJ2FnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL3NlcnYtbGlzdC50cGwuaHRtbCcsXG4gICAgICAvLyBcdCAgICBjb250cm9sbGVyOiAnU2Vydkxpc3RDb250cm9sbGVyJ1xuICAgICAgLy8gXHQgIH1cbiAgICAgIC8vIFx0fVxuICAgICAgLy8gfSk7XG4gICAgXG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuYWdnbG9JdGVtQ29uZmlnJywgW1xuICAgICdteUFwcC5TcGVjTGlzdENvbnRyb2xsZXInLFxuICAgICdteUFwcC5TcGVjSXRlbUNvbnRyb2xsZXInLFxuICAgIC8vIGlkZWFsbHk6IHRoaXMgY29udHJvbGxlcnMgYW5kIHN0YXRlcyBuZWVkIHRvIG1vdmVcbiAgICAvLyAgICAgICAgICB0byBjaGlsZCBmb2xkZXJzIFxuICAgICdteUFwcC5TYWxvbkxpc3RDb250cm9sbGVyJyxcbiAgICAnbXlBcHAuUnVicmljSXRlbUNvbnRyb2xsZXInXG4gICAgLy8nbXlBcHAuU2Vydkxpc3RDb250cm9sbGVyJ1xuICBdKVxuXG4gIC5jb25maWcoW1xuICAgICckc3RhdGVQcm92aWRlcicsXG4gICAgY2JrQ29uZmlnXG4gIF0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIi8vICMhL2NpdGllcy9zcGIvc3BlY3MvaGFpclxuLy8gICBzaG93IGxpbmtzIHRvIHNlcnZpY2VzQnlNYXN0ZXIgYW5kIHNlcnZpY2VzQnlTYWxvblxuLy8gICB1c3VhbGx5IHRoaXMgcGFnZSBza2lwcGVkIChzZWxlY3QgJ2hhaXInICsgJ2J5JyB0b2dldGhlcilcbi8vICMhL2NpdGllcy9zcGIvc3BlY3MvaGFpci9zZXJ2aWNlc1xuLy8gICAgP2J5PW1hc3RlciZydWJyaWNzPWhhaXJFeHQsaGFpckN1dFxuLy8gIyEvY2l0aWVzL3NwYi9zcGVjcy9oYWlyL3NlcnZpY2VzXG4vLyAgICA/Ynk9c2Fsb25cbi8vIGlmICghYnkpIHJlZGlyZWN0IHRvICMhL2NpdGllcy9zcGIvc3BlY3MgKHRvIHNlbGVjdCBhZ2Fpbilcbi8vIGlmIChydWJyaWNzLmxlbmd0aCA9PT0gMCkgc2hvdyBub3RoaW5nXG4vLyAgICB1c3VhbGx5IG9ubHkgb25lIHJ1YnJpYyAtIHNlbGVjdGVkXG4vLyAgICBpZiBmZXcgcnVicmljcyBhcmUgc2VsZWN0ZWQgLSByZS1sb2FkIGEgc3RhdGUgZXZlcnkgdGltZVxuKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICR0aW1lb3V0LFxuXHRcdCAgICAgJHN0YXRlLFxuXHRcdCAgICAgYWdnbG9SZXBvLFxuXHRcdCAgICAgcnVicmljUmVwbyxcblx0XHQgICAgIHNlcnZSZXBvLFxuXHRcdCAgICAgbWFzdGVyUmVwbyxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIHFfYWdnbG9faW50ZXJfY29kZSl7XG4gICAgXG4gICAgLyoqXG4gICAgICogU2VsZWN0ZWQgYWdnbG9tZXJhdGlvbjpcbiAgICAgKiAgIGNhbGN1bGF0ZWQgZnJvbSB1cmwgc3RhdGVcbiAgICAgKiAgIG9ubHkgd29ya3MgaW4gdGhpcyB2aWV3XG4gICAgICogICByZXRyaWV2ZSBhZ2dsb21lcmF0aW9ucyBpZiBub3QgZXhpc3RzICh1cGRhdGUgYSBwYWdlKVxuICAgICAqICAgb3Igc2hvdyB0aGlzIHZpZXcgaWYgYWxsIGFnZ2xvcyBhcmUgcmV0cmlldmVkXG4gICAgICovXG4gICAgJHNjb3BlLmN1cl9hZ2dsbyA9IG51bGw7XG4gICAgXG4gICAgdmFyIGNia1JldHJpZXZlQWdnbG9MaXN0ID0gZnVuY3Rpb24oKXtcblxuICAgICAgdmFyIHRtcEFnZ2xvID0gYWdnbG9SZXBvXG5cdCAgICAuY2FsY0J5SW50ZXJDb2RlKHFfYWdnbG9faW50ZXJfY29kZSk7XG5cbiAgICAgIC8vIFJlZGlyZWN0IHRvIGxpc3Q6IGlmIG5vIHN1Y2ggY2l0eVxuICAgICAgLy8gSW4gYSBsaXN0IHZpZXc6IHRyeSBhdXRvLXJlY29nbml0aW9uXG4gICAgICBpZiAoIXRtcEFnZ2xvKXtcblx0JHN0YXRlLmdvKFwiYnl0LndlbGNvbWVcIik7XG4gICAgICB9IGVsc2V7XG5cdCRzY29wZS5jdXJfYWdnbG8gPSB0bXBBZ2dsbztcblx0Ly8gcmVkaXJlY3QgdG8gc3BlY0xpc3Q6IGRvd25sb2FkIHJ1YnJpY3NcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIC8vIExvYWQgYWdnbG9zLCB0aGVuIGxvYWQgZ2VvIGxvY2F0aW9uXG4gICAgLy8gVE9ETzogZG93bmxvYWQgb25seSBzZWxlY3RlZCBjaXR5IHdpdGggYWRkdCBpbmZvXG4gICAgLy8gICAgICAgdXNpbmcgcV9hZ2dsb19pZFxuICAgIGFnZ2xvUmVwby5yZXRyaWV2ZURhdGEoKVxuICAgICAgLnRoZW4oY2JrUmV0cmlldmVBZ2dsb0xpc3QpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24odG1wRXJyb3IpIHtcblx0Y29uc29sZS5sb2coJ2FnZ2xvUmV0cmlldmVFcnJvcicpO1xuXHRjb25zb2xlLmxvZyh0bXBFcnJvcik7XG5cdG5vdGlmRmFjdG9yeS5lcnJvcign0KLQtdGF0L3QuNGH0LXRgdC60LjQtSDQvdC10L/QvtC70LDQtNC60Lg6INC90LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC00LrQu9GO0YfQuNGC0YzRgdGPINC6INGB0LXRgNCy0LXRgNGDLicpO1xuXHQkc2NvcGUuaHRtbFJlYWR5KCk7XG4gICAgICB9KTtcblxuICAgIC8vIHNob3cgaXQgd2l0aCA1MDBtcyBkZWxheVxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7ICAgICAgXG4gICAgICAkc2NvcGUuaXNfcHJnID0gdHJ1ZTtcbiAgICB9LCA1MDApO1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLkFnZ2xvSXRlbUNvbnRyb2xsZXInLCBbXG4gICAgJ215QXBwLmFnZ2xvSXRlbUNvbmZpZycsXG4gICAgJ215QXBwLmFnZ2xvUmVwbycsXG4gICAgJ215QXBwLnJ1YnJpY1JlcG8nLFxuICAgICdteUFwcC5zZXJ2UmVwbycsXG4gICAgJ215QXBwLm1hc3RlclJlcG8nLFxuICAgICdteUFwcC5ub3RpZkZhY3RvcnknXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignQWdnbG9JdGVtQ29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyR0aW1lb3V0JyxcbiAgICAgICckc3RhdGUnLFxuICAgICAgJ2FnZ2xvUmVwbycsXG4gICAgICAncnVicmljUmVwbycsXG4gICAgICAnc2VydlJlcG8nLFxuICAgICAgJ21hc3RlclJlcG8nLFxuICAgICAgJ25vdGlmRmFjdG9yeScsXG4gICAgICAncV9hZ2dsb19pbnRlcl9jb2RlJyxcbiAgICAgIHhwb10pO1xuXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQSBsaXN0IHdpdGggY2l0aWVzIChtYW51YWwgc2VsZWN0aW9uKVxuICAgKi9cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICRzdGF0ZSxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIGFnZ2xvUmVwbyxcblx0XHQgICAgIHNpdGVSZXBvKXtcbiAgICBzaXRlUmVwby5zZXRUaXRsZSgn0JLRi9Cx0L7RgCDQs9C+0YDQvtC00LAnKTtcbiAgICBzaXRlUmVwby5zZXRQcmV2SHJlZigkc3RhdGUuaHJlZignYnl0LndlbGNvbWUnKSk7XG4gICAgXG4gICAgLy8gdHJhbnNsYXRlIGFnZ2xvX3JlcG8gdG8gJHNjb3BlXG4gICAgJHNjb3BlLmFnZ2xvX2RhdGEgPSBhZ2dsb1JlcG8uZ2V0RGF0YSgpO1xuICAgIFxuICAgIC8vIExvYWQgYWxsIGNpdGllcyAoaWYgbm90IHlldCBsb2FkZWQpXG4gICAgYWdnbG9SZXBvLnJldHJpZXZlRGF0YSgpICAgICAgXG4gICAgICAvLyAudGhlbihjaGVja0xvY2F0aW9uUGVybWlzc2lvbilcbiAgICAgIC5jYXRjaChmdW5jdGlvbih0bXBFcnJvcikge1xuICAgICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9Ci0LXRhdC90LjRh9C10YHQutC40LUg0L3QtdC/0L7Qu9Cw0LTQutC4OiDQvdC1INGD0LTQsNC70L7RgdGMINC/0L7QtNC60LvRjtGH0LjRgtGM0YHRjyDQuiDRgdC10YDQstC10YDRgy4nKTtcbiAgICAgIFx0Y29uc29sZS5sb2coJ2FnZ2xvUmV0cmlldmVFcnJvcicsIHRtcEVycm9yKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShmdW5jdGlvbigpeyAgICBcblx0JHNjb3BlLmh0bWxSZWFkeSgpO1xuICAgICAgfSk7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuQWdnbG9MaXN0Q29udHJvbGxlcicsIFtcbiAgICAnbXlBcHAubm90aWZGYWN0b3J5JyxcbiAgICAnbXlBcHAuYWdnbG9SZXBvJyxcbiAgICAnbXlBcHAuc2l0ZVJlcG8nXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignQWdnbG9MaXN0Q29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRzdGF0ZScsXG4gICAgICAnbm90aWZGYWN0b3J5JyxcbiAgICAgICdhZ2dsb1JlcG8nLFxuICAgICAgJ3NpdGVSZXBvJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcblxuLyogQWx0ZXJuYXRpdmU6IG1vZGFsXG4gKiBPcGVuIGEgbW9kYWwgd2luZG93IHdpdGggYWdnbG8gc2VsZWN0aW9uXG4gKiAgIGl0IG1pZ2h0IGJlIHNpbXBsZSBsaXN0IG9yIGEgbWFwICh2TmV4dClcbiAqICAgb3BlbiwgZXZlbiBhZ2dsb3MgYXJlIG5vdCBsb2FkZWQgeWV0XG4gKiAgIHdpbGwgYmUgYXR0YWNoZWQgbGF0ZXIgdG8gb3BlbmVkIHdpbmRvd1xuICogQ2xvc2UgbW9kYWwgd2luZG93IHdpdGggYWdnbG8gc2VsZWN0b3JcbiAqL1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBzaXRlUmVwbyl7XG4gICAgc2l0ZVJlcG8uc2V0VGl0bGUoJ9CeINC/0YDQvtC10LrRgtC1Jyk7XG4gICAgc2l0ZVJlcG8uc2V0UHJldkhyZWYoJHN0YXRlLmhyZWYoJ2J5dC53ZWxjb21lJykpO1xuICAgIFxuICAgICRzY29wZS5odG1sUmVhZHkoKTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5BYm91dENvbnRyb2xsZXInLCBbXG4gICAgJ215QXBwLnNpdGVSZXBvJ1xuICBdKVxuXG4gICAgLmNvbnRyb2xsZXIoJ0Fib3V0Q29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRzdGF0ZScsXG4gICAgICAnc2l0ZVJlcG8nLFxuICAgICAgeHBvXG4gICAgXSk7XG4gIFxuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkc2NvcGUsICRtZERpYWxvZywgbXNnX2JvZHkpe1xuXG4gICAgJHNjb3BlLm1zZ19ib2R5ID0gbXNnX2JvZHk7XG5cbiAgICAkc2NvcGUuaGlkZURpYWxvZyA9IGZ1bmN0aW9uKCl7XG4gICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICAgIH07XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuQWxydENvbnRyb2xsZXInLCBbXG4gICAgJ25nTWF0ZXJpYWwnXG4gIF0pXG4gICAgLmNvbnRyb2xsZXIoJ0FscnRDb250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICdtc2dfYm9keScsXG4gICAgICB4cG9cbiAgICBdKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHNjb3BlLFxuXHRcdCAgICAgJGxvY2F0aW9uLFxuXHRcdCAgICAgJGFuY2hvclNjcm9sbCxcblx0XHQgICAgIHNpdGVSZXBvLFxuXHRcdCAgICAgc2Nyb2xsUmVwbyl7XG4gICAgLyoqXG4gICAgICogU2l0ZSB0aXRsZSBhbmQgb3RoZXIgcHJvcHNcbiAgICAgKi9cbiAgICAkc2NvcGUuc2l0ZV9kYXRhID0gc2l0ZVJlcG8uZ2V0RGF0YSgpO1xuXG4gICAgJHNjb3BlLnNjcm9sbFRvVG9wID0gZnVuY3Rpb24oKXtcbiAgICAgICRsb2NhdGlvbi5oYXNoKCd0b3BfYmxvY2snKTtcbiAgICAgIC8vJGFuY2hvclNjcm9sbC55T2Zmc2V0ID0gMTIzOyAvLyBvbmx5IGZvciByb290XG4gICAgICAkYW5jaG9yU2Nyb2xsKCk7XG4gICAgfTtcblxuICAgICRzY29wZS5zY3JvbGxfZGF0YSA9IHNjcm9sbFJlcG8uZ2V0RGF0YSgpO1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoXCJteUFwcC5Ub29sYmFyQ29udHJvbGxlclwiLCBbXG4gICAgJ215QXBwLnNpdGVSZXBvJyxcbiAgICAnbXlBcHAuc2Nyb2xsUmVwbydcbiAgXSlcblxuICAgIC5jb250cm9sbGVyKCdUb29sYmFyQ29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRsb2NhdGlvbicsXG4gICAgICAnJGFuY2hvclNjcm9sbCcsXG4gICAgICAnc2l0ZVJlcG8nLFxuICAgICAgJ3Njcm9sbFJlcG8nLFxuICAgICAgeHBvXG4gICAgXSk7XG5cbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbihcbiAgICAkc2NvcGUsXG4gICAgJHN0YXRlLFxuICAgICRsb2csXG4gICAgJGh0dHAsXG4gICAgJHRpbWVvdXQsXG4gICAgLy8gICAgYWNjRmFjdG9yeSxcbiAgICBub3RpZkZhY3RvcnksXG4gICAgLy8gICAgZmlyZUZhY3RvcnksXG4gICAgYWdnbG9SZXBvLFxuICAgIGhwckZhY3RvcnksXG4gICAgbG9jUmVwbyxcbiAgICBwZXJtUmVwbyxcbiAgICBzaXRlUmVwb1xuICApe1xuICAgIHNpdGVSZXBvLnNldFRpdGxlKFwi0JzQuNGB0JrRgNCwXCIpO1xuICAgIHNpdGVSZXBvLnNldFByZXZIcmVmKCcnKTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBzb2NpYWwgbmV0d29yazogdmsgb3IgZmJcbiAgICAgKi9cbiAgICAkc2NvcGUuaXNfc29jbmV0ID0gd2luZG93LklTX1NPQ05FVDsgICAgXG5cbiAgICB2YXIgY2JrRXJyRGVmaW5lU29jQ2l0eSA9IGZ1bmN0aW9uKCl7XG4gICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L7Qv9GA0LXQtNC10LvQuNGC0Ywg0LPQvtGA0L7QtC4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0LLRi9Cx0YDQsNGC0Ywg0LLRgNGD0YfQvdGD0Y4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBidXR0b24gdG8gZGVmaW5lIGEgY2l0eSBmcm9tIGEgc29jaWFsIHByb2ZpbGVcbiAgICAgKi9cbiAgICAkc2NvcGUuZGVmaW5lU29jQ2l0eSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpZiAod2luZG93LmdldFNvY0NpdHkpIHtcblx0d2luZG93LmdldFNvY0NpdHkoZnVuY3Rpb24oY2l0eU5hbWUpe1xuXHQgIGlmICghY2l0eU5hbWUpe1xuXHQgICAgY2JrRXJyRGVmaW5lU29jQ2l0eSgpO1xuXHQgICBcblx0ICB9IGVsc2Uge1xuXHQgICAgLy9hbGVydCgnY2l0eTogJyArY2l0eU5hbWUpO1xuXHQgICAgLy8kc2NvcGUub25DaGFuZ2VNYW5BZ2dsb0lkKGNpdHlOYW1lKTtcblxuXHQgICAgdmFyIHRtcEFnZ2xvID0gaHByRmFjdG9yeVxuXHRcdCAgLmZpbmRFbGVtQnlQcm9wKGFnZ2xvUmVwby5nZXREYXRhKCkuYXJyX2dlb19hZ2dsbyxcblx0XHRcdFx0ICBcImxvY2FsX25hbWVcIixcblx0XHRcdFx0ICBjaXR5TmFtZSk7XG5cblx0ICAgIGlmICghdG1wQWdnbG8pe1xuXHQgICAgICBub3RpZkZhY3RvcnkuZXJyb3IoJ9CS0LDRiNC1INC80LXRgdGC0L7Qv9C+0LvQvtC20LXQvdC40LUgJytcblx0XHRcdFx0IGNpdHlOYW1lK1xuXHRcdFx0XHQgJyDQvdC1INC/0L7QtNC00LXRgNC20LjQstCw0LXRgtGB0Y8g0L/RgNC40LvQvtC20LXQvdC40LXQvCcpO1xuXHQgICAgICByZXR1cm47XG5cdCAgICB9XG5cblx0ICAgIHJlZGlyZWN0VG9BZ2dsb1NwZWNzKHRtcEFnZ2xvKTtcdCAgICBcblx0ICB9XG5cdH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG5cdGNia0VyckRlZmluZVNvY0NpdHkoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gbG9jYXRpb24gcmVwbyB3aXRoIGN1cnJlbnQgY29vcmRzIGFuZCBkZWZhdWx0IHpvb21cbiAgICAkc2NvcGUubG9jX2RhdGEgPSBsb2NSZXBvLmdldERhdGEoKTtcblxuICAgIC8qKlxuICAgICAqIFBlcm1pc3Npb24gZGF0YTogc3RvcmVzIGlzX3Blcm1fY2hlY2tlZCBzd2l0Y2hlclxuICAgICAqL1xuICAgICRzY29wZS5wZXJtX2RhdGEgPSBwZXJtUmVwby5nZXREYXRhKCk7XG5cbiAgICB2YXIgcmVkaXJlY3RUb0FnZ2xvU3BlY3MgPSBmdW5jdGlvbih0bXBBZ2dsbyl7XG4gICAgICAkc3RhdGUuZ28oJ2J5dC5hZ2dsb0l0ZW0uc3BlY0xpc3QnLCB7XG5cdCdhZ2dsb19pbnRlcl9jb2RlJzogdG1wQWdnbG8uaW50ZXJfY29kZVxuICAgICAgfSk7XG4gICAgICAvLyBhIG5ldyBwYWdlIGhhcyB0aGVpciBvd24gaHRtbFJlYWR5IG1ldGhvZHNcbiAgICAgIC8vIGZvciBwaGFudG9tIC0gbm8gcmVkaXJlY3QgKG5vIHNlc3Npb24gc3RvcmFnZSlcbiAgICB9O1xuICAgIFxuICAgIC8vIExvYWRlZCBhZnRlciBhbGwgYWdnbG9zIGlzIHJlY2VpdmVkXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGFnZ2xvIGZyb20gYXV0by1jb29yZHNcbiAgICAgKiAgIGFuZCByZWRpcmVjdCB0byB0aGlzIGFnZ2xvXG4gICAgICogICBvciBzaG93IGVycm9yLCBpZiBhbiBhZ2dsbyBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICovXG4gICAgdmFyIGF1dG9DYWxjQWdnbG8gPSBmdW5jdGlvbigpIHtcblxuICAgICAgLy8gR2V0IGN1cnJlbnQgYXV0by1jb29yZHNcbiAgICAgIC8vICAgIEF1dG8tY29vcmRzIGNhbiBiZSBjaGFuZ2VkIGluZGVwZW5kZW50bHkgb2YgdGhlIG1ldGhvZFxuICAgICAgLy8gICAgTGlrZSBhIG1vdmluZyBjYXIgKHdhdGNoIGNvb3JkcylcbiAgICAgIC8vICAgIGJ1dCB1cGRhdGUgYW4gYWdnbG8gb25seSBieSBjbGljayAgICBcbiAgICAgIHZhciB0bXBDb29yZHMgPSBsb2NSZXBvLmdldERhdGEoKS5jb29yZHM7XG4gICAgICAvLyBmaW5kIGEgYWdnbG8gbmFtZSBieSBjb29yZHNcbiAgICAgIGFnZ2xvUmVwby5jYWxjQWdnbG9CeUNvb3Jkcyh0bXBDb29yZHMubGF0LFxuXHRcdFx0XHQgIHRtcENvb3Jkcy5sbmcpXG5cdC50aGVuKGZ1bmN0aW9uKHRtcEFnZ2xvKXtcblx0ICBpZiAodG1wQWdnbG8pe1x0ICAgIFxuXHQgICAgLy8gc2F2ZSBvbmx5IGZvciBzdXBwb3J0ZWQgYWdnbG9tZXJhdGlvbnNcblx0ICAgIHBlcm1SZXBvLnNhdmVMb2NhdGlvblBlcm1pc3Npb24oKTtcblx0ICAgIHJlZGlyZWN0VG9BZ2dsb1NwZWNzKHRtcEFnZ2xvKTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICBub3RpZkZhY3RvcnkuZXJyb3IoXCLQnNC10YHRgtC+0L/QvtC70L7QttC10L3QuNC1INC90LUg0L/QvtC00LTQtdGA0LbQuNCy0LDQtdGC0YHRjyDRgdC10YDQstC40YHQvtC8LiDQn9C+0L/RgNC+0LHRg9C50YLQtSDQstGL0LHRgNCw0YLRjCDQstGA0YPRh9C90YPRji5cIik7XG5cdCAgICAkc2NvcGUuaHRtbFJlYWR5KCk7XG5cdCAgfVxuXHR9KTtcbiAgIFxuICAgIH07XG5cbiAgICAvLyBieSBjbGljayBvbiBhIGJ1dHRvbjogYXV0by1kZWZpbmVcbiAgICAkc2NvcGUuZGVmaW5lTG9jYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIGxvY1JlcG8ucmV0cmlldmVGcm9tRGV2aWNlKClcblx0LnRoZW4oYXV0b0NhbGNBZ2dsbylcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKHJlYXNvbikge1xuXHQgIC8vINC90LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC70YPRh9C40YLRjCDQvNC10YHRgtC+0L/QvtC70L7QttC10L3QuNC1XG4gICAgICAgICAgbm90aWZGYWN0b3J5LmVycm9yKHJlYXNvbik7XG5cdCAgJHNjb3BlLmh0bWxSZWFkeSgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIC8vIFJ1biBhbGwgZnVuY3Rpb25zIGhlcmVcbiAgICAvLyBJdCBpcyBhIGdsb2JhbCBjb250cm9sbGVyIC0gbm8gcmUtcmVuZGVyXG5cbiAgICAkc2NvcGUuY2xlYW5Mb2NhdGlvblBlcm1pc3Npb24gPSBmdW5jdGlvbigpe1xuICAgICAgcGVybVJlcG8uY2xlYW5Mb2NhdGlvblBlcm1pc3Npb24oKTtcbiAgICB9O1xuICAgIFxuICAgIHZhciBjaGVja0xvY2F0aW9uUGVybWlzc2lvbiA9IGZ1bmN0aW9uKCkgeyAgICAgXG4gICAgICAvLyBXaGVuIGFsbCBhZ2dsb3MgdXBsb2FkZWQgLSBmaW5kIGEgcG9zaXRpb25cbiAgICAgIC8vIG9ubHkgaWYgc2F2ZWQgaW4gYSBsb2NhbCBzZXR0aW5nc1xuICAgICAgcGVybVJlcG8uY2hlY2tMb2NhdGlvblBlcm1pc3Npb24oKVxuXHQudGhlbihmdW5jdGlvbihpc19wZXJtX2FsbG93ZWQpe1x0ICBcblx0ICBpZiAoaXNfcGVybV9hbGxvd2VkKXtcblx0ICAgIC8vIFRPRE86IGF1dG8gZGVmaW5lOiBmaXg6IHJlZGlyZWN0IHRvIGJ5dC53ZWxjb21lXG5cdCAgICAvLyRzY29wZS5kZWZpbmVMb2NhdGlvbigpO1xuXHQgICAgJHNjb3BlLmh0bWxSZWFkeSgpO1xuXHQgIH1cblx0ICBlbHNlIHtcblx0ICAgIC8vIGVsc2U6IG5vdGhpbmdcblx0ICAgICRzY29wZS5odG1sUmVhZHkoKTtcblx0ICB9XG5cdH0pO1xuICAgIH07XG5cbiAgICAvLyBMb2FkIGFnZ2xvcywgdGhlbiBsb2FkIGdlbyBsb2NhdGlvblxuICAgIGFnZ2xvUmVwby5yZXRyaWV2ZURhdGEoKVxuICAgICAgLnRoZW4oY2hlY2tMb2NhdGlvblBlcm1pc3Npb24pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24odG1wRXJyb3IpIHtcbiAgICAgICAgbm90aWZGYWN0b3J5LmVycm9yKCfQotC10YXQvdC40YfQtdGB0LrQuNC1INC90LXQv9C+0LvQsNC00LrQuDog0L3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LTQutC70Y7Rh9C40YLRjNGB0Y8g0Log0YHQtdGA0LLQtdGA0YMuJyk7XG5cdGNvbnNvbGUubG9nKCdhZ2dsb1JldHJpZXZlRXJyb3InLCB0bXBFcnJvcik7XG5cdCRzY29wZS5odG1sUmVhZHkoKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gc2hvdyBpdCB3aXRoIDUwMG1zIGRlbGF5XG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXsgICAgICBcbiAgICAgICRzY29wZS5pc19wcmcgPSB0cnVlO1xuICAgIH0sIDUwMCk7XG4gIH07XG4gIFxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuV2xjQ29udHJvbGxlcicsIFtcbiAgICAndWkucm91dGVyJyxcbiAgICAvLydteUFwcC5hY2NGYWN0b3J5JyxcbiAgICAnbXlBcHAubm90aWZGYWN0b3J5JyxcbiAgICAvLydteUFwcC5maXJlRmFjdG9yeScsXG4gICAgJ215QXBwLmFnZ2xvUmVwbycsXG4gICAgJ215QXBwLmhwckZhY3RvcnknLFxuICAgICdteUFwcC5sb2NSZXBvJyxcbiAgICAnbXlBcHAucGVybVJlcG8nLFxuICAgICdteUFwcC5zaXRlUmVwbydcbiAgXSlcblxuICAgIC5jb250cm9sbGVyKCdXbGNDb250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJHN0YXRlJyxcbiAgICAgICckbG9nJyxcbiAgICAgICckaHR0cCcsXG4gICAgICAnJHRpbWVvdXQnLFxuICAgICAgLy8nYWNjRmFjdG9yeScsXG4gICAgICAnbm90aWZGYWN0b3J5JyxcbiAgICAgIC8vJ2ZpcmVGYWN0b3J5JyxcbiAgICAgICdhZ2dsb1JlcG8nLFxuICAgICAgJ2hwckZhY3RvcnknLFxuICAgICAgJ2xvY1JlcG8nLFxuICAgICAgJ3Blcm1SZXBvJyxcbiAgICAgICdzaXRlUmVwbycsXG4gICAgICB4cG9dKTtcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIi8qKlxuICogUmVkaXJlY3QgdG8gc3BlY0l0ZW0gZmlyZWQgYnkgY2xpY2tpbmcgc2Vydi1ncm91cCBidXR0b25zOlxuICogICAgc2Vydi1ncm91cHMudHBsLmh0bWxcbiAqL1xuKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSxcblx0XHQgICAgICR0aW1lb3V0LFxuXHRcdCAgICAgJHN0YXRlLFxuXHRcdCAgICAgcnVicmljUmVwbyxcblx0XHQgICAgIG5vdGlmRmFjdG9yeSxcblx0XHQgICAgIGFnZ2xvUmVwbyxcblx0XHQgICAgIHNpdGVSZXBvLFxuXHRcdCAgICAgcV9hZ2dsb19pbnRlcl9jb2RlKXtcblxuICAgIHNpdGVSZXBvLnNldFRpdGxlKCRzY29wZS5jdXJfYWdnbG8ubG9jYWxfbmFtZSk7XG4gICAgc2l0ZVJlcG8uc2V0UHJldkhyZWYoJHN0YXRlLmhyZWYoJ2J5dC53ZWxjb21lJykpO1xuICAgIFxuICAgIC8vIGNvbnNvbGUubG9nKCdpbnRlcmNvZGUnLCBxX2FnZ2xvX2ludGVyX2NvZGUpO1xuICAgIFxuICAgIC8vY29uc29sZS5sb2coJ2N1cmFnZ2xvJywgJHNjb3BlLmN1cl9hZ2dsbyk7XG5cbiAgICAkc2NvcGUucnVicmljX2RhdGEgPSBydWJyaWNSZXBvLmdldERhdGEoKTtcblxuICAgIC8vIHVuc2VsZWN0IGEgZ3JvdXAsIHVzaW5nIHRoaXMgbWV0aG9kXG4gICAgLy8gZG8gbm90IHVzZSBkaXJlY3QgbnVsbGluZyAtIGl0IGRvZXNuJ3QgY2xlYW4gdGhpcyBpZFxuICAgIC8vIHVuc2VsZWN0IGFsbCBzZXJ2X3J1YnJpY3M6IGZyb20gc2VsZWN0ZWQgcGFycnVicmljXG4gICAgXG5cbiAgICAvLyBhZ2dsb1JlcG8gaXMgYWxyZWFkeSBsb2FkZWQgZm9yIHRoaXMgdmlld1xuICAgIC8vICAgaW4gYSBwYXJlbnQgYWdnbG9JdGVtQ29udHJvbGxlclxuICAgIHZhciB0bXBBZ2dsbyA9IGFnZ2xvUmVwb1xuXHQgIC5jYWxjQnlJbnRlckNvZGUocV9hZ2dsb19pbnRlcl9jb2RlKTtcbiAgICBcbiAgICAvLyBMb2FkIHJ1YnJpY3MgYWZ0ZXIgYWdnbG8gaXMgc2VsZWN0ZWQ6XG4gICAgLy8gICBtYW51YWxseSBvciBhdXRvbWF0aWNhbGx5ICAgIFxuICAgIC8vIGN1cl9hZ2dsbyBmcm9tIGFnZ2xvSXRlbUNvbnRyb2xsZXJcbiAgICAvLyBSZW1vdmUgaW5oZXJpdCBwYXJhbWV0ZXJzOlxuICAgIC8vIGluamVjdCBvciBkZWZpbmUgZnJvbSB1cmwgYWdhaW5cbiAgICAvLyBMb2FkIHJ1YnJpY3Mgb25seSBhZnRlciBjaXR5IHNlbGVjdGVkXG4gICAgLy8gc3RlcCBieSBzdGVwXG4gICAgcnVicmljUmVwby5yZXRyaWV2ZURhdGEodG1wQWdnbG8uaWQsIFwicnVcIilcbiAgICAgIC5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICAgIG5vdGlmRmFjdG9yeS5lcnJvcign0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0LrQsNGC0LXQs9C+0YDQuNC5Jyk7XG4gICAgXHRjb25zb2xlLmxvZyhlKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShmdW5jdGlvbigpe1xuXHQkc2NvcGUuaHRtbFJlYWR5KCk7XG4gICAgICB9KTtcblxuICAgIC8vIHNob3cgaXQgd2l0aCA1MDBtcyBkZWxheVxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7ICAgICAgXG4gICAgICAkc2NvcGUuaXNfcHJnID0gdHJ1ZTtcbiAgICB9LCA1MDApO1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLlNwZWNMaXN0Q29udHJvbGxlcicsIFsgICAgXG4gICAgJ215QXBwLnJ1YnJpY1JlcG8nLFxuICAgICdteUFwcC5ub3RpZkZhY3RvcnknLFxuICAgICdteUFwcC5hZ2dsb1JlcG8nLFxuICAgICdteUFwcC5zaXRlUmVwbydcbiAgXSlcblxuICAgIC5jb250cm9sbGVyKCdTcGVjTGlzdENvbnRyb2xsZXInLCBbXG4gICAgICAnJHNjb3BlJyxcbiAgICAgICckdGltZW91dCcsXG4gICAgICAnJHN0YXRlJyxcbiAgICAgICdydWJyaWNSZXBvJyxcbiAgICAgICdub3RpZkZhY3RvcnknLFxuICAgICAgJ2FnZ2xvUmVwbycsXG4gICAgICAnc2l0ZVJlcG8nLFxuICAgICAgJ3FfYWdnbG9faW50ZXJfY29kZScsXG4gICAgICB4cG9dKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG4gIFxuICAvLyBjaXRpZXMvc3BiL3NwZWNzLzpzcGVjX2lkXG4gIC8vIGl0IGlzIGludGVybWVkaWF0ZSBsYXllcjogcmVkaXJlY3QgdG8gL3NlcnZpY2VzP2J5PXh4eFxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHNjb3BlLFxuXHRcdCAgICAgJHN0YXRlLFxuXHRcdCAgICAgJHRpbWVvdXQsXG5cdFx0ICAgICBub3RpZkZhY3RvcnksXG5cdFx0ICAgICBydWJyaWNSZXBvLFxuXHRcdCAgICAgcV9zcGVjX2lkKXtcblxuICAgIC8vIGFscmVhZHkgY2hlY2tlZCBwb3NzaWJsZSB2YWx1ZXMgaW4gYSByZXNvbHZlIGZ1bmN0aW9uXG5cbiAgICAvLyBzZWxlY3QgYmV0d2VlblxuICAgIC8vID9ieT1tYXN0ZXJcbiAgICAvLyA/Ynk9c2Fsb25cblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgc2VydiBncm91cCAoc3BlYylcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgICRzY29wZS5jdXJfc3BlYyA9IG51bGw7XG5cbiAgICAvLyBhdHRhY2ggYWZ0ZXIgcmV0cmlldmluZyBhbGwgc3BlY3NcbiAgICB2YXIgYXR0YWNoU3BlY0l0ZW0gPSBmdW5jdGlvbigpe1xuICAgICAgLy8gYXR0YWNoIGEgY2xlYW4gb2JqZWN0ICh3aXRob3V0IHNlbGVjdGVkIHJ1YnJpY3MpXG4gICAgICAvLyBhdHRhY2ggc2VsZWN0ZWQgc2Vydl9ncm91cCAoYWZ0ZXIgbG9hZGluZyBhbGwgZ3JvdXBzKVxuICAgICAgJHNjb3BlLmN1cl9zcGVjID0gcnVicmljUmVwb1xuXHQuY2FsY1NlcnZHcm91cEJ5SWQocV9zcGVjX2lkKTtcblxuICAgICAgLy8gaHRtbCBoZXJlIGlzIG5vdCByZWFkeTogaWYgYW4gYWRkcmVzcyB1cmwgY29udGFpbnNcbiAgICAgIC8vICAgdGhpcyB0d28gbGlua3NcbiAgICAgIC8vIGlmIG5vIGxpbmtzIGluIGFuIGFkZHJlc3MgdXJsXG4gICAgICAvLyAgIHNob3cgdHdvIGxpbmtzOlxuICAgICAgLy8gL3NlcnZpY2VzP2J5PW1hc3RlclxuICAgICAgLy8gL3NhbG9uc1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHJ1YnJpY3MgZm9yIHJ1YnJpY0l0ZW0gdmlldyxcbiAgICAgKiAgICBoaWRlIC0gZm9yIGEgbWFwIHZpZXdcbiAgICAgKi9cbiAgICAkc2NvcGUuaXNfc2hvd19ydWJyaWNzID0gJHN0YXRlLiRjdXJyZW50Lm5hbWUgPT09ICdieXQuYWdnbG9JdGVtLnNwZWNJdGVtLnJ1YnJpY0l0ZW0nO1xuICAgIC8vICAgIGNvbnNvbGUubG9nKCk7XG5cbiAgICAkc2NvcGUub25UYWJTZWxlY3RlZCA9IGZ1bmN0aW9uKHNlcnZfcnVicmljX2lkKXtcbiAgICAgIC8vIGNvbnNvbGUubG9nKGluZCk7XG4gICAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUuc2xjX3J1YnJpY19pbmRleCk7XG4gICAgICAkc3RhdGUuZ28oXCJieXQuYWdnbG9JdGVtLnNwZWNJdGVtLnJ1YnJpY0l0ZW1cIiwge1xuXHRhZ2dsb19pbnRlcl9jb2RlOiAkc2NvcGUuY3VyX2FnZ2xvLmludGVyX2NvZGUsXG5cdHNwZWNfaWQ6ICRzY29wZS5jdXJfc3BlYy5pZCxcblx0cnVicmljX2lkOiBzZXJ2X3J1YnJpY19pZCAvLyAncnVicmljX2lkJyBvciAnYWxsJ1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICAvLyB2YXJpYW50OiBsb2FkIG9ubHkgb25lIHJ1YnJpYyAod2l0aCBzdGF0aXN0aWMpIGJ5IHFfc3BlY19pZFxuICAgIHJ1YnJpY1JlcG8ucmV0cmlldmVEYXRhKCRzY29wZS5jdXJfYWdnbG8uaWQsIFwicnVcIilcbiAgICAgIC50aGVuKGF0dGFjaFNwZWNJdGVtKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgbm90aWZGYWN0b3J5LmVycm9yKCfQntGI0LjQsdC60LAg0LfQsNCz0YDRg9C30LrQuCDQutCw0YLQtdCz0L7RgNC40LknKTtcblx0Y29uc29sZS5sb2coZSk7XG5cdCRzY29wZS5odG1sUmVhZHkoKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gdW5zZWxlY3QgYSBncm91cCAtIHJlZGlyZWN0IGJhY2sgZnJvbSAvOnNwZWNfaWRcbiAgICAvLyBzaG93IGl0IHdpdGggNTAwbXMgZGVsYXlcbiAgICAkdGltZW91dChmdW5jdGlvbigpeyAgICAgIFxuICAgICAgJHNjb3BlLmlzX3ByZyA9IHRydWU7XG4gICAgfSwgNTAwKTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5TcGVjSXRlbUNvbnRyb2xsZXInLCBbXG4gICAgJ215QXBwLm5vdGlmRmFjdG9yeScsXG4gICAgJ215QXBwLnJ1YnJpY1JlcG8nXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignU3BlY0l0ZW1Db250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJHN0YXRlJyxcbiAgICAgICckdGltZW91dCcsXG4gICAgICAnbm90aWZGYWN0b3J5JyxcbiAgICAgICdydWJyaWNSZXBvJyxcbiAgICAgICdxX3NwZWNfaWQnLFxuICAgICAgeHBvXG4gICAgXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIEFQUENPTkYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkaHR0cCwgJHEpIHtcblxuICAgIHZhciBnaXNfcGFyYW1zID0ge1xuICAgICAga2V5OiBBUFBDT05GLkFQSUNPTV9LRVksXG4gICAgICB2ZXJzaW9uOiBBUFBDT05GLkFQSUNPTV9WRVJTSU9OXG4gICAgICAvLyBpZFxuICAgICAgLy8gaGFzaFxuICAgIH07XG5cbiAgICB2YXIgY2JrUmVxID0gZnVuY3Rpb24ocikge1xuXG4gICAgICBpZiAoci5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KCfQntGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAnKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFyLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgn0J7RiNC40LHQutCwINC30LDQv9GA0L7RgdCwJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vdmFyIGRmciA9ICRxLmRlZmVyKCk7XG4gICAgICAvL2h0dHA6Ly9hcGkuMmdpcy5ydS9kb2MvZmlybXMvcmVzcG9uc2UtY29kZXMjcmVzcG9uc2VzXG4gICAgICBpZiAoci5kYXRhLnJlc3BvbnNlX2NvZGUgPT09ICc0MDQnKSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoJ9Cd0LUg0L3QsNC50LTQtdC90L4g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L/QviDRgdCw0LvQvtC90YMnKTtcbiAgICAgICAgLy8gZGZyLnJlc29sdmUobnVsbCk7XG4gICAgICAgIC8vIHJldHVybjtcbiAgICAgICAgLy8gLy9yZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgaWYgKHIuZGF0YS5yZXNwb25zZV9jb2RlICE9PSAnMjAwJykge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KCfQntGI0LjQsdC60LAg0L/RgNC4INC/0L7Qu9GD0YfQtdC90LjQuCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDRgdCw0LvQvtC90LUnKTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgc3VjY2VzcyAtIHJlZ2lzdGVyIGEgdmlld1xuICAgICAgLy8gYXQgdGhpcyBtb21lbnQgb25seSBmb3IgYW4gaW5kZXguaHRtbCBwYWdlXG4gICAgICBpZiAod2luZG93LkRHKSB7XG5cdHdpbmRvdy5ERy5hcGl0cmFja2VyLnJlZ0JDKHIuZGF0YS5yZWdpc3Rlcl9iY191cmwpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gci5kYXRhO1xuICAgIH07XG5cbiAgICAvL2h0dHA6Ly9hcGkuMmdpcy5ydS9kb2MvZmlybXMvcHJvZmlsZXMvcHJvZmlsZS9cbiAgICB2YXIgbG9hZEZpcm0gPSBmdW5jdGlvbihpZCwgZmlsaWFsSGFzaCkge1xuICAgICAgZ2lzX3BhcmFtc1snaWQnXSA9IGlkO1xuICAgICAgZ2lzX3BhcmFtc1snaGFzaCddID0gZmlsaWFsSGFzaDtcbiAgICAgIFxuICAgICAgcmV0dXJuICRodHRwKHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgdXJsOiBBUFBDT05GLkFQSUNPTV9FTkRQT0lOVCArICcvcHJvZmlsZScsXG4gICAgICAgIHBhcmFtczogZ2lzX3BhcmFtc1xuICAgICAgfSkudGhlbihjYmtSZXEpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgbG9hZEZpcm06IGxvYWRGaXJtXG4gICAgfTtcblxuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5maXJtSXRlbUZhY3RvcnknLCBbXSlcblxuICAgIC5mYWN0b3J5KCdmaXJtSXRlbUZhY3RvcnknLCBbXG4gICAgICAnJGh0dHAnLFxuICAgICAgJyRxJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuXG59KHdpbmRvdy5hbmd1bGFyLCB3aW5kb3cuQVBQQ09ORikpO1xuIiwiLyoqXG4gKiBodHRwOi8vYXBpLjJnaXMucnUvZG9jL2Zpcm1zL3NlYXJjaGVzL3NlYXJjaFxuICogYm91bmRbcG9pbnQxXT0zNy40MzIsNTUuODM2JmJvdW5kW3BvaW50Ml09MzcuNjMzLDU1LjYzN1xuICog0LIg0YHQuNGB0YLQtdC80LUg0LrQvtC+0YDQtNC40L3QsNGCIFdHUzg0LlxuICogYm91bmQ6IHtwMTogMTIzLCBwMjogMjMzNH0gdHJhbnNsYXRlcyB0byAodXNpbmcgJGh0dHApXG4gKiBcIlVSTDpodHRwOi8veWEucnUvP2JvdW5kPXtcInBvaW50MVwiOlwiMTIzXCIsXCJwb2ludDJcIjpcIjIzNFwifSZzb21lPXZhbFwiXG4gKiBodHRwOi8vY2F0YWxvZy5hcGkuMmdpcy5ydS9zZWFyY2g/a2V5PXJ1Y2dzZzA2ODMmdmVyc2lvbj0xLjMmd2hhdD0lRDAlOUYlRDAlQjAlRDElODAlRDAlQjglRDAlQkElRDAlQkMlRDAlQjAlRDElODUlRDAlQjUlRDElODAmYm91bmQlNUJwb2ludDElNUQ9MzcuNDMyLDU1LjgzNiZib3VuZCU1QnBvaW50MiU1RD0zNy42MzMsNTUuNjM3XG4gKi9cblxuKGZ1bmN0aW9uKGFuZ3VsYXIsIEFQUENPTkYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkaHR0cCwgJHEpIHtcblxuICAgIHZhciBnaXNfcGFyYW1zID0ge1xuICAgICAga2V5OiBBUFBDT05GLkFQSUNPTV9LRVksXG4gICAgICB2ZXJzaW9uOiBBUFBDT05GLkFQSUNPTV9WRVJTSU9OLFxuICAgICAgc29ydDogJ2Rpc3RhbmNlJyxcbiAgICAgIHBhZ2U6IDEsXG4gICAgICAvLyDQmtC+0LvQuNGH0LXRgdGC0LLQviDRgNC10LfRg9C70YzRgtCw0YLQvtCyINC/0L7QuNGB0LrQsCwg0LLRi9Cy0L7QtNC40LzRi9GFINC90LAg0L7QtNC90L7QuSDRgdGC0YDQsNC90LjRhtC1XG4gICAgICAvLyDQl9C90LDRh9C10L3QuNC1INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOOiAyMC4g0J7Qs9GA0LDQvdC40YfQtdC90LjQtTog0L7RgiA1INC00L4gNTAuXG4gICAgICAvLyBodHRwOi8vYXBpLjJnaXMucnUvZG9jL2Zpcm1zL3NlYXJjaGVzL3NlYXJjaC9cbiAgICAgIC8vIFVzdWFsbHkgYSBwYWdlIGNvbnRhaW5zIG5lYXJlc3QgNTAncyBvYmplY3RzXG4gICAgICAvLyBEbyBub3QgbG9hZCBjb21wYW5pZXMsIGlmIHpvb20gPCAxNCAtIG5vdGhpbmcgdG8gc2hvd1xuICAgICAgcGFnZXNpemU6IDUwLFxuICAgICAgd2hhdDogJydcbiAgICB9O1xuICAgIFxuICAgIHZhciBjYmtSZXEgPSBmdW5jdGlvbihyKSB7XG4gICAgICBpZiAoci5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICByZXR1cm4gJHEucmVqZWN0KCfQntGI0LjQsdC60LAg0LfQsNC/0YDQvtGB0LAnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyLmRhdGEpIHtcbiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgn0J7RiNC40LHQutCwINC30LDQv9GA0L7RgdCwJyk7XG4gICAgICB9XG5cbiAgICAgIC8vaHR0cDovL2FwaS4yZ2lzLnJ1L2RvYy9maXJtcy9yZXNwb25zZS1jb2RlcyNyZXNwb25zZXNcbiAgICAgIGlmIChyLmRhdGEucmVzcG9uc2VfY29kZSA9PT0gJzQwNCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICBtYXJrZXJzOiBbXVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoci5kYXRhLnJlc3BvbnNlX2NvZGUgIT09ICcyMDAnKSB7XG4gICAgICAgIHJldHVybiAkcS5yZWplY3QoJ9Ce0YjQuNCx0LrQsCDQt9Cw0L/RgNC+0YHQsCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbDogcGFyc2VJbnQoci5kYXRhLnRvdGFsLCAxMCksXG4gICAgICAgIHJlc3VsdDogci5kYXRhLnJlc3VsdFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgLy8gcmFkaXVzIGJ5IGRlZmF1bHQgPSAyNTAgbWV0ZXJzLCBtYXg6IDQwa20sIG1pbjogMW1cbiAgICB2YXIgbG9hZEZpcm1zQnlQb2ludCA9IGZ1bmN0aW9uKHJ1YnJpY05hbWUsXG5cdFx0XHRcdCAgICBsb24xLFxuXHRcdFx0XHQgICAgbGF0MSxcblx0XHRcdFx0ICAgIHJhZGl1cykge1xuICAgICAgXG4gICAgICBnaXNfcGFyYW1zWyd3aGF0J10gPSBydWJyaWNOYW1lO1xuICAgICAgZ2lzX3BhcmFtc1sncG9pbnQnXSA9IGxvbjEudG9TdHJpbmcoKSArXG5cdCcsJyArIGxhdDEudG9TdHJpbmcoKTtcbiAgICAgIGdpc19wYXJhbXNbJ3JhZGl1cyddID0gcmFkaXVzO1xuXG4gICAgICByZXR1cm4gJGh0dHAoe1xuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICB1cmw6IEFQUENPTkYuQVBJQ09NX0VORFBPSU5UICsgJy9zZWFyY2gnLFxuICAgICAgICBwYXJhbXM6IGdpc19wYXJhbXNcbiAgICAgIH0pLnRoZW4oY2JrUmVxKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGxvYWRGaXJtc0J5Qm91bmQ6IGxvYWRGaXJtc0J5Qm91bmQsXG4gICAgICBsb2FkRmlybXNCeVBvaW50OiBsb2FkRmlybXNCeVBvaW50XG4gICAgfTtcbiAgfTtcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuZmlybUxpc3RGYWN0b3J5JywgW10pXG5cbiAgICAuZmFjdG9yeSgnZmlybUxpc3RGYWN0b3J5JywgWyckaHR0cCcsXG5cdFx0XHRcdCAnJHEnLFx0XHRcdFx0XG5cdFx0XHRcdCB4cG9dKTtcblxufSh3aW5kb3cuYW5ndWxhciwgd2luZG93LkFQUENPTkYpKTtcblxuLy8gLyoqXG4vLyAqIENvbnZlcnQgR0lTIGl0ZW0gdG8gR2VvSlNPTlxuLy8gKi9cbi8vIHZhciBpdGVtVG9NYXJrZXIgPSBmdW5jdGlvbihpdGVtKSB7XG4vLyAgIHJldHVybiB7XG4vLyAgICAgbGF0OiBwYXJzZUZsb2F0KGl0ZW0ubGF0KSxcbi8vICAgICBsbmc6IHBhcnNlRmxvYXQoaXRlbS5sb24pLFxuLy8gICAgIG1lc3NhZ2U6ICc8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZDogeWVsbG93XCI+JyArIGl0ZW0ubmFtZSArICc8L2Rpdj4nXG4vLyAgICAgLy8gbWVzc2FnZTogaXRlbS5uYW1lLFxuLy8gICAgIC8vIGNsaWNrOiBmdW5jdGlvbigpIHtcbi8vICAgICAvLyAgIGFsZXJ0KCdhc2RmJyk7XG4vLyAgICAgLy8gfVxuLy8gICB9O1xuLy8gfTtcblxuLy8gZS5nLjogYm91bmQgY29vcmRzOiAzNy40MzIsIDU1LjgzNiwgMzcuNjMzLCA1NS42Mzdcbi8vIHZhciBsb2FkRmlybXNCeUJvdW5kID0gZnVuY3Rpb24ocnVicmljTmFtZSwgbG9uMSwgbGF0MSwgbG9uMiwgbGF0Mikge1xuLy8gICBnaXNfcGFyYW1zWydib3VuZFtwb2ludDFdJ10gPSBsb24xLnRvU3RyaW5nKCkgKyAnLCcgKyBsYXQxLnRvU3RyaW5nKCk7XG4vLyAgIGdpc19wYXJhbXNbJ2JvdW5kW3BvaW50Ml0nXSA9IGxvbjIudG9TdHJpbmcoKSArICcsJyArIGxhdDIudG9TdHJpbmcoKTtcbi8vICAgZ2lzX3BhcmFtc1snd2hhdCddID0gcnVicmljTmFtZTtcblxuIiwiLyoqXG4gKiBCeSBkZWZhdWx0LCBnZXRDdXJyZW50UG9zaXRpb24oKSB0cmllcyB0byBhbnN3ZXIgYXMgZmFzdCBhcyBwb3NzaWJsZSBcbiAqIHdpdGggYSBsb3cgYWNjdXJhY3kgcmVzdWx0LiBJdCBpcyB1c2VmdWwgaWYgeW91IG5lZWQgYSBxdWljayBhbnN3ZXIgXG4gKiByZWdhcmRsZXNzIG9mIHRoZSBhY2N1cmFjeS4gRGV2aWNlcyB3aXRoIGEgR1BTLCBmb3IgZXhhbXBsZSwgXG4gKiBjYW4gdGFrZSBhIG1pbnV0ZSBvciBtb3JlIHRvIGdldCBhIEdQUyBmaXgsIFxuICogc28gbGVzcyBhY2N1cmF0ZSBkYXRhIChJUCBsb2NhdGlvbiBvciB3aWZpKSBcbiAqIG1heSBiZSByZXR1cm5lZCB0byBnZXRDdXJyZW50UG9zaXRpb24oKS5cbiAqL1xuXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRxLCAkbG9nKSB7IC8vLCAkaHR0cFxuXG4gICAgLy8gdmFyIHRyeVRvSXAgPSBmdW5jdGlvbihkZnIpIHtcblxuICAgIC8vICAgdmFyIGNia1N1Y2Nlc3MgPSBmdW5jdGlvbihpcENvb3JkcykgeyAvLyBzdGF0dXMsIGNvbmZpZ1xuICAgIC8vICAgICAvL2FsZXJ0KEpTT04uc3RyaW5naWZ5KGlwQ29vcmRzKSk7XG4gICAgLy8gICAgIGRmci5yZXNvbHZlKHtcbiAgICAvLyAgICAgICBsYXRpdHVkZTogaXBDb29yZHMubGF0aXR1ZGUsXG4gICAgLy8gICAgICAgbG9uZ2l0dWRlOiBpcENvb3Jkcy5sb25naXR1ZGUsXG4gICAgLy8gICAgICAgLy8gY2l0eTogaXBDb29yZHMuY2l0eSwgdXN1YWxseSBpdCBpcyB1bmRlZmluZWRcbiAgICAvLyAgICAgICBhY2N1cmFjeTogMTAwMDAwIC8vIDEwMGttXG4gICAgLy8gICAgIH0pO1xuICAgIC8vICAgfTtcblxuICAgIC8vICAgdmFyIGNia0Vycm9yID0gZnVuY3Rpb24oZXJyKSB7XG4gICAgLy8gICAgICRsb2cubG9nKGVycik7XG4gICAgLy8gICAgIGRmci5yZWplY3QoJ9Cd0LUg0YPQtNCw0LvQvtGB0Ywg0L/QvtC70YPRh9C40YLRjCDQvNC10YHRgtC+0L/QvtC70L7QttC10L3QuNC1Jyk7XG4gICAgLy8gICB9O1xuXG4gICAgLy8gICAkaHR0cC5nZXQoJy8vZnJlZWdlb2lwLm5ldC9qc29uLycpXG4gICAgLy8gICAgIC5zdWNjZXNzKGNia1N1Y2Nlc3MpXG4gICAgLy8gICAgIC5lcnJvcihjYmtFcnJvcik7XG4gICAgLy8gfTtcblxuICAgIHZhciBnZXRDdXJDb29yZHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkZnIgPSAkcS5kZWZlcigpO1xuICAgICAgLy8gYXQgdGhpcyBtb21lbnQgb25seSBpcFxuICAgICAgLy8gdHJ5VG9JcChkZnIpO1xuICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0dlb2xvY2F0aW9uL1VzaW5nX2dlb2xvY2F0aW9uXG4gICAgICBpZiAoXCJnZW9sb2NhdGlvblwiIGluIG5hdmlnYXRvcikge1xuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgZGZyLnJlc29sdmUocG9zaXRpb24uY29vcmRzKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgLy90cnlUb0lwKGRmcik7XG4gICAgICAgICAgJGxvZy5sb2coJ2dlb2xvYyBlcnJvcicsIGVycik7XG4gICAgICAgICAgZGZyLnJlamVjdCgn0J3QtSDRg9C00LDQu9C+0YHRjCDQv9C+0LvRg9GH0LjRgtGMINGC0LXQutGD0YnQtdC1INC80LXRgdGC0L7Qv9C+0LvQvtC20LXQvdC40LUnKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwIC8vIDJzZWMgLSB0b28gbWFueSBmb3IgbW9iaWxlIGRldmljZXMgaW4gc29tZSBjYXNlc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyB0cnlUb0lwKGRmcik7XG4gICAgICAgIC8vICRsb2cubG9nKCdnZW9sb2MgZXJyb3InLCAnZ2VvbG9jYXRpb24gaXMgbm90IGZvdW5kIGluIG5hdmlnYXRvcicpO1xuICAgICAgICBkZnIucmVqZWN0KCfQndC1INGD0LTQsNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0YLQtdC60YPRidC10LUg0LzQtdGB0YLQvtC/0L7Qu9C+0LbQtdC90LjQtScpO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiAvL2xmbC5HZW9JUC5jZW50ZXJNYXBPblBvc2l0aW9uKG1hcCwgMTUpO1xuICAgICAgcmV0dXJuIGRmci5wcm9taXNlO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ2V0Q3VyQ29vcmRzOiBnZXRDdXJDb29yZHNcbiAgICB9O1xuICB9O1xuXG5cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmdlb2xvY0ZhY3RvcnknLCBbXSlcblxuICAgIC5mYWN0b3J5KCdnZW9sb2NGYWN0b3J5JywgW1xuICAgICAgJyRxJyxcbiAgICAgICckbG9nJyxcbiAgICAgIC8vJyRodHRwJyxcbiAgICAgIHhwb10pO1xuXG59KHdpbmRvdy5hbmd1bGFyKSk7XG5cbi8vIHZhciBwID0ge1xuLy8gICBcImlwXCI6IFwiXCIsXG4vLyAgIFwiY291bnRyeV9jb2RlXCI6IFwiUlVcIixcbi8vICAgXCJjb3VudHJ5X25hbWVcIjogXCJSdXNzaWFcIixcbi8vICAgXCJyZWdpb25fY29kZVwiOiBcIlwiLFxuLy8gICBcInJlZ2lvbl9uYW1lXCI6IFwiXCIsXG4vLyAgIFwiY2l0eVwiOiBcIlwiLFxuLy8gICBcInppcF9jb2RlXCI6IFwiXCIsXG4vLyAgIFwidGltZV96b25lXCI6IFwiRXVyb3BlL01vc2Nvd1wiLFxuLy8gICBcImxhdGl0dWRlXCI6IDEyMyxcbi8vICAgXCJsb25naXR1ZGVcIjogMTIzLjIzNCxcbi8vICAgXCJtZXRyb19jb2RlXCI6IDBcbi8vIH07XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG4gIFxuICByZXR1cm4gYW5ndWxhci5tb2R1bGUoJ2FuZ3VwaGFudG9tJywgW10pXG4gICAgLnJ1bihbJyRyb290U2NvcGUnLCBmdW5jdGlvbigkcm9vdFNjb3BlKSB7XG5cbiAgICAgIHZhciBjYmtUaW1lT3V0ID0gZnVuY3Rpb24oKSB7XG5cdC8vIGZpcmUgYWZ0ZXIgRE9NIHJlbmRlcmluZ1xuXHRpZiAodHlwZW9mIHdpbmRvdy5jYWxsUGhhbnRvbSA9PT0gJ2Z1bmN0aW9uJykge1xuXHQgIHdpbmRvdy5jYWxsUGhhbnRvbSh7XG5cdCAgICBcImFwcFJlc3VsdFwiOiBcImNsaWVudEZpbmlzaGVkXCJcblx0ICB9KTtcblx0ICBjb25zb2xlLmxvZyhcImNhbGxQaGFudG9tRnJvbUNsaWVudFwiKTtcblx0fVxuXHRjb25zb2xlLmxvZygnaHRtbFJlYWR5Jyk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICB2YXIgY2JrRXZhbEFzeW5jID0gZnVuY3Rpb24oKSB7XG5cdC8vIGZpcmUgYWZ0ZXIgJGRpZ2VzdFxuXHR3aW5kb3cuc2V0VGltZW91dChjYmtUaW1lT3V0LCAwKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgICRyb290U2NvcGUuaHRtbFJlYWR5ID0gZnVuY3Rpb24oKSB7XG5cdCRyb290U2NvcGUuJGV2YWxBc3luYyhjYmtFdmFsQXN5bmMpO1xuICAgICAgfTtcbiAgICB9XSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuXG4vLyBpZiAod2luZG93LmNhbGxQaGFudG9tKXtcbi8vICAgd2luZG93LmNhbGxQaGFudG9tKHtcImFwcFJlc3VsdFwiOiBcInRtcEZpbmlzaGVkXCJ9KTtcbi8vIH1cbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmRyY3QnLCBbXG4gICAgJ215QXBwLnNjcm9sbFJlcG8nXG4gIF0pXG4gIFxuICAgIC5kaXJlY3RpdmUoJ29uRmluaXNoUmVuZGVyJywgW1xuICAgICAgJyR0aW1lb3V0JyxcbiAgICAgIGZ1bmN0aW9uICgkdGltZW91dCkge1xuXHRyZXR1cm4ge1xuXHQgIHJlc3RyaWN0OiAnQScsXG5cdCAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XG5cdCAgICBpZiAoc2NvcGUuJGxhc3QgPT09IHRydWUpIHtcblx0ICAgICAgY29uc29sZS5sb2coJ29uRmluaXNoUmVuZGVyOmxhc3QnLCBzY29wZS4kaW5kZXgpO1xuXHQgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0c2NvcGUuJGVtaXQoYXR0cltcIm9uRmluaXNoUmVuZGVyXCJdKTtcblx0ICAgICAgfSk7XG5cdCAgICB9XG5cdCAgfVxuXHR9O1xuICAgICAgfV0pXG5cbiAgICAuZGlyZWN0aXZlKFwic2Nyb2xsV2F0Y2hlclwiLCBbXG4gICAgICAnc2Nyb2xsUmVwbycsXG4gICAgICBmdW5jdGlvbiAoc2Nyb2xsUmVwbykge1xuXHRcblx0cmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtKSB7IC8vICwgYXR0cnNcblx0ICB2YXIgcmF3ID0gZWxlbVswXTtcblx0ICBcblx0ICBlbGVtLmJpbmQoJ3Njcm9sbCcsIGZ1bmN0aW9uKCl7XG5cdCAgICBzY3JvbGxSZXBvLnNldFBvcyhyYXcuc2Nyb2xsVG9wKTtcblx0ICAgIHNjb3BlLiRhcHBseSgpO1xuXHQgIC8vICBjb25zb2xlLmxvZyhyYXcuc2Nyb2xsVG9wKTtcblx0ICB9KTtcblx0ICAvLyBcdGFuZ3VsYXIuZWxlbWVudCgkd2luZG93KS5iaW5kKFwic2Nyb2xsXCIsXG5cdCAgLy8gZnVuY3Rpb24oKXtcblx0ICAvLyBcdCAgaWYgKHRoaXMucGFnZVlPZmZzZXQgPj0gMTAwKSB7XG5cdCAgLy8gXHQgICAgc2NvcGUuYm9vbENoYW5nZUNsYXNzID0gdHJ1ZTtcblx0ICAvLyBcdCAgICBjb25zb2xlLmxvZygnU2Nyb2xsZWQgYmVsb3cgaGVhZGVyLicpO1xuXHQgIC8vIFx0ICB9IGVsc2Uge1xuXHQgIC8vIFx0ICAgIHNjb3BlLmJvb2xDaGFuZ2VDbGFzcyA9IGZhbHNlO1xuXHQgIC8vIFx0ICAgIGNvbnNvbGUubG9nKCdIZWFkZXIgaXMgaW4gdmlldy4nKTtcblx0ICAvLyBcdCAgfVxuXHQgIC8vIFx0ICBzY29wZS4kYXBwbHkoKTtcblx0ICAvLyBcdH0pO1xuXHR9O1xuICAgICAgfV0pO1xuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIihmdW5jdGlvbihhbmd1bGFyLCBnZW9saWIpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBGcm9tIFdLVCBzdHJpbmcgdG8gYXJyIG9mIGNvb3Jkc1xuICAgKiAgICAgIHVzZSByaWdodCBvcmRlciBvZiBwb2x5Z29uXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB3a3RTdHJpbmcgLSBQT0xZR09OKCguLi4pKVxuICAgKiBAcmV0dXJucyB7QXJyYXl9XG4gICAqIFt7bGF0aXR1ZGU6IDUxLjUwLCBsb25naXR1ZGU6IDcuNDB9LFxuICAgKiB7bGF0aXR1ZGU6IDUxLjU1NSwgbG9uZ2l0dWRlOiA3LjQwfSxcbiAgICoge2xhdGl0dWRlOiA1MS41NTUsIGxvbmdpdHVkZTogNy42MjV9LFxuICAgKiB7bGF0aXR1ZGU6IDUxLjUxMjUsIGxvbmdpdHVkZTogNy42MjV9IF1cbiAgICovXG4gIHZhciBjb252ZXJ0V2t0VG9BcnIgPSBmdW5jdGlvbih3a3QpIHtcbiAgICAvLyBza2lwIFBPTFlHT04oKC4uKSlcbiAgICB3a3QgPSB3a3Quc3Vic3RyKDksIHdrdC5sZW5ndGggLSAxMSk7XG4gICAgdmFyIGFycldrdCA9IHdrdC5zcGxpdCgnLCcpO1xuICAgIHJldHVybiBhcnJXa3QubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhdGl0dWRlOiBwYXJzZUZsb2F0KGl0ZW0uc3BsaXQoJyAnKVsxXSksXG4gICAgICAgIGxvbmdpdHVkZTogcGFyc2VGbG9hdChpdGVtLnNwbGl0KCcgJylbMF0pXG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciB4cG8gPSBmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGNvb3JkcyBpbiBzb21lIHBvbHlnb24gKGluIFdLVCBmb3JtYXQgc3RyaW5nKVxuICAgICAqIEBwYXJhbSB7U3Rpcm5nfSB3a3QgLSBzdHJpbmdcbiAgICAgKiAgICAgICAgUE9MWUdPTigoNzYuNzI1OTk1NTUyNDU2NTY3IDQzLjQ2OTEwNjI3Mjg0Mzg0NSw3Ny4xMDg0MDAzMTAzOTcyNDRcbiAgICAgKiAgICAgICAgNDMuNDYyNjkyNDI5NTQ5NzA1LDc3LjA5NjE4MjMxODA5NjAyNyA0My4xMDgwNTEyMjk4MTY2OTUsXG4gICAgICogICAgICAgIDc2LjcxNTk5MDYwNzk0NTg1NSA0My4xMTQzODY1Mzk5ODUxMjYsXG4gICAgICogICAgICAgIDc2LjcyNTk5NTU1MjQ1NjU2NyA0My40NjkxMDYyNzI4NDM4NDUpKVxuICAgICAqL1xuICAgIHZhciBpc1BvaW50SW5zaWRlV2t0ID0gZnVuY3Rpb24od2t0LCBsYXRpdHVkZSwgbG9uZ2l0dWRlKSB7XG4gICAgICByZXR1cm4gZ2VvbGliLmlzUG9pbnRJbnNpZGUoe1xuICAgICAgICBsYXRpdHVkZTogbGF0aXR1ZGUsXG4gICAgICAgIGxvbmdpdHVkZTogbG9uZ2l0dWRlXG4gICAgICB9LCBjb252ZXJ0V2t0VG9BcnIod2t0KSk7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgZmluZEFnZ2xvQnlDb29yZHMgPSBmdW5jdGlvbihhcnJBZ2dsbywgbGF0aXR1ZGUsIGxvbmdpdHVkZSkge1xuICAgICAgLy8gaWYgKCFhZ2dsb0NvZGUpIHtcbiAgICAgIC8vICAgcmV0dXJuIG51bGw7XG4gICAgICAvLyB9XG4gICAgICAvLyBhZ2dsb0NvZGUgPSBhZ2dsb0NvZGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgIC8vIGl0ZW0uYWN0dWFsX2V4dGVudCA9IHdrdCBjb29yZGluYXRlcyBwb2x5Z29uZVxuICAgICAgYW5ndWxhci5mb3JFYWNoKGFyckFnZ2xvLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTM4NDM5NzIvYW5ndWxhci1qcy1icmVhay1mb3JlYWNoXG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgaWYgKGlzUG9pbnRJbnNpZGVXa3QoaXRlbS5leHRlbnQsIGxhdGl0dWRlLCBsb25naXR1ZGUpKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xuICAgICAgICAgICAgLy8gaWYgKHZhbC5jb2RlID09PSBhZ2dsb0NvZGUpIHtcbiAgICAgICAgICAgIC8vICAgcmVzdWx0ID0gdmFsO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBpc1BvaW50SW5zaWRlV2t0OiBpc1BvaW50SW5zaWRlV2t0LFxuICAgICAgY29udmVydFdrdFRvQXJyOiBjb252ZXJ0V2t0VG9BcnIsXG4gICAgICBmaW5kQWdnbG9CeUNvb3JkczogZmluZEFnZ2xvQnlDb29yZHNcbiAgICB9O1xuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5nZW9IZWxwZXInLCBbXSlcblxuICAuZmFjdG9yeSgnZ2VvSGVscGVyJywgW3hwb10pO1xuXG59KHdpbmRvdy5hbmd1bGFyLCB3aW5kb3cuZ2VvbGliKSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHJhbmRvbUludEZyb21JbnRlcnZhbChtaW4sIG1heCkge1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSArIG1pbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgYWxsIGVsZW1lbnRzIG9mIGEgMS1zdCBhcnJheSBleGlzdCBpbiBhIHNlY29uZCBhcnJheVxuICAgICAqIEFycmF5IG9mIHN0cmluZ3Mgb3IgbnVtYmVyc1xuICAgICAqIFs1LDddIGluIFsyLDcsMyw4LDVdID0gdHJ1ZVxuICAgICAqIFsnYScsICdlJ10gaW4gWyd3JywgJ2InXSA9IGZhbHNlXG4gICAgICogW10gaW4gWzIsNiw3XSA9IHRydWVcbiAgICAgKiBbNCw3XSBpbiBbXSA9IGZhbHNlXG4gICAgICogV29ya3Mgb25seSB3aXRoIHNvcnRlZCBhcnJheXNcbiAgICAgKi9cbiAgICB2YXIgaXNBcnJJbkFyciA9IGZ1bmN0aW9uKGExLCBhMikge1xuICAgICAgaWYgKGExLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChhMi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBhMS5zb3J0KCk7XG4gICAgICBhMi5zb3J0KCk7XG5cbiAgICAgIC8vIFs1LDddIGluIFsyLDQsNSw3LDhdXG4gICAgICAvLyBfNV83XyBpbiBfMl80XzVfN184XyAob3IgfCBhcyBhIHNlcGFyYXRvcjogbW9zdCBub3QgdXNlZClcbiAgICAgIHJldHVybiAoJ3wnICsgYTIuam9pbignfCcpICsgJ3wnKS5pbmRleE9mKCd8JyArIGExLmpvaW4oJ3wnKSArICd8JykgPj0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluZCBhbiBlbGVtZW50IG9mIGFuIGFycmF5IGJ5IHZhbHVlIG9mIHNvbWUgcHJvcGVydHlcbiAgICAgKi9cbiAgICB2YXIgZmluZEVsZW1CeVByb3AgPSBmdW5jdGlvbihhcnIsIHByb3BOYW1lLCBwcm9wVmFsKSB7XG4gICAgICB2YXIgZWxlbWVudFBvcyA9IGFyci5tYXAoZnVuY3Rpb24oeCkge1xuICAgICAgICByZXR1cm4geFtwcm9wTmFtZV07XG4gICAgICB9KS5pbmRleE9mKHByb3BWYWwpO1xuICAgICAgcmV0dXJuIGFycltlbGVtZW50UG9zXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV0tUIFBPSU5UKDEyMzEyMy4xMiA0NDIzNTMuMzQ2MykgXG4gICAgICogICB0byB7bG9uZ2l0dWRlOjEyMywgbGF0aXR1ZGU6IDQ0Mn1cbiAgICAgKi9cbiAgICB2YXIgY29vcmRzRnJvbVdrdFBvaW50ID0gZnVuY3Rpb24od2t0UG9pbnQpe1xuICAgICAgd2t0UG9pbnQgPSB3a3RQb2ludC5zdWJzdHIoNiwgd2t0UG9pbnQubGVuZ3RoIC0gNyk7XG4gICAgICB2YXIgdG1wQXJyID0gd2t0UG9pbnQuc3BsaXQoJyAnKTtcbiAgICAgIC8vY29uc29sZS5sb2codG1wQXJyKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxvbmdpdHVkZTogcGFyc2VGbG9hdCh0bXBBcnJbMF0pLFxuXHRsYXRpdHVkZTogcGFyc2VGbG9hdCh0bXBBcnJbMV0pXG4gICAgICB9O1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmluZEVsZW1CeVByb3A6IGZpbmRFbGVtQnlQcm9wLFxuICAgICAgaXNBcnJJbkFycjogaXNBcnJJbkFycixcbiAgICAgIHJhbmRvbUludEZyb21JbnRlcnZhbDogcmFuZG9tSW50RnJvbUludGVydmFsLFxuICAgICAgY29vcmRzRnJvbVdrdFBvaW50OiBjb29yZHNGcm9tV2t0UG9pbnRcbiAgICB9O1xuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5ocHJGYWN0b3J5JywgW10pXG5cbiAgLmZhY3RvcnkoJ2hwckZhY3RvcnknLCBbeHBvXSk7XG5cbn0od2luZG93LmFuZ3VsYXIpKTtcbiIsIi8qKlxuICogU2F2ZXMsIHJldHJpZXZlcyBhbmQgcmVtb3ZlcyBkYXRhIGZyb20gbG9jYWxzdG9yYWdlIGFzIHRhYmxlc1xuICovXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgZnVuY3Rpb24geHBvKCRsb2csICRxLCBsb2NhbFN0b3JhZ2VTZXJ2aWNlKSB7XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBhbiBpdGVtOiB3aGVuIGFsbCBwYXJhbXMgbWF0Y2hlcyAtIHRoZW4gdHJ1ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbXMgLSB7IGtleTE6IHZhbDEsIGtleTI6IHZhbDJ9XG4gICAgICogICAgICAgICBpZiBwYXJhbXMgPSB7fSAtIHRoZW4gdHJ1ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIC0gaXRlbSBpbiBhcnJheVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoZWNrUmVhZEl0ZW0ocGFyYW1zLCBpdGVtKSB7XG4gICAgICB2YXIgaXNQYXNzZWQgPSB0cnVlO1xuICAgICAgYW5ndWxhci5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24ocGFyYW1WYWx1ZSwgcGFyYW1LZXkpIHtcbiAgICAgICAgaWYgKGl0ZW1bcGFyYW1LZXldICE9PSBwYXJhbVZhbHVlKSB7XG4gICAgICAgICAgLy8gYW4gZXZlcnkgcGFyYW0gbXVzdCBtYXRjaFxuICAgICAgICAgIGlzUGFzc2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGlzUGFzc2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbiBpdGVtIGZyb20gc3RvcmFnZTpcbiAgICAgKiAgICAgLSBHZXQgYW4gYXJyYXkgZnJvbSBzdG9yYWdlIChmcm9tIGVuZHBvaW50IHRhYmxlKVxuICAgICAqICAgICAtIENvbnZlcnQgdG8gcmVhbCBhcnJheSBmcm9tIFN0cmluZ1xuICAgICAqICAgICAtIEZpbmQgaXRlbXMgYnkgcGFyYW1zIChmaWx0ZXIpXG4gICAgICogICAgIC0gUmV0dXJuIGl0IGFzIGFuIGFycmF5IChpZiBpc0FycmF5KSBvciBpdGVtXG4gICAgICogICAgICAgLSBJZiBpc0FycmF5PWZhbHNlIG11c3QgYmUgemVybyBvciBvbmUgaXRlbSBvbmx5IChpbiBvdGhlciBjYXNlcyAtIGVycm9yKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlYWRGcm9tU3RvcmFnZSh0YmxOYW1lLCBwYXJhbXMsIGlzQXJyYXkpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgIHZhciB0YmwgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCh0YmxOYW1lKTtcbiAgICAgIGlmICghdGJsKSB7XG4gICAgICAgICRsb2cubG9nKCd0Ymwgbm90IGZvdW5kJywgdGJsLCB0YmxOYW1lKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpc0FycmF5ID8gW10gOiBudWxsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgYXJyID0gYW5ndWxhci5mcm9tSnNvbih0YmwpO1xuICAgICAgICAvLyRsb2cubG9nKGFycik7XG4gICAgICAgIHZhciBuZWVkSXRlbXMgPSBhcnJcblx0ICAgICAgLmZpbHRlcihhbmd1bGFyLmJpbmQobnVsbCwgY2hlY2tSZWFkSXRlbSwgcGFyYW1zKSk7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKG5lZWRJdGVtcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKG5lZWRJdGVtcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ25vdE9ubHlPbmUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB1bmRlZmluZWQgb3IgZnVsbGZpbGVkIGl0ZW1cbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUobmVlZEl0ZW1zWzBdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JpdGUgKHVwZGF0ZSBvciBpbnNlcnQpOiBzdGVwczpcbiAgICAgKiAgICBnZXQgYSB0YWJsZSBieSBlbmRwb2ludCwgbGlrZSAncGFudHMnXG4gICAgICogICAgZ2V0IGFsbCBpdGVtcywgbGlrZSBbe30sIHt9XSBhcyBhIFN0cmluZ1xuICAgICAqICAgIGNvbnZlcnQgdG8gSlNPTiBhcnJheVxuICAgICAqICAgIHB1c2ggdGhlIG5ldyBpdGVtIChvYmopXG4gICAgICogICAgY29udmVydCB0byBTdHJpbmdcbiAgICAgKiAgICB3cml0ZSB0byBzdG9yYWdlXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JpdGVUb1N0b3JhZ2UodGFibGVOYW1lLCBvYmopIHtcbiAgICAgIHZhciBkZnIgPSAkcS5kZWZlcigpO1xuICAgICAgdmFyIHRibCA9IGxvY2FsU3RvcmFnZVNlcnZpY2UuZ2V0KHRhYmxlTmFtZSk7XG5cbiAgICAgIHZhciBhcnIgPSB0YmwgPyBhbmd1bGFyLmZyb21Kc29uKHRibCkgOiBbXTtcblxuICAgICAgdmFyIGN1ciA9IGFyci5maWx0ZXIoZnVuY3Rpb24oaXRlbSwgaW5kKSB7XG4gICAgICAgIGlmIChpdGVtLmlkID09PSBvYmouaWQpIHtcbiAgICAgICAgICBhcnJbaW5kXSA9IG9iajtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KVswXTtcblxuICAgICAgaWYgKCFjdXIpIHtcbiAgICAgICAgYXJyLnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgICAgbG9jYWxTdG9yYWdlU2VydmljZS5zZXQodGFibGVOYW1lLCBhbmd1bGFyLnRvSnNvbihhcnIpKTtcblxuICAgICAgLy8gUmV0dXJuIGNyZWF0ZWQgKHVwZGF0ZWQpIG9iamVjdFxuICAgICAgZGZyLnJlc29sdmUob2JqKTtcblxuICAgICAgcmV0dXJuIGRmci5wcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbCBmcm9tIGEgc3RvcmFnZTpcbiAgICAgKiAgICAgLSBGaW5kIGEgdGFibGUgYnkgZW5kcG9pbnRcbiAgICAgKiAgICAgLSBDb252ZXJ0IHRvIEpTT05cbiAgICAgKiAgICAgLSBGaW5kIGFuIG9iamVjdCBpbiBhIHRhYmxlIGFuZCBkZWxldGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGJsTmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmogLSBPYmplY3QgdG8gZGVsZXRlXG4gICAgICogICAgICAgICAgICAgICAgIGlmIHt9IGVtcHR5IC0gcmVtb3ZlIGFsbCBvYmplY3RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVsRnJvbVN0b3JhZ2UodGJsTmFtZSwgb2JqKSB7XG4gICAgICB2YXIgZGZyID0gJHEuZGVmZXIoKTtcbiAgICAgIHZhciB0YmwgPSBsb2NhbFN0b3JhZ2VTZXJ2aWNlLmdldCh0YmxOYW1lKTtcbiAgICAgIGlmICh0YmwpIHtcbiAgICAgICAgXG5cdHZhciBhcnIgPSBhbmd1bGFyLmZyb21Kc29uKHRibCk7XG5cblx0Ly8gZGVsZXRlIGFsbCBtYXRjaGVkIGl0ZW1zICh1c3VhbGx5IGl0J3Mgb25seSBvbmUgLSB1bmlxdWUgY29uc3RyYWludClcblx0YW5ndWxhci5mb3JFYWNoKGFyciwgZnVuY3Rpb24oaXRlbSwgaW5kKSB7XG4gICAgICAgICAgaWYgKGNoZWNrUmVhZEl0ZW0ob2JqLCBpdGVtKSkge1xuICAgICAgICAgICAgYXJyLnNwbGljZShpbmQsIDEpO1xuICAgICAgICAgIH1cblx0fSk7XG5cblx0bG9jYWxTdG9yYWdlU2VydmljZS5zZXQodGJsTmFtZSwgYW5ndWxhci5mcm9tSnNvbihhcnIpKTtcbiAgICAgIH1cbiAgICAgIGRmci5yZXNvbHZlKCk7XG4gICAgICByZXR1cm4gZGZyLnByb21pc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlVG9TdG9yYWdlOiB3cml0ZVRvU3RvcmFnZSxcbiAgICAgIHJlYWRGcm9tU3RvcmFnZTogcmVhZEZyb21TdG9yYWdlLFxuICAgICAgZGVsRnJvbVN0b3JhZ2U6IGRlbEZyb21TdG9yYWdlXG4gICAgfTtcblxuICB9XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmxkYkhlbHBlcicsIFtcbiAgICAnTG9jYWxTdG9yYWdlTW9kdWxlJ1xuICBdKVxuXG4gICAgLmZhY3RvcnkoJ2xkYkhlbHBlcicsIFtcbiAgICAgICckbG9nJyxcbiAgICAgICckcScsXG4gICAgICAnbG9jYWxTdG9yYWdlU2VydmljZScsXG4gICAgICB4cG9cbiAgICBdKTtcblxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIsIEFQUENPTkYpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGZ1bmN0aW9uIHJlYXJyYW5nZUFycihhcnIpe1xuICAgIHZhciBtb3Njb3dJbmRleCwgc3BiSW5kZXgsXG5cdG5vdm9zaWJpcnNrSW5kZXgsIGtyYXNub2RhckluZGV4O1xuXG4gICAgLy8gbGVuZ3RoIC0gY2FsY3VsYXRlZCBldmVyeXN0ZXBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGFnZyA9IGFycltpXTtcblxuICAgICAgaWYgKGFnZy5pbnRlcl9jb2RlID09PSAnbW9zY293Jyl7XG5cdG1vc2Nvd0luZGV4ID0gYWdnO1xuXHRhcnIuc3BsaWNlKGktLSwgMSk7XG4gICAgICB9IGVsc2UgaWYgKGFnZy5pbnRlcl9jb2RlID09PSAnc3BiJyl7XG5cdHNwYkluZGV4ID0gYWdnO1xuXHRhcnIuc3BsaWNlKGktLSwgMSk7XG4gICAgICB9IGVsc2UgaWYgKGFnZy5pbnRlcl9jb2RlID09PSAnbm92b3NpYmlyc2snKXtcblx0bm92b3NpYmlyc2tJbmRleCA9IGFnZztcblx0YXJyLnNwbGljZShpLS0sIDEpO1xuICAgICAgfSBlbHNlIGlmIChhZ2cuaW50ZXJfY29kZSA9PT0gJ2tyYXNub2Rhcicpe1xuXHRrcmFzbm9kYXJJbmRleCA9IGFnZztcblx0YXJyLnNwbGljZShpLS0sIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBhcnIuc3BsaWNlKDAsMCxrcmFzbm9kYXJJbmRleCk7XG4gICAgYXJyLnNwbGljZSgwLDAsbm92b3NpYmlyc2tJbmRleCk7XG4gICAgYXJyLnNwbGljZSgwLDAsc3BiSW5kZXgpO1xuICAgIGFyci5zcGxpY2UoMCwwLG1vc2Nvd0luZGV4KTtcbiAgfVxuICBcbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIGFycl9nZW9fYWdnbG86IFtdLFxuICAgIC8vIGxvZ2ljIG9mIHRoaXMgcGFyYW06IGluIGlzX3Blcm1fY2hlY2tlZCBwYXJhbVxuICAgIGlzX2xvYWRlZDogZmFsc2VcbiAgfTtcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHEsICRodHRwLCBnZW9IZWxwZXIpIHtcbiAgICB2YXIgc2V0RGF0YSA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgIC8vIHJlbW92ZSBhbGwgcHJldiBlbGVtZW50c1xuICAgICAgcmVwb0RhdGEuYXJyX2dlb19hZ2dsby5sZW5ndGggPSAwO1xuICAgICAgLy8gYWRkIG5ldyBlbGVtZW50c1xuICAgICAgLy8gcmVhcnJhbmdlIGFnZ2xvczogZmlyc3QgbXNrIGFucyBzcGJcblxuICAgICAgdmFyIHRtcEFyciA9IHIuZGF0YS5hcnJfZ2VvX2FnZ2xvO1xuXG4gICAgICByZWFycmFuZ2VBcnIodG1wQXJyKTtcbiAgICAgIFxuICAgICAgLy8gdG1wQXJyLnNvcnQoZnVuY3Rpb24oYSxiKXtcbiAgICAgIC8vIFx0aWYgKGEuZ2VvX2lkID4gYi5nZW9faWQpe3JldHVybiAxO31cbiAgICAgIC8vIFx0aWYgKGEuZ2VvX2lkIDwgYi5nZW9faWQpIHtyZXR1cm4gLTE7fVxuICAgICAgLy8gXHRyZXR1cm4gMDtcbiAgICAgIC8vIH0pO1xuICAgICAgXG4gICAgICBhbmd1bGFyLmV4dGVuZChyZXBvRGF0YS5hcnJfZ2VvX2FnZ2xvLFxuXHRcdCAgICAgdG1wQXJyKTtcbiAgICAgIC8vIGRhdGEgPSB0bXBEYXRhIC0gYnJlYWsgY3VycmVudCByZWZlcmVuY2VzXG4gICAgICByZXBvRGF0YS5pc19sb2FkZWQgPSB0cnVlOyAgICAgIFxuICAgIH07XG5cbiAgICB2YXIgY2JrTWFwQWdnbG8gPSBmdW5jdGlvbihpbnRlckNvZGUsIGFnZ2xvSXRlbSl7XG4gICAgICByZXR1cm4gYWdnbG9JdGVtLmludGVyX2NvZGUgPT09IGludGVyQ29kZTtcbiAgICB9O1x0XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ2RhdGEnLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHJlcG9EYXRhO1xuICAgICAgfSxcbiAgICAgIHJldHJpZXZlRGF0YTogZnVuY3Rpb24oKSB7XG5cdGNvbnNvbGUubG9nKCd0cnk6IHJldHJpZXZpbmcgYWdnbG9zJyk7XG5cdC8vIGlmIGFscmVhZHkgbG9hZGVkOiBkbyBub3QgbG9hZFxuXHRpZiAocmVwb0RhdGEuaXNfbG9hZGVkKXtcblx0ICB2YXIgZGZyID0gJHEuZGVmZXIoKTtcblx0ICBkZnIucmVzb2x2ZSgpO1xuXHQgIHJldHVybiBkZnIucHJvbWlzZTtcblx0fVxuXHRlbHNlIHtcblx0Ly9yZXBvRGF0YS5pc19sb2FkZWQgPSBmYWxzZTtcblxuXHQgIHZhciByZXEgPSB7XG5cdCAgICBtZXRob2Q6IFwiR0VUXCIsXG5cdCAgICB1cmw6IEFQUENPTkYuQVBJTUFTX0VORFBPSU5UICsgXCIvdGVycml0b3J5L2dldC1hZ2dsb3NcIlxuXHQgIH07XG5cdCBcblx0ICByZXR1cm4gJGh0dHAocmVxKS50aGVuKHNldERhdGEpO1xuXHR9XG4gICAgICB9LFxuICAgICAgY2FsY0J5SW50ZXJDb2RlOiBmdW5jdGlvbihpbnRlckNvZGUpe1xuXHRyZXR1cm4gcmVwb0RhdGEuYXJyX2dlb19hZ2dsb1xuXHQgIC5maWx0ZXIoYW5ndWxhci5iaW5kKG51bGwsIGNia01hcEFnZ2xvLCBpbnRlckNvZGUpKVswXTtcbiAgICAgIH0sXG4gICAgICBjYWxjQWdnbG9CeUNvb3JkczogZnVuY3Rpb24obGF0LCBsbmcpe1xuXHR2YXIgdG1wQWdnbG8gPSBnZW9IZWxwZXJcblx0ICAgICAgLmZpbmRBZ2dsb0J5Q29vcmRzKHJlcG9EYXRhLmFycl9nZW9fYWdnbG8sXG5cdFx0XHRcdCBsYXQsXG5cdFx0XHRcdCBsbmcpO1xuXHR2YXIgZGZyID0gJHEuZGVmZXIoKTtcblx0ZGZyLnJlc29sdmUodG1wQWdnbG8pO1xuXHRyZXR1cm4gZGZyLnByb21pc2U7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuYWdnbG9SZXBvJywgW1xuICAgICdteUFwcC5nZW9IZWxwZXInXG4gIF0pXG5cbiAgICAuZmFjdG9yeSgnYWdnbG9SZXBvJywgW1xuICAgICAgJyRxJyxcbiAgICAgICckaHR0cCcsXG4gICAgICAnZ2VvSGVscGVyJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuXG59KHdpbmRvdy5hbmd1bGFyLCB3aW5kb3cuQVBQQ09ORikpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIGN1cl9maXJtOiBudWxsXG4gIH07XG4gIFxuICB2YXIgeHBvID0gZnVuY3Rpb24oZmlybUl0ZW1GYWN0b3J5KXtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oKXtcblx0cmV0dXJuIHJlcG9EYXRhO1x0XG4gICAgICB9LFxuICAgICAgcmV0cmlldmVEYXRhOiBmdW5jdGlvbihpZCwgZmlsaWFsSGFzaCl7XG5cdHJldHVybiBmaXJtSXRlbUZhY3RvcnkubG9hZEZpcm0oaWQsIGZpbGlhbEhhc2gpXG5cdCAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0RmlybSl7XG5cdCAgICByZXBvRGF0YS5jdXJfZmlybSA9IHJlc3VsdEZpcm07XG5cdCAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAuZmlybUl0ZW1SZXBvJywgW1xuICAgICdteUFwcC5maXJtSXRlbUZhY3RvcnknXG4gIF0pXG4gICAgLmZhY3RvcnkoJ2Zpcm1JdGVtUmVwbycsIFtcbiAgICAgICdmaXJtSXRlbUZhY3RvcnknLFxuICAgICAgeHBvXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gcHJldjogbWFwX2RhdGFcbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIG1hcF9tYXJrZXJzOiB7fSxcbiAgICB0b3RhbDogMFxuICB9O1xuXG4gIC8vIFRyYW5zbGF0ZSBmcm9tIHNlcnZpY2UgZ3JvdXAgbmFtZSB0byAyZ2lzIG5hbWVcbiAgdmFyIGdyb3VwVHJhbnNsYXRpb24gPSB7XG4gICAgaGFpcjoge1xuICAgICAgbmFtZTogXCLQn9Cw0YDQuNC60LzQsNGF0LXRgNGB0LrQuNC1XCJcbiAgICB9LFxuICAgIGNvc21ldGljOiB7XG4gICAgICBuYW1lOiBcItCa0L7RgdC80LXRgtC40YfQtdGB0LrQuNC1INGD0YHQu9GD0LPQuFwiXG4gICAgfSxcbiAgICBuYWlsOiB7XG4gICAgICBuYW1lOiAn0J3QvtCz0YLQtdCy0YvQtSDRgdGC0YPQtNC40LgnXG4gICAgfSxcbiAgICBtYWtldXA6IHtcbiAgICAgIG5hbWU6ICfQo9GB0LvRg9Cz0Lgg0LLQuNC30LDQttC40YHRgtCwJ1xuICAgIH0sXG4gICAgbWFzc2FnZToge1xuICAgICAgbmFtZTogJ9Cj0YHQu9GD0LPQuCDQvNCw0YHRgdCw0LbQuNGB0YLQsCdcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNia01hcmtlciA9IGZ1bmN0aW9uKG1hcmtPYmosIHZhbCkge1xuICAgIHZhciBkc2NCdG4gPSAnPG1kLWJ1dHRvbiBjbGFzcz1cIm1kLWFjY2VudFwiIHN0eWxlPVwibWFyZ2luOjBcIicrXG5cdCAgJyBvbmNsaWNrPVwid2luZG93LnNob3dGaXJtSW5mbyhldmVudCwnICtcbiAgICAgICAgICB2YWwuaWQgKyAnLFxcJycgKyB2YWxbJ2hhc2gnXSArICdcXCcnICtcbiAgICAgICAgICAnKTtcIj4nICtcblx0ICAvLycgbmctY2xpY2s9XCJzaG93RmlybURldGFpbCgpXCI+JyArXG4gICAgICAgICAgJ9Cf0L7QtNGA0L7QsdC90LXQtScgK1xuICAgICAgICAgICc8L21kLWJ1dHRvbj4nO1xuXG4gICAgdmFyIG1pY3JvQ21udCA9ICcnO1xuICAgIC8vIG1pY3JvY29tbWVudDogdXN1YWxseSB1bmRlZmluZWQsXG4gICAgLy8gb3IgY29udGFpbiBydWJyaWNzXG4gICAgaWYgKHZhbC5taWNyb19jb21tZW50KXtcbiAgICAgIC8vINCc0LjQutGA0L7QutC+0LzQvNC10L3RgtCw0YDQuNC5ICg3MCDRgdC40LzQstC+0LvQvtCyKSwg0L/RgNC40YHRg9GC0YHRgtCy0YPQtdGCXG4gICAgICAvLyDQsiDQstGL0LTQsNGH0LUg0YLQvtC70YzQutC+INC00LvRjyDRgNC10LrQu9Cw0LzQvdGL0YUg0YTQuNGA0LwuINCf0L7Qt9Cy0L7Qu9GP0LXRglxuICAgICAgLy8g0LDQutGG0LXQvdGC0LjRgNC+0LLQsNGC0Ywg0LLQvdC40LzQsNC90LjQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0YHQtdGA0LLQuNGB0LBcbiAgICAgIC8vINC90LAg0L7Qv9GA0LXQtNC10LvQtdC90L3QvtC5INC+0YDQs9Cw0L3QuNC30LDRhtC40Lgg0LIg0L7QsdGJ0LXQvCDRgdC/0LjRgdC60LUsXG4gICAgICAvLyDRgNCw0LfQvNC10YnQsNC10YLRgdGPINC/0L7QtCDQtdC1INC90LDQt9Cy0LDQvdC40LXQvC5cbiAgICAgIC8vINCf0YDQuNC80LXRgDog0JTQtdGA0LXQstGP0L3QvdGL0LUg0L7QutC90LAg0Lgg0L7QutC+0L3QvdGL0LUg0LHQu9C+0LrQuCDQv9C+0LQg0LrQu9GO0YcuXG4gICAgICBtaWNyb0NtbnQgPSAnPGRpdj48c21hbGwgY2xhc3M9XCJtZC1jYXB0aW9uXCI+JyArIHZhbC5taWNyb19jb21tZW50ICsgJzwvc21hbGw+PC9kaXY+JztcblxuICAgICAgaWYgKHZhbC5mYXNfd2FybmluZyl7XG5cdC8vIHdyaXRlIGl0IHVuZGVyIG1pY3JvX2NvbW1lbnRcblx0bWljcm9DbW50ICs9ICc8ZGl2PjxzbWFsbCBjbGFzcz1cIm1kLWNhcHRpb25cIiBzdHlsZT1cImNvbG9yOiAjYmIwMDAwXCI+JytcdCAgICBcblx0ICB2YWwuZmFzX3dhcm5pbmcrXG5cdCAgJzwvc21hbGw+PC9kaXY+Jztcblx0XG4gICAgICB9XG4gICAgICBcbiAgICAgIG1pY3JvQ21udCArPSAnPC9kaXY+JztcbiAgICB9XG5cbiAgICAvLyB2YXIgcnVicmljU2V0ID0gJyc7XG4gICAgLy8gdmFsLnJ1YnJpY3MuZm9yRWFjaChmdW5jdGlvbihyYnJUZXh0KXtcbiAgICAvLyBcdHJ1YnJpY1NldCArPSAnPGRpdiBzdHlsZT1cImRpc3BsYXk6aW5saW5lLWJsb2NrOyBwYWRkaW5nOiAycHg7IGJvcmRlcjogMXB4IGluc2V0ICMzMzM7IG1hcmdpbjogMXB4OyBmb250LXNpemU6IDAuNnJlbVwiPicgK1xuICAgIC8vIFx0ICByYnJUZXh0ICsgJzwvZGl2Pic7O1xuICAgIC8vIH0pO1xuICAgIFxuICAgIHZhciBkc2MgPSAnPG1kLWNvbnRlbnQgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgZm9udC1zaXplOiAwLjlyZW1cIj4nICtcblx0ICAnPGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206MnB4XCI+PHN0cm9uZz4nICsgdmFsLm5hbWUgKyAnPC9zdHJvbmc+PC9kaXY+JyArXG5cdCAgJzxkaXY+JyArXG5cdCAgLy8gJyYjeDIzMDI7Jm5ic3A7JyArXG5cdCAgdmFsLmFkZHJlc3MgKyAnPC9kaXY+JyArXG5cdCAgJzxtZC1kaXZpZGVyPjwvbWQtZGl2aWRlcj4nK1xuXHQgIG1pY3JvQ21udCArICAgXG4gICAgICAgICAgLy8nPGRpdj7QnNC10YLRgNC+0LI6ICcgKyB2YWwuZGlzdCArICc8L2Rpdj4nICtcdCAgIFxuXHQgIC8vIHJ1YnJpY1NldCArIC8vIG1vdmUgdG8gZnVsbCBwcm9maWxlXG4gICAgICAgICAgJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiByaWdodFwiPicrZHNjQnRuKyc8L2Rpdj4nICtcblx0ICAnPC9tZC1jb250ZW50Pic7XG4gICAgXG4gICAgXG4gICAgLy8gIGljb25Vcmw6IHZhbC5taWNyb19jb21tZW50ID8gJ2ltZy9tYXJrZXItaWNvbi1wdXJwbGUucG5nJyA6ICdpbWcvbWFya2VyLWljb24ucG5nJyxcbi8vICAgIHZhciBpY29uT3B0aW9ucyA9IHtcdFx0XG4gICAgICAvL2ljb25TaXplOiBbMTAwLDEwMF1cbiAgLy8gIH07XG4gICAgLy8gVE9ETzogY2FsYyBpY29uIGZyb20gcnVicmljc1xuICAgIC8vICAgICAgICAgIGljb25Vcmw6IHZhbC5taWNyb19jb21tZW50ID8gJ2ltZy9tYXJrZXItaWNvbi1wdXJwbGUucG5nJyA6ICdpbWcvbWFya2VyLWljb24ucG5nJyxcbiAgICAvLyAgICAgICAgICBzaGFkb3dVcmw6ICdpbWcvbWFya2VyLXNoYWRvdy5wbmcnXG4gICAgXG4gICAgLy8gaWNvblNpemU6IFs1MCwgNTBdLFxuICAgIC8vc2hhZG93U2l6ZTogWzUwLCA2NF1cbiAgICAvLyBpY29uQW5jaG9yOiBbMjIsIDk0XSxcbiAgICAvLyBzaGFkb3dBbmNob3I6IFs0LCA2Ml1cbiAgICBcbiAgICBtYXJrT2JqW3ZhbC5pZF0gPSB7XG4gICAgICBsYXQ6IHBhcnNlRmxvYXQodmFsLmxhdCksXG4gICAgICBsbmc6IHBhcnNlRmxvYXQodmFsLmxvbiksXG4gICAgICAvLyBnZXRNZXNzYWdlU2NvcGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHtcbiAgICAgIC8vICAgbWFwX2RhdGE6IHtcbiAgICAgIC8vICAgICBzb21lX2luZm86ICdzdWVyIGluZidcbiAgICAgIC8vICAgfVxuICAgICAgLy8gfTsgfSxcbiAgICAgIC8vIGNvbXBpbGVNZXNzYWdlOiB0cnVlLFxuICAgICAgbWVzc2FnZTogZHNjXG4gICAgLy8gIGljb246IGljb25PcHRpb25zXG4gICAgICBcbiAgICAgIC8vIGljb246IHtcbiAgICAgIC8vICAgdHlwZTogJ2V4dHJhTWFya2VyJyxcbiAgICAgIC8vICAgaWNvbjogJ2ZhLXN0YXInLFxuICAgICAgLy8gICBjb2xvcjogJyNmMDAnLFxuICAgICAgLy8gICBwcmVmaXg6ICdmYScsXG4gICAgICAvLyAgIHNoYXBlOiAnY2lyY2xlJ1xuICAgICAgLy8gfVxuICAgIH07XG4gIH07XG4gIFxuICAvKipcbiAgICogQXJyIC0gYXJyYXkgZnJvbSBHSVNcbiAgICovXG4gIHZhciBhcnJUb01hcmtlcnMgPSBmdW5jdGlvbihhcnIpIHtcbiAgICAvLyB7IG0xOiB7bGF0Li5sbmcuLn0sIG0yOiBcbiAgICB2YXIgbWFya09iaiA9IHt9O1xuICAgIGFuZ3VsYXIuZm9yRWFjaChhcnIsIGFuZ3VsYXIuYmluZChudWxsLCBjYmtNYXJrZXIsIG1hcmtPYmopKTtcbiAgICByZXR1cm4gbWFya09iajtcbiAgfTtcblxuICAvKipcbiAgICovXG4gIHZhciB4cG8gPSBmdW5jdGlvbihmaXJtTGlzdEZhY3Rvcnkpe1xuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpe1xuXHRyZXR1cm4gcmVwb0RhdGE7XG4gICAgICB9LFxuICAgICAgY2xlYXJEYXRhOiBmdW5jdGlvbigpe1xuXHRyZXBvRGF0YS5tYXBfbWFya2VycyA9IHt9O1xuICAgICAgfSxcbiAgICAgIHJldHJpZXZlRGF0YTogZnVuY3Rpb24obG5nLCBsYXQsIHNlcnZHcm91cElkKXtcblx0LyoqXG5cdCAqIHIgLSB7IHRvdGFsOiAxMjMsIG1hcmtlcnM6IFtdfVxuXHQgKiB0b3RhbCBudW1iZXJzIG9mIGNvbXBhbmllcyBpbiBjdXJyZW50IHJhZGl1cyBhbmQgY2l0eVxuXHQgKi9cblx0dmFyIGNia0xvYWRGaXJtcyA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAvLyRsb2cubG9nKCdyZXN1bHQnLCByKTtcblxuICAgICAgICAgIC8vIFBsYWNlIG1hcmtlcnMgdG8gdGhlIG1hcDogci5tYXJrZXJzIC0ge20xOnt9LCBtMjouLn1cbiAgICAgICAgICAvLyRzY29wZS5tYXBfZGF0YS5tYXBfbWFya2VycyA9IHIubWFya2Vycztcblx0ICByZXBvRGF0YS5tYXBfbWFya2VycyA9IGFyclRvTWFya2VycyhyLnJlc3VsdCk7XG5cdCAgcmVwb0RhdGEudG90YWwgPSByLnRvdGFsO1xuXHR9O1xuXG5cdC8vICBib3VuZCU1QnBvaW50MSU1RD0zNy40MzIsNTUuODM2XG5cdC8vICZib3VuZCU1QnBvaW50MiU1RD0zNy42MzMsNTUuNjM3XG5cdC8vIHpvb209MTQgfiA2a20gZm9yIGJpZyBzY3JlZW4gYW5kIDMgZm9yIHNtYWxsXG5cdHJldHVybiBmaXJtTGlzdEZhY3Rvcnlcblx0ICAubG9hZEZpcm1zQnlQb2ludChncm91cFRyYW5zbGF0aW9uW3NlcnZHcm91cElkXS5uYW1lLFxuXHRcdFx0ICAgIGxuZywgbGF0LCAzMDAwKVxuICAgICAgICAgIC50aGVuKGNia0xvYWRGaXJtcyk7XG4gICAgICB9XG4gICAgfTtcblxuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmZpcm1MaXN0UmVwbycsW1xuICAgICdteUFwcC5maXJtTGlzdEZhY3RvcnknXG4gIF0pXG4gICAgLmZhY3RvcnkoJ2Zpcm1MaXN0UmVwbycsIFtcbiAgICAgICdmaXJtTGlzdEZhY3RvcnknLFxuICAgICAgeHBvXG4gICAgXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIHNyY191cmw6IG51bGxcbiAgICAvLyBkYXRhIGZvciBhIGZ1bGwtaW1hZ2UgbW9kYWwgd2luZG93XG4gICAgLy9pbWdfdXJsOiBudWxsXG4gIH07XG4gIFxuICB2YXIgeHBvID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oKXtcblx0cmV0dXJuIHJlcG9EYXRhO1xuICAgICAgfSxcbiAgICAgIHNldFVybDogZnVuY3Rpb24odG1wVXJsKXtcblx0cmVwb0RhdGEuc3JjX3VybCA9IHRtcFVybDtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLmZ1bGxSZXBvJywgW10pXG5cbiAgICAuZmFjdG9yeSgnZnVsbFJlcG8nLCBbeHBvXSk7XG4gIFxuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIi8qKlxuICogRGV2aWNlIGNvb3JkaW5hdGVzXG4gKi9cbihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciByZXBvRGF0YSA9IHtcbiAgICAvLyB3aGV0aGVyIHRoZSBjb29yZHMgYXJlIG5vdCBlbXB0eVxuICAgIGlzX2RlZmluZWQ6IGZhbHNlLFxuICAgIC8vIFdoZXRoZXIgdGhlIHJlY29nbml0aW9uIGluIHByb2dyZXNzXG4gICAgaXNfZGV2aWNlX3Byb2dyZXNzOiBmYWxzZSxcbiAgICBjb29yZHM6IHtcbiAgICAgIGxhdDogbnVsbCxcbiAgICAgIGxuZzogbnVsbFxuICAgIH1cbiAgfTtcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHEsXG5cdFx0ICAgICBnZW9sb2NGYWN0b3J5KSB7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCl7XG5cdHJldHVybiByZXBvRGF0YTtcbiAgICAgIH0sXG4gICAgICAvLyByZXRyaWV2ZUZyb21Xa3RQb2ludDogZnVuY3Rpb24od2t0UG9pbnQpe1xuICAgICAgLy8gXHR2YXIgZGZyID0gJHEuZGVmZXIoKTtcbiAgICAgIFxuICAgICAgLy8gXHR2YXIgY29vcmRzID0gaHByRmFjdG9yeS5jb29yZHNGcm9tV2t0UG9pbnQod2t0UG9pbnQpO1xuXG4gICAgICAvLyBcdGRmci5yZXNvbHZlKCk7IC8vY29vcmRzXG4gICAgICAvLyBcdHJlcG9EYXRhLmNvb3Jkcy5sYXQgPSBjb29yZHMubGF0aXR1ZGU7XG4gICAgICAvLyBcdHJlcG9EYXRhLmNvb3Jkcy5sbmcgPSBjb29yZHMubG9uZ2l0dWRlO1xuICAgICAgLy8gXHRyZXBvRGF0YS5pc19kZWZpbmVkID0gdHJ1ZTtcblxuICAgICAgLy8gXHRyZXR1cm4gZGZyLnByb21pc2U7XG4gICAgICAvLyB9LFxuICAgICAgcmV0cmlldmVGcm9tRGV2aWNlOiBmdW5jdGlvbigpe1xuXHQvLyByaWdodCBub3cgc3VwcG9ydGVkIG9ubHkgc3RhdGljIHBsYWNlc1xuXHQvLyBubyBuZWVkIHRvIGNhbGMgZXZlcnkgdGltZSwgd2hlbiBhIHVzZXIgdXBkYXRlcyBhIG1hcFxuXHRpZiAocmVwb0RhdGEuaXNfZGVmaW5lZCl7XG5cdCAgdmFyIGRmciA9ICRxLmRlZmVyKCk7XG5cdCAgZGZyLnJlc29sdmUoKTtcblx0ICByZXR1cm4gZGZyLnByb21pc2U7XG5cdH1cblx0ZWxzZSB7XG5cdCAgXG5cdCAgcmVwb0RhdGEuaXNfZGV2aWNlX3Byb2dyZXNzID0gdHJ1ZTtcblx0ICAvLyBnZXQgZnJvbSBkZXZpY2Ugb3IgSVBcblx0ICByZXR1cm4gZ2VvbG9jRmFjdG9yeS5nZXRDdXJDb29yZHMoKVxuXHQgICAgLnRoZW4oZnVuY3Rpb24oY29vcmRzKXtcblx0ICAgICAgLy8gNDMuNjA3ODk3NlxuICAgICAgICAgICAgICAvLyAzOS43NDQ2Mjk4NTlcblx0ICAgICAgcmVwb0RhdGEuY29vcmRzLmxhdCA9IGNvb3Jkcy5sYXRpdHVkZTtcblx0ICAgICAgcmVwb0RhdGEuY29vcmRzLmxuZyA9IGNvb3Jkcy5sb25naXR1ZGU7XG5cdCAgICAgIHJlcG9EYXRhLmlzX2RlZmluZWQgPSB0cnVlO1xuXHQgICAgICAvLyBzZW5kIGNvb3JkcyB0byAgbmV4dCBoYW5kbGVyXG5cdCAgICAgIC8vcmV0dXJuIGNvb3Jkcztcblx0ICAgIH0pXG5cdCAgICAuZmluYWxseShmdW5jdGlvbigpe1xuXHQgICAgICByZXBvRGF0YS5pc19kZXZpY2VfcHJvZ3Jlc3MgPSBmYWxzZTtcblx0ICAgIH0pO1xuXHR9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5sb2NSZXBvJywgW1xuICAgICdteUFwcC5nZW9sb2NGYWN0b3J5J1xuICAgIC8vICAgICdteUFwcC5ocHJGYWN0b3J5J1xuICBdKVxuXG4gICAgLmZhY3RvcnkoJ2xvY1JlcG8nLCBbXG4gICAgICAnJHEnLFxuICAgICAgJ2dlb2xvY0ZhY3RvcnknLFxuICAgICAgLy8gICAgICAnaHByRmFjdG9yeScsXG4gICAgICB4cG9dKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgQVBQQ09ORikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gU2VsZWN0ZWQgbWFzdGVyIHByb2ZpbGVcbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIHNsY19tYXN0ZXI6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSByZXRyaWV2aW5nIGluIHByb2dyZXNzXG4gICAgICovXG4gICAgaXNfaW5fcHJvZ3Jlc3M6IGZhbHNlXG4gIH07XG4gIFxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHEsICRodHRwKXtcbiAgICB2YXIgc2V0TWFzdGVyID0gZnVuY3Rpb24odG1wTWFzdGVyKXtcbiAgICAgIHJlcG9EYXRhLnNsY19tYXN0ZXIgPSB0bXBNYXN0ZXI7XG4gICAgfTtcblxuICAgIHZhciBjbGVhbk1hc3RlciA9IGZ1bmN0aW9uKCl7XG4gICAgICByZXBvRGF0YS5zbGNfbWFzdGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgbWFzdGVyIGRldGFpbCwgbGlrZSBhZGRyZXNzLCBlbWFpbCwgZXRjXG4gICAgICogQHBhcmFtIHtTdGlybmd8TnVtYmVyfSBpZFxuICAgICAqL1xuICAgIHZhciByZXRyaWV2ZU1hc3RlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHZhciBkZnIgPSAkcS5kZWZlcigpO1xuICAgICAgcmVwb0RhdGEuaXNfaW5fcHJvZ3Jlc3MgPSB0cnVlO1xuICAgICAgLy8gY2xlYW4gcHJldiBtYXN0ZXIsIGlmIGV4aXN0c1xuICAgICAgLy8gc2VuZCBpZCBvZiBhIG1hc3RlclxuICAgICAgLy8gcmV0dXJuIG1wICsgYWxsIHNlcnZpY2VzICsgYWxsIHdvcmtzXG4gICAgICAvLyArIGNvbnRhY3RzICsgYWRkcmVzc1xuICAgICAgXG4gICAgICB2YXIgcmVxID0ge1xuXHRtZXRob2Q6IFwiR0VUXCIsXG5cdHVybDogQVBQQ09ORi5BUElNQVNfRU5EUE9JTlQgKyBcIi9tYXN0ZXIvZ2V0LXByb2ZpbGUyXCIsXG5cdHBhcmFtczoge1xuXHQgIFwiaWRcIjogaWRcblx0fVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuICRodHRwKHJlcSkudGhlbihmdW5jdGlvbihyKXtcblx0aWYgKCFyLmRhdGEpe1xuXHQgIHJldHVybiBkZnIucmVqZWN0KFwi0JzQsNGB0YLQtdGAINC90LUg0L3QsNC50LTQtdC9XCIpO1xuXHR9IGVsc2Uge1xuXHQgIHNldE1hc3RlcihyLmRhdGEpO1xuXHQgIC8vY29uc29sZS5sb2coci5kYXRhKTtcblx0ICByZXR1cm4gci5kYXRhO1xuXHR9XG4gICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uKCl7XG5cdHJlcG9EYXRhLmlzX2luX3Byb2dyZXNzID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpe1xuXHRyZXR1cm4gcmVwb0RhdGE7XG4gICAgICB9LFxuICAgICAgY2xlYW5NYXN0ZXI6IGNsZWFuTWFzdGVyLFxuICAgICAgc2V0TWFzdGVyOiBzZXRNYXN0ZXIsXG4gICAgICByZXRyaWV2ZU1hc3RlcjogcmV0cmlldmVNYXN0ZXJcbiAgICB9O1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLm1hc3RlclJlcG8nLCBbXSlcblxuICAgIC5mYWN0b3J5KCdtYXN0ZXJSZXBvJywgWyckcScsXG5cdFx0XHQgICAgJyRodHRwJyxcdFx0XHQgICAgXG5cdFx0XHQgICAgeHBvXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIsIHdpbmRvdy5BUFBDT05GKTtcblxuXG4vLyAkdGltZW91dChmdW5jdGlvbigpe1xuLy8gXHRzZXRNYXN0ZXIoe1xuLy8gXHQgIGlkOiBpZCxcbi8vIFx0ICBuYW1lOiBcIlN1cGVyIG1hc3RlclwiLFxuLy8gXHQgIG1vZGlmaWVkOiAxMjMxMjEyM1xuLy8gXHR9KTtcblxuLy8gXHRkZnIucmVzb2x2ZSgpO1xuLy8gXHQvL2Rmci5yZWplY3QoXCLQndC1INC90LDQudC00LXQvSDQvNCw0YHRgtC10YBcIik7XG4vLyBcdC8vIGZpbmFsbHlcblxuXG4vLyB9LCAxMDAwKTtcblxuLy8gICAgICByZXR1cm4gZGZyLnByb21pc2U7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogTG9jYWwgc3RvcmFnZSBpZCB0byBzdG9yZSBwZXJtaXNzaW9uIHN3aXRjaGVyXG4gICAqL1xuICB2YXIgUEVSTV9UQUJMRSA9ICdsb2NhdGlvbl9wZXJtaXNzaW9uJztcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgbG9jYXRpb24gcGVybWlzc2lvbnMgYXJlIGFsbG93ZWRcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB2YXIgaXNfcGVybV9hbGxvd2VkID0gbnVsbDtcbiAgXG4gIC8vIE51bGxCb29sZWFuXG4gIHZhciByZXBvRGF0YSA9IHtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBhdXRvLXJlY29nbml0aW9uIGlzIHRyaWVkXG4gICAgICogICBvbmNlIHBlciBhcHBcbiAgICAgKi9cbiAgICBpc19wZXJtX2NoZWNrZWQ6IGZhbHNlXG4gIH07XG4gIFxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHEsIGxkYkhlbHBlcil7XG5cbiAgICB2YXIgc2F2ZUxvY2F0aW9uUGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICBpc19wZXJtX2FsbG93ZWQgPSB0cnVlO1xuICAgICAgLy8gc2F2ZSBhIHJ1bGU6IGEgdXNlciBhbGxvd3MgdXMgdG8gZGVmaW5lIGhpcyBsb2NhdGlvblxuICAgICAgbGRiSGVscGVyLndyaXRlVG9TdG9yYWdlKFBFUk1fVEFCTEUsIHtcbiAgICAgICAgaWQ6IDAsXG4gICAgICAgIGlzX2FsbG93ZWQ6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICB2YXIgaGFuZGxlTG9jYXRpb25QZXJtaXNzaW9uID0gZnVuY3Rpb24ocHJtKSB7XG4gICAgICByZXBvRGF0YS5pc19wZXJtX2NoZWNrZWQgPSB0cnVlO1xuICAgICAgXG4gICAgICBpZiAocHJtICYmIChwcm0uaXNfYWxsb3dlZCA9PT0gdHJ1ZSkpIHtcblx0Ly8gY2FsYyBsb2NhdGlvbiBmcm9tIGNvb3Jkc1xuICAgICAgICAvLyRzY29wZS5kZWZpbmVMb2NhdGlvbigpO1xuXHQvL3NhdmVMb2NhdGlvblBlcm1pc3Npb24oKTtcblx0aXNfcGVybV9hbGxvd2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuXHRpc19wZXJtX2FsbG93ZWQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzX3Blcm1fYWxsb3dlZDtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpe1xuXHRyZXR1cm4gcmVwb0RhdGE7XG4gICAgICB9LFxuICAgICAgY2xlYW5Mb2NhdGlvblBlcm1pc3Npb246IGZ1bmN0aW9uKCl7XG5cdGlzX3Blcm1fYWxsb3dlZCA9IGZhbHNlO1xuXHRsZGJIZWxwZXIuZGVsRnJvbVN0b3JhZ2UoUEVSTV9UQUJMRSwge1xuICAgICAgICAgIGlkOiAwXG5cdH0pO1xuICAgICAgfSxcbiAgICAgIHNhdmVMb2NhdGlvblBlcm1pc3Npb246IHNhdmVMb2NhdGlvblBlcm1pc3Npb24sXG4gICAgICAvLyByZXR1cm4gb3IgKGxvYWQgYW5kIHJldHVybilcbiAgICAgIGNoZWNrTG9jYXRpb25QZXJtaXNzaW9uOiBmdW5jdGlvbigpe1xuXHQvLyBjaGVja2VkIG9uY2UgcGVyIHNlc3Npb25cbiAgICAgICAgaWYgKHJlcG9EYXRhLmlzX3Blcm1fY2hlY2tlZCl7XG5cdCAgdmFyIGRmciA9ICRxLmRlZmVyKCk7XG5cdCAgZGZyLnJlc29sdmUoaXNfcGVybV9hbGxvd2VkKTtcblx0ICByZXR1cm4gZGZyLnByb21pc2U7XG5cdH1cblx0ZWxzZSB7XG5cdCAgcmV0dXJuIGxkYkhlbHBlci5yZWFkRnJvbVN0b3JhZ2UoUEVSTV9UQUJMRSwge1xuICAgICAgICAgICAgaWQ6IDBcblx0ICB9LCBmYWxzZSkudGhlbihoYW5kbGVMb2NhdGlvblBlcm1pc3Npb24pO1xuXHR9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5wZXJtUmVwbycsIFtcbiAgICAnbXlBcHAubGRiSGVscGVyJ1xuICBdKVxuXG4gICAgLmZhY3RvcnkoJ3Blcm1SZXBvJywgW1xuICAgICAgJyRxJyxcbiAgICAgICdsZGJIZWxwZXInLFxuICAgICAgeHBvXSk7XG4gIFxuICBcbn0pKHdpbmRvdy5hbmd1bGFyKTtcbiIsIi8qKlxuKiBMb2FkIHJ1YnJpY3MgYW5kIHN0YXRpc3RpYyBmb3IgZ3JvdXBzXG4qICAgIGhhaXI6IFsnaGFpckV4dCcsICdoYWlyQ3V0Jy4uLl0gKyBjb3VudGVyc1xuKi9cbihmdW5jdGlvbihhbmd1bGFyLCBBUFBDT05GKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEZWZhdWx0IGRhdGEgd2l0aCBncm91cHMgYW5kIG5hbWVzXG4gIC8vIEluIGdsb2JhbCBzY29wZTogcnVicmljX3JlcG9cbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIGFycl9zZXJ2X2dyb3VwOlt7XG4gICAgICBpZDpcImhhaXJcIixcbiAgICAgIG5hbWU6XCLQo9GB0LvRg9Cz0Lgg0L/QsNGA0LjQutC80LDRhdC10YDQsFwiLFxuICAgICAgYXJyX3NlcnZfcnVicmljX3N0YXQ6IFtdLFxuICAgICAgY291bnRfc2Vydl9ydWJyaWM6IDAsXG4gICAgICBzdW1fbWFzdGVyX3NlcnY6IDBcbiAgICB9LHtcbiAgICAgIGlkOiBcIm5haWxcIixcbiAgICAgIG5hbWU6IFwi0KPRhdC+0LQg0LfQsCDQvdC+0LPRgtGP0LzQuFwiLFxuICAgICAgYXJyX3NlcnZfcnVicmljX3N0YXQ6IFtdLFxuICAgICAgLy8gdGhpcyBwcm9wZXJ0eSBjYW4gYmUgY2FsY3VsYXRlZCBkeW5hbWljYWxseSwgYnV0XG4gICAgICAvLyBpbiByZWFkLW9ubHkgY2FzZTogb25seSBvbmNlIHBlciByZXRyaWV2aW5nIGRhdGFcbiAgICAgIGNvdW50X3NlcnZfcnVicmljOiAwLFxuICAgICAgLy8gU1VNKHNlcnZfcnVicmljLmNvdW50X21hc3Rlcl9zZXJ2KVxuICAgICAgc3VtX21hc3Rlcl9zZXJ2OiAwXG4gICAgfSx7XG4gICAgICBpZDpcIm1ha2V1cFwiLFxuICAgICAgbmFtZTpcItCj0YHQu9GD0LPQuCDQstC40LfQsNC20LjRgdGC0LBcIixcbiAgICAgIGFycl9zZXJ2X3J1YnJpY19zdGF0OiBbXSxcbiAgICAgIGNvdW50X3NlcnZfcnVicmljOiAwLFxuICAgICAgc3VtX21hc3Rlcl9zZXJ2OiAwXG4gICAgfSx7XG4gICAgICBpZDpcImNvc21ldGljXCIsXG4gICAgICBuYW1lOlwi0KPRgdC70YPQs9C4INC60L7RgdC80LXRgtC+0LvQvtCz0LBcIixcbiAgICAgIGFycl9zZXJ2X3J1YnJpY19zdGF0OiBbXSxcbiAgICAgIGNvdW50X3NlcnZfcnVicmljOiAwLFxuICAgICAgc3VtX21hc3Rlcl9zZXJ2OiAwXG4gICAgfV0sXG4gICAgbGFuZzogXCJydVwiLFxuICAgIGdlb19kaXN0cmljdF9pZDogbnVsbCxcbiAgICAvLyBsb2FkIG9uY2UgcGVyIGFwcCwgcGVyIGNpdHlcbiAgICAvLyByZS1sb2FkIGZvciBhbm90aGVyIHNlc3Npb24gKHJhcmUgY2hhbmdlcyBvZiBkYXRhKVxuICAgIC8vIHJlLWxvYWQgZm9yIGFub3RoZXIgY2l0eVxuICAgIGlzX2xvYWRlZDogZmFsc2VcbiAgfTtcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHEsICRodHRwLCBocHJGYWN0b3J5KSB7XG4gICAgdmFyIHNldFJ1YnJpY3NUb0dyb3VwID0gZnVuY3Rpb24oZnJlc2hBcnJSdWJyaWMsIGdycEl0ZW0pe1xuICAgICAgdmFyIHRtcFN1bU1hc3RlclNlcnYgPSAwO1xuICAgICAgdmFyIHRtcEFyciA9IGZyZXNoQXJyUnVicmljLmZpbHRlcihmdW5jdGlvbihyYnJTdGF0KXtcblxuXHRpZiAocmJyU3RhdC5zZXJ2X3J1YnJpYy5zZXJ2X2dyb3VwX2lkID09PSBncnBJdGVtLmlkKXtcblx0ICB0bXBTdW1NYXN0ZXJTZXJ2ICs9IHJiclN0YXQuY291bnRfbWFzdGVyX3NlcnY7XG5cdCAgcmV0dXJuIHRydWU7XG5cdH1cblx0cmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHNvcnQgYXJyYXkgYnkgbnVtYmVyIG9mIG1hc3RlcnNcbiAgICAgIHRtcEFyci5zb3J0KGZ1bmN0aW9uKGEsIGIpe1xuXHRpZiAoYS5jb3VudF9tYXN0ZXJfc2VydiA+IGIuY291bnRfbWFzdGVyX3NlcnYpe1xuXHQgIHJldHVybiAtMTtcblx0fVxuXHRpZiAoYS5jb3VudF9tYXN0ZXJfc2VydiA8IGIuY291bnRfbWFzdGVyX3NlcnYpe1xuXHQgIHJldHVybiAxO1xuXHR9XG5cdHJldHVybiAwO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIGNsZWFyIHByZXZpb3VzXG4gICAgICBncnBJdGVtLmFycl9zZXJ2X3J1YnJpY19zdGF0Lmxlbmd0aCA9IDA7XG4gICAgICAvLyBhdHRhY2ggbmV3ICh3aXRob3V0IGJyZWFraW5nIGEgcG9pbnRlcilcbiAgICAgIGFuZ3VsYXIuZXh0ZW5kKGdycEl0ZW0uYXJyX3NlcnZfcnVicmljX3N0YXQsIHRtcEFycik7XG4gICAgICBcbiAgICAgIGdycEl0ZW0uY291bnRfc2Vydl9ydWJyaWMgPSB0bXBBcnIubGVuZ3RoO1xuICAgICAgZ3JwSXRlbS5zdW1fbWFzdGVyX3NlcnYgPSB0bXBTdW1NYXN0ZXJTZXJ2O1xuICAgIH07XG4gICAgXG4gICAgLy8gY29udmVydCBmcm9tIHJlc3BvbnNlIHRvIG91ciBvYmplY3RcbiAgICAvLyBncm91cCBieSBzZXJ2X2dyb3VwXG4gICAgLy8gZG8gbm90IHJlbW92ZSBzZXJ2X2dyb3VwczpcbiAgICAvLyBjbGVhbiBvbmx5IGFycl9zZXJ2X3J1YnJpY1xuICAgIC8vIGFuZCBhZGQgbmV3cyBvbmVcbiAgICAvLyBBZGQgYWxsIGFycmF5IGF0IGEgbW9tZW50OiBkbyBub3QgYWRkIGl0ZW1zIHNlcGFyYXRlbHlcbiAgICAvLyAgIGl0IG1pZ2h0IG9jY3VyIGFuIGVycm9yIGR1cmluZyBkb3VibGUtcmVxdWVzdCAgIFxuICAgIHZhciBoYW5kbGVSZXN1bHQgPSBmdW5jdGlvbihyKXtcbiAgICAgIC8vY29uc29sZS5sb2coci5kYXRhKTtcbiAgICAgIC8vci5kYXRhLmFycl9zZXJ2X3J1YnJpY19zdGF0XG4gICAgICAvLyBncm91cCBieSBzZXJ2X2dyb3Vwc1xuICAgICAgcmVwb0RhdGEuYXJyX3NlcnZfZ3JvdXBcblx0LmZvckVhY2goYW5ndWxhci5iaW5kKG51bGwsIHNldFJ1YnJpY3NUb0dyb3VwLFxuXHRcdCByLmRhdGEuYXJyX3NlcnZfcnVicmljX3N0YXQpKTtcblxuICAgICAgLy8gYXR0YWNoIG5ldyB2YWx1ZXMgKGZpbHRlcnMpXG4gICAgICByZXBvRGF0YS5nZW9fZGlzdHJpY3RfaWQgPSByLmRhdGEuZ2VvX2Rpc3RyaWN0X2lkO1xuICAgICAgLy8gICAgICBjb25zb2xlLmxvZyhyZXBvRGF0YSk7XG4gICAgICAvKipcbiAgICAgICAqIFdoZXRoZXIgdGhlIHJ1YnJpY3MgYXJlIGxvYWRlZFxuICAgICAgICovXG4gICAgICByZXBvRGF0YS5pc19sb2FkZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBzZXJ2IHN0YXRcbiAgICAgKi9cbiAgICB2YXIgcmV0cmlldmVEYXRhID0gZnVuY3Rpb24oZ2VvRGlzdHJpY3RJZCwgbGFuZykge1xuICAgICAgLy8gbG9hZCBvbmNlIHBlciBhcHAsIHBlciBjaXR5XG4gICAgICAvLyByZS1sb2FkIGZvciBhbm90aGVyIHNlc3Npb24gKHJhcmUgY2hhbmdlcyBvZiBkYXRhKVxuICAgICAgLy8gcmUtbG9hZCBmb3IgYW5vdGhlciBjaXR5XG4gICAgICBpZiAocmVwb0RhdGEuaXNfbG9hZGVkICYmXG4gICAgICBcdCAgcmVwb0RhdGEuZ2VvX2Rpc3RyaWN0X2lkID09PSBnZW9EaXN0cmljdElkKXtcbiAgICAgIFx0dmFyIGRmciA9ICRxLmRlZmVyKCk7XG4gICAgICBcdGRmci5yZXNvbHZlKCk7XG4gICAgICBcdHJldHVybiBkZnIucHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmVwb0RhdGEuaXNfbG9hZGVkID0gZmFsc2U7XG4gICAgICB2YXIgaWRzU2Vydkdyb3VwID0gcmVwb0RhdGFcblx0ICAgIC5hcnJfc2Vydl9ncm91cC5tYXAoZnVuY3Rpb24oaXRlbSl7XG5cdCAgICAgIFxuXHQgICAgICByZXR1cm4gaXRlbS5pZDtcblx0ICAgIH0pO1xuXG4gICAgICB2YXIgcmVxID0ge1xuXHRtZXRob2Q6IFwiR0VUXCIsXG5cdHVybDogQVBQQ09ORi5BUElNQVNfRU5EUE9JTlQgKyBcIi9ydWJyaWMvZ2V0LWdyb3VwLXN0YXRcIixcblx0Ly8gcHJldjogZ2V0LXNlcnYtc3RhdFxuXHRwYXJhbXM6IHtcblx0ICBpZHNfc2Vydl9ncm91cDogaWRzU2Vydkdyb3VwLmpvaW4oJ19fJyksXG5cdCAgZ2VvX2Rpc3RyaWN0X2lkOiBnZW9EaXN0cmljdElkLFxuXHQgIGxhbmc6IGxhbmdcblx0fVxuICAgICAgfTtcblxuICAgICAgcmV0dXJuICRodHRwKHJlcSkudGhlbihoYW5kbGVSZXN1bHQpO1xuICAgICAgLy8gY2F0Y2ggZXJyb3JzIGluIG1haW4gY29kZVxuICAgIH07XG5cbiAgICB2YXIgY2FsY1NlcnZHcm91cEJ5SWQgPSBmdW5jdGlvbihzZXJ2R3JvdXBJZCl7XG4gICAgICByZXR1cm4gaHByRmFjdG9yeVxuXHQuZmluZEVsZW1CeVByb3AocmVwb0RhdGEuYXJyX3NlcnZfZ3JvdXAsXG5cdFx0XHQnaWQnLFxuXHRcdFx0c2Vydkdyb3VwSWQpO1x0XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0SWRzOiBmdW5jdGlvbigpe1xuXHRyZXR1cm4gcmVwb0RhdGEuYXJyX3NlcnZfZ3JvdXAubWFwKGZ1bmN0aW9uKGl0ZW0pe1xuXHQgIHJldHVybiBpdGVtLmlkO1xuXHR9KTtcbiAgICAgIH0sICAgICAgXG4gICAgICAvLyAgICAgIHNldERhdGE6IHNldERhdGEsIC8vIHJlYWQtb25seSByZXBvXG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xuICAgICAgICByZXR1cm4gcmVwb0RhdGE7XG4gICAgICB9LFxuICAgICAgcmV0cmlldmVEYXRhOiByZXRyaWV2ZURhdGEsXG4gICAgICBjYWxjU2Vydkdyb3VwQnlJZDogY2FsY1NlcnZHcm91cEJ5SWQsXG4gICAgICBjYWxjU2VydlJ1YnJpY1N0YXQ6IGZ1bmN0aW9uKHNlcnZHcm91cCwgc2VydlJ1YnJpY0lkKXtcblx0cmV0dXJuIHNlcnZHcm91cC5hcnJfc2Vydl9ydWJyaWNfc3RhdC5maWx0ZXIoZnVuY3Rpb24odG1wUnVicmljU3RhdCl7XHQgXG5cdCAgcmV0dXJuIHRtcFJ1YnJpY1N0YXQuc2Vydl9ydWJyaWMuaWQgPT09IHNlcnZSdWJyaWNJZDtcblx0fSlbMF07XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAucnVicmljUmVwbycsIFtcbiAgICAnbXlBcHAuaHByRmFjdG9yeSdcbiAgXSlcblxuICAgIC5mYWN0b3J5KCdydWJyaWNSZXBvJywgW1xuICAgICAgJyRxJyxcbiAgICAgICckaHR0cCcsXG4gICAgICAnaHByRmFjdG9yeScsXG4gICAgICB4cG9cbiAgICBdKTtcblxufSh3aW5kb3cuYW5ndWxhciwgd2luZG93LkFQUENPTkYpKTtcblxuLy8gIHZhciBzZXREYXRhID0gZnVuY3Rpb24odG1wRGF0YSkge1xuLy8gLy8gcmVtb3ZlIGFsbCBwcmV2IGVsZW1lbnRzXG4vLyBkYXRhLmxlbmd0aCA9IDA7XG4vLyAvLyBhZGQgbmV3IGVsZW1lbnRzXG4vLyBhbmd1bGFyLmV4dGVuZChkYXRhLCB0bXBEYXRhKTtcbi8vIC8vIGRhdGEgPSB0bXBEYXRhIC0gYnJlYWsgY3VycmVudCByZWZlcmVuY2VzXG4vLyAgICB9O1xuXG5cbi8vIFNFTEVDVCBjb3VudGVycyBGUk9NIG1hc3RlciBtcFxuLy8gV0hFUkUgbXAuZ2VvX2Rpc3RyaWN0X2lkID0gZ2VvX2Rpc3RyaWN0X2lkXG4vLyBKT0lOIG1hc3Rlcl9zZXJ2IG1zXG4vLyBKT0lOIHNlcnZfcnVicmljcyBzclxuLy8gV0hFUkUgc3Iuc2Vydl9ncm91cF9pZCBBTlkgc2Vydl9ncm91cF9pZHNcbi8vICAgY2FuIGJlIGNoYW5nZWQgbGF0ZXIgdG8gb25seSBvbmUgc2Vydl9ncm91cF9pZFxuLy8gR1JPVVAgYnkgc3IuaWRcbi8vIE9SREVSIGJ5IENPVU5UKG1zKSAvIHBlciBydWJyaWNcblxuLy8gc2Vydl9ncm91cF9pZHMgLSAnbmFpbF9oYWlyXy4uXCJcbi8vIHRoaXMgcmVxdWVzdCBkb2Vzbid0IHRvdWNoIHNlcnZfZ3JvdXAgdGFibGVcbi8vIGFuZCBpdCBpcyBiZXR0ZXIgdGhhbiA1IHNlcGFyYXRlIHNpbmdsZSByZXF1ZXN0c1xuXG5cbi8vIGZyb20gdGhpcyByZXNwb25zZTogY2FsYyBjb3VudGVycyBwZXIgc2Vydl9ncm91cFxuLy8gc2Vydl9ncm91cF9pZCB8IGNvdW50KHJ1YnJpY3MpIHwgY291bnQobWFzdGVyX3NlcnYpXG4vLyB0aGlzIHJlcXVlc3QgaXMgdGhlIHNhbWUgSk9JTkVSLCBleGNlcHRcbi8vIC0gZnVsbCBsaXN0IG9mIHJ1YnJpY3MsIGluc3RlYWQgY291bnQocnVicmljcykgb25seVxuLy8gLSBjb3VudF9tYXN0ZXJfc2VydiBwZXIgcnVicmljLCBpbnN0ZWFkIGdsb2JhbCBjb3VudFxuXG4vLyB0aGlzIHJlcXVlc3QgaXMgYmV0dGVyIHRoYW5cbi8vIGdsb2JhbCBjb3VudGVyIHBlciBzZXJ2X2dyb3VwXG4vLyAtIG5vIG5lZWQgdG8gc2VuZCByZXF1ZXN0cywgaWYgc2Vydl9ncm91cCBpcyBjaGFuZ2VkXG4vLyAgIGl0IGlzIHBvc3NpYmxlIHNpdHVhdGlvblxuLy8gLSBhIGNsaWVudCBjYW4gdmlldyBub3Qgb25seSBjb3VudGVycyxcbi8vICAgYnV0IHJ1YnJpYyBuYW1lc1xuLy8gb3ZlcmZsb3cgaW5uZXIgam9pbiB3aXRoIHJ1YnJpYyBuYW1lczogYnV0XG4vLyAgIGl0IGlzIHRhc2sgb2YgbWlkZGxlLWRiXG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciByZXBvRGF0YSAgPSB7XG4gICAgcG9zOjBcbiAgfTtcbiAgXG4gIHZhciB4cG8gPSBmdW5jdGlvbigpe1xuICAgIHJldHVybiB7XG4gICAgICAvLyBzZXRQb3NpdGlvbiBvbmx5IGZvciBzY3JvbGwgYmluZFxuICAgICAgc2V0UG9zOiBmdW5jdGlvbihwb3Mpe1xuXHRyZXBvRGF0YS5wb3MgPSBwb3M7XG5cdC8vXHRjb25zb2xlLmxvZyhyZXBvRGF0YS5wb3MpO1xuICAgICAgfSxcbiAgICAgIGdldERhdGE6IGZ1bmN0aW9uKCl7XG5cdHJldHVybiByZXBvRGF0YTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLnNjcm9sbFJlcG8nLCBbXSlcbiAgICAuZmFjdG9yeSgnc2Nyb2xsUmVwbycsIFt4cG9dKTtcbiAgXG59KSh3aW5kb3cuYW5ndWxhcik7XG4iLCIoZnVuY3Rpb24oYW5ndWxhciwgQVBQQ09ORikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHJlcG9EYXRhID0ge1xuICAgIGFycl9zZXJ2X2luZm86IFtdLFxuICAgIGxpbWl0OiBudWxsLFxuICAgIHN0YXJ0X2lkOiBudWxsLFxuICAgIG5leHRfc3RhcnRfaWQ6IG51bGwsXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgbmV3IHJlY29yZHMgZXhpc3Q/XG4gICAgICovXG4gICAgaXNfbW9yZV9leGlzdDogZmFsc2VcbiAgfTtcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHEsICRodHRwKSB7XG4gICAgdmFyIGNsZWFuQXJyU2VydkluZm8gPSBmdW5jdGlvbigpe1xuICAgICAgcmVwb0RhdGEuYXJyX3NlcnZfaW5mby5sZW5ndGggPSAwO1xuICAgICAgcmVwb0RhdGEubGltaXQgPSBudWxsO1xuICAgICAgcmVwb0RhdGEuc3RhcnRfaWQgPSBudWxsO1xuICAgICAgcmVwb0RhdGEubmV4dF9zdGFydF9pZCA9IG51bGw7XG4gICAgICByZXBvRGF0YS5pc19tb3JlX2V4aXN0ID0gZmFsc2U7XG4gICAgfTtcbiAgICBcbiAgICB2YXIgYWRkRGF0YSA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdpbnN0YScpO1xuICAgICAgLy8gY29uc29sZS5sb2cocik7XG4gICAgICAvLyByZXR1cm47XG4gICAgICB2YXIgY29udGVudCA9IHIuZGF0YTtcblxuICAgICAgY29udGVudC5hcnJfc2Vydl9pbmZvLmZvckVhY2goZnVuY3Rpb24odikge1xuXHRyZXBvRGF0YS5hcnJfc2Vydl9pbmZvLnB1c2godik7XG4gICAgICB9KTtcblxuICAgICAgLy8gYW5ndWxhciBleHRlbmQgZG9lc250IHdvcmsgZm9yIG5vbi1lbXB0eSBhcnJheXNcbiAgICAgIC8vIGxpa2UgWzEyMywyMzRdIHdpdGggWzU0NTZdIHdpbGwgYmUgWzU0NTYsIDIzNF1cbiAgICAgIC8vIGFuZ3VsYXIuZXh0ZW5kKHJlcG9EYXRhLmFycl9zZXJ2X2luZm8sXG4gICAgICAvLyBcdFx0ICAgICBjb250ZW50LmFycl9zZXJ2X2luZm8pO1xuXG4gICAgICAvLyBvdGhlciB2YXJpYW50IGFuZ3VsYXIubWVyZ2UgKG9ubHkgb24gdjEuNClcblxuICAgICAgcmVwb0RhdGEubGltaXQgPSBwYXJzZUludChjb250ZW50LmxpbWl0LCAxMCk7XG4gICAgICByZXBvRGF0YS5zdGFydF9pZCA9IGNvbnRlbnQuc3RhcnRfaWQ7XG4gICAgICByZXBvRGF0YS5uZXh0X3N0YXJ0X2lkID0gY29udGVudC5uZXh0X3N0YXJ0X2lkO1xuICAgICAgaWYgKHJlcG9EYXRhLmxpbWl0ID09PSBjb250ZW50LmFycl9zZXJ2X2luZm8ubGVuZ3RoKXtcblx0cmVwb0RhdGEuaXNfbW9yZV9leGlzdCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuXHRyZXBvRGF0YS5pc19tb3JlX2V4aXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfTtcbiAgIFxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIGFycl9tYXN0ZXJfc2VydiBcbiAgICAgKiAgIHdpdGggbWFzdGVyX3Byb2ZpbGVcbiAgICAgKiAgIGFuZCBvbmUgc2Vydl93b3JrIChlLmcuIGJlc3QpXG4gICAgICogICBhbmQgbWFzdGVyX3VzZXJcbiAgICAgKiAgIGZpbHRlcmVkIGJ5OlxuICAgICAqICAgLSBtYXN0ZXJfYWRkcmVzcy5nZW9fZGlzdHJpY3RfaWRcbiAgICAgKiAgIC0gbWFzdGVyX3NlcnYuaWRfc2Vydl9ydWJyaWMgYXJyYXlcbiAgICAgKiAgIC0gZ2VuZGVyLCBpc19vdXRfb25seS4uLiB2TmV4dFxuICAgICAqICAgc29ydGVkIGJ5XG4gICAgICogICAtIG1hc3Rlcl9wcm9maWxlLmxhc3RfbW9kaWZpZWQgKHRoZW4gYnkgaWQpXG4gICAgICogICAgIG9wdGlvbmFsbHkgYnkgcHJpY2VfZnJvbSwgcHJpY2VfdG8sIGV0Yy4uLi4gdk5leHRcbiAgICAgKiAgIGxpbWl0IGJ5XG4gICAgICogICAtIHN0YXJ0X2lkXG4gICAgICogICAtIGNvdW50XG4gICAgICovXG4gICAgdmFyIHJldHJpZXZlRGF0YSA9IGZ1bmN0aW9uKGlkc1NlcnZSdWJyaWMsXG5cdFx0XHRcdGdlb0Rpc3RyaWN0SWQpe1xuICAgICAgXG4gICAgICB2YXIgcmVxID0ge1xuXHRtZXRob2Q6IFwiR0VUXCIsXG5cdHVybDogQVBQQ09ORi5BUElNQVNfRU5EUE9JTlQgKyBcIi9tYXN0ZXIvZ2V0LXNlcnYtc2NvcGUyXCIsXG5cdHBhcmFtczoge1xuXHQgIGlkc19zZXJ2X3J1YnJpYzogaWRzU2VydlJ1YnJpYy5qb2luKCdfXycpLFxuXHQgIGdlb19kaXN0cmljdF9pZDogZ2VvRGlzdHJpY3RJZCxcblx0ICBpc19vdXRfb25seTogZmFsc2UsXG5cdCAgLy8gMCBvciBudWxsIG9yIHVuZGVmaW5lZCAtIGZvciBhIGZpcnN0IHJlcXVlc3Rcblx0ICBzdGFydF9pZDogcmVwb0RhdGEubmV4dF9zdGFydF9pZCxcblx0ICBsaW1pdDogMTZcblx0fVxuICAgICAgfTtcblxuICAgICAgLy8gVE9ETzogYWRkIHRvIGFycmF5LCBkZXBlbmRzIG9mIGxpbWl0ICsgb2Zmc2V0XG4gICAgICByZXR1cm4gJGh0dHAocmVxKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcblx0ICBpZiAoIXJlcG9EYXRhLm5leHRfc3RhcnRfaWQpIHtcblx0ICAgIC8vIHJlcGxhY2UgdG90YWwsIG9mZnNldCwgaXRlbXMgKDFzdCBsZXZlbFxuXHQgICAgLy8gICAgd2l0aG91dCBkZWVwIGNvcHkpXG5cdCAgICAvLyBjbGVhbiBwcmV2IHZhbHVlc1xuXHQgICAgY2xlYW5BcnJTZXJ2SW5mbygpO1x0ICAgXG5cdCAgfVxuXG5cdCAgYWRkRGF0YShyZXN1bHQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBnZXREYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZGF0YScsIGRhdGEpO1xuICAgICAgICByZXR1cm4gcmVwb0RhdGE7XG4gICAgICB9LFxuICAgICAgLy8gbG9hZCBtYXN0ZXJfc2VydmljZXNcbiAgICAgIHJldHJpZXZlRGF0YTogcmV0cmlldmVEYXRhLFxuICAgICAgY2xlYW5BcnJTZXJ2SW5mbzogY2xlYW5BcnJTZXJ2SW5mb1xuICAgIH07XG4gIH07XG5cbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLnNlcnZSZXBvJywgW10pXG5cbiAgICAuZmFjdG9yeSgnc2VydlJlcG8nLCBbXG4gICAgICAnJHEnLFxuICAgICAgJyRodHRwJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuXG59KHdpbmRvdy5hbmd1bGFyLCB3aW5kb3cuQVBQQ09ORikpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG4gIFxuICB2YXIgeHBvID0gZnVuY3Rpb24oKXtcbiAgICAvKipcbiAgICAgKiBTaXRlIGRhdGFcbiAgICAgKiAgICBubyBhcHAuaXNfaW5fcHJvZ3Jlc3MgZmxhZyBmb3IgZW50aXJlIGFwcGxpY2F0aW9uXG4gICAgICogICAgc29tZSBwYXJ0cyBjYW4gYmUgaW4gcHJvZ3Jlc3MsIHdoaWxlIG90aGVyIC0gbm90XG4gICAgICogICAgbGlrZSB3aWRnZXRzXG4gICAgICovXG4gICAgdmFyIHJlcG9EYXRhID0ge1xuICAgICAgdHRsOiAnRGVmYXVsdCcsXG4gICAgICBwcmV2X2hyZWY6ICcnXG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgc2V0VGl0bGU6IGZ1bmN0aW9uKHR0bCl7XG5cdHJlcG9EYXRhLnR0bCA9IHR0bDtcbiAgICAgIH0sXG4gICAgICBzZXRQcmV2SHJlZjogZnVuY3Rpb24odG1wSHJlZil7XG5cdHJlcG9EYXRhLnByZXZfaHJlZiA9IHRtcEhyZWY7XG4gICAgICB9LFxuICAgICAgZ2V0RGF0YTogZnVuY3Rpb24oKXtcblx0cmV0dXJuIHJlcG9EYXRhOyBcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoXCJteUFwcC5zaXRlUmVwb1wiLCBbXSlcbiAgICAuZmFjdG9yeSgnc2l0ZVJlcG8nLCBbeHBvXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcbiAgJ3VzZSBzdHJpY3QnOyAgXG5cbiAgdmFyIHBhcmVudEVsID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICBcbiAgZnVuY3Rpb24geHBvKCRtZERpYWxvZykge1xuXG4gICAgdmFyIG1zZyA9IGZ1bmN0aW9uKGJkeSkge1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuXHR0ZW1wbGF0ZVVybDogJ2FscnQvYWxydC50cGwuaHRtbCcsXG5cdGNvbnRyb2xsZXI6ICdBbHJ0Q29udHJvbGxlcicsXG5cdGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG5cdHBhcmVudDogcGFyZW50RWwsXG5cdGxvY2Fsczoge1xuXHQgIG1zZ19ib2R5OiBiZHlcblx0fVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIHZhciBhbHJ0ID0gJG1kRGlhbG9nLmFsZXJ0KClcbiAgICAgIC8vICAgICAgIC8vLnBhcmVudChhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSkpXG4gICAgICAvLyBcdCAgICAudGl0bGUoc3ViailcbiAgICAgIC8vIFx0ICAgIC5jb250ZW50KGJkeSlcbiAgICAgIC8vIFx0ICAgIC8vLmFyaWFMYWJlbCgnQWxlcnQgRGlhbG9nIERlbW8nKVxuICAgICAgLy8gXHQgICAgLm9rKCfQn9C+0L3Rj9GC0L3QvicpO1xuXG4gICAgICAvLyAvLyAgICAgIFx0Y2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZSxcblxuICAgICAgLy8gJG1kRGlhbG9nLnNob3coYWxydCk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogZnVuY3Rpb24oYmR5KSB7XG5cdG1zZyhiZHkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgfVxuXG4gIC8vIGh0dHA6Ly9wbG5rci5jby9lZGl0L0hLVEMxYT9wPXByZXZpZXdcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLm5vdGlmRmFjdG9yeScsIFtcbiAgICAnbmdNYXRlcmlhbCcsXG4gICAgJ215QXBwLkFscnRDb250cm9sbGVyJ1xuICBdKVxuXG4gIC5mYWN0b3J5KCdub3RpZkZhY3RvcnknLCBbXG4gICAgJyRtZERpYWxvZycsXG4gICAgeHBvXG4gIF0pO1xuXG59KHdpbmRvdy5hbmd1bGFyKSk7XG4iLCIoZnVuY3Rpb24oYW5ndWxhcil7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHNjb3BlLFxuXHRcdCAgICAgJG1kRGlhbG9nLFxuXHRcdCAgICAgbWFzdGVyUmVwbyxcblx0XHQgICAgIG1hc3Rlcl9wcm9maWxlX2lkKXtcbiAgICBcbiAgICAvLyAgICBjb25zb2xlLmxvZyhtYXN0ZXJfcHJvZmlsZV9pZCk7XG4gICAgLy8gICAgJHNjb3BlLmZpcm1fZGF0YSA9IGZpcm1JdGVtUmVwby5nZXREYXRhKCk7XG5cbiAgICAkc2NvcGUuaGlkZURpYWxvZyA9IGZ1bmN0aW9uKCl7XG4gICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICAgIH07XG5cbiAgICAvLyAkc2NvcGUuZG9TZWNvbmRhcnkgPSBmdW5jdGlvbigpe1xuICAgIC8vICAgY29uc29sZS5sb2coJ2FzZGYnKTtcbiAgICAvLyB9O1xuXG4gICAgJHNjb3BlLmlzX2xvYWRlZCA9IGZhbHNlO1xuICAgIFxuICAgIG1hc3RlclJlcG8ucmV0cmlldmVNYXN0ZXIobWFzdGVyX3Byb2ZpbGVfaWQpXG4gICAgICAudGhlbihmdW5jdGlvbigpe1xuXHQkc2NvcGUubWFzdGVyX2RhdGEgPSBtYXN0ZXJSZXBvLmdldERhdGEoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShmdW5jdGlvbigpe1xuXHQkc2NvcGUuaXNfbG9hZGVkID0gdHJ1ZTtcbiAgICAgIH0pO1xuXG4gICAgLy8gXHQgIC8vIGRvIG5vdCBvcGVuIGEgd2luZG93LCBpZiBhbiBlcnJvclxuICAgIC8vIFx0ICBub3RpZkZhY3RvcnkuZXJyb3IocmVhc29uKTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5NYXN0ZXJEZXRhaWxDb250cm9sbGVyJywgW1xuICAgIC8vICdteUFwcC5maXJtSXRlbVJlcG8nXG4gICAgJ215QXBwLm1hc3RlclJlcG8nXG4gIF0pXG4gICAgLmNvbnRyb2xsZXIoJ01hc3RlckRldGFpbENvbnRyb2xsZXInLCBbXG4gICAgICAnJHNjb3BlJyxcbiAgICAgICckbWREaWFsb2cnLFxuICAgICAgJ21hc3RlclJlcG8nLFxuICAgICAgLy8gaW5qZWN0ZWQgZnJvbSBydWJyaWNfaXRlbSBjb250cm9sbGVyXG4gICAgICAnbWFzdGVyX3Byb2ZpbGVfaWQnLFxuICAgICAgeHBvXG4gICAgXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG4gIFxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHNjb3BlLFxuXHRcdCAgICAgJHN0YXRlLFxuXHRcdCAgICAgbm90aWZGYWN0b3J5LFxuXHRcdCAgICAgcnVicmljUmVwbyxcblx0XHQgICAgIHNpdGVSZXBvLFxuXHRcdCAgICAgcV9ydWJyaWNfaWQpe1xuXG4gICAgc2l0ZVJlcG8uc2V0UHJldkhyZWYoXG4gICAgICAkc3RhdGUuaHJlZignYnl0LmFnZ2xvSXRlbS5zcGVjTGlzdCcsIHtcbiAgICBcdFwiYWdnbG9faW50ZXJfY29kZVwiOiAkc2NvcGUuY3VyX2FnZ2xvLmludGVyX2NvZGVcbiAgICAgIH0pKTtcblxuICAgIHNpdGVSZXBvLnNldFRpdGxlKCRzY29wZS5jdXJfc3BlYy5uYW1lKTtcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdGVkIHJ1YnJpYyB3aXRoIGlkIGxpa2UgaGFpckV4dCwgaGFpckN1dFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogY291bnRfbWFzdGVyX3NlcnY6IDEyMyxcbiAgICAgKiBzZXJ2X3J1YnJpYzoge31cbiAgICAgKi9cbiAgICAkc2NvcGUuY3VyX3J1YnJpY19zdGF0ID0gcnVicmljUmVwb1xuICAgICAgLmNhbGNTZXJ2UnVicmljU3RhdCgkc2NvcGUuY3VyX3NwZWMsIHFfcnVicmljX2lkKTsgICBcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5SdWJyaWNJdGVtQ29udHJvbGxlcicsIFtcbiAgICAnbXlBcHAuZHJjdCcsXG4gICAgJ215QXBwLlNlcnZMaXN0Q29udHJvbGxlcicsXG4gICAgJ215QXBwLm5vdGlmRmFjdG9yeScsXG4gICAgJ215QXBwLnJ1YnJpY1JlcG8nLFxuICAgICdteUFwcC5zaXRlUmVwbydcbiAgXSlcblxuICAgIC5jb250cm9sbGVyKCdSdWJyaWNJdGVtQ29udHJvbGxlcicsIFtcbiAgICAgICckc2NvcGUnLFxuICAgICAgJyRzdGF0ZScsXG4gICAgICAnbm90aWZGYWN0b3J5JyxcbiAgICAgICdydWJyaWNSZXBvJyxcbiAgICAgICdzaXRlUmVwbycsXG4gICAgICAncV9ydWJyaWNfaWQnLFxuICAgICAgeHBvXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuXG4gICAgLy8gaWYgKCRzY29wZS5jdXJfcnVicmljX3N0YXQpe1xuICAgIC8vICAgLy8gY2FsY3VsYXRlIHNlbGVjdGVkIGluZGV4XG4gICAgLy8gICAkc2NvcGUuY3VyX3NwZWMuYXJyX3NlcnZfcnVicmljX3N0YXQuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmQpe1xuICAgIC8vICAgXHRpZiAoaXRlbS5zZXJ2X3J1YnJpYy5pZCA9PT0gJHNjb3BlLmN1cl9ydWJyaWNfc3RhdC5zZXJ2X3J1YnJpYy5pZCl7XG4gICAgLy8gICBcdCAgJHNjb3BlLnNsY19ydWJyaWNfaW5kZXggPSBpbmQgKyAxO1xuICAgIC8vICAgXHR9XG4gICAgLy8gICB9KTtcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgJHNjb3BlLnNsY19ydWJyaWNfaW5kZXggPSAwO1xuICAgIC8vIH1cbiIsIihmdW5jdGlvbihhbmd1bGFyKXtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBwYXJlbnRFbCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgXG4gIHZhciB4cG8gPSBmdW5jdGlvbigkc2NvcGUsXG5cdFx0ICAgICAkc3RhdGUsXG5cdFx0ICAgICAkbWREaWFsb2csXG5cdFx0ICAgICBub3RpZkZhY3RvcnksXG5cdFx0ICAgICBzZXJ2UmVwbyl7XG5cbiAgICAvLyAkc2NvcGUucGFnZV91cmwgPSAkc3RhdGUuaHJlZignYnl0LmFnZ2xvSXRlbS5zcGVjSXRlbS5ydWJyaWNJdGVtJyx7XG4gICAgLy8gICBcImFnZ2xvX2ludGVyX2NvZGVcIjogJHNjb3BlLmN1cl9hZ2dsby5pbnRlcl9jb2RlLFxuICAgIC8vICAgXCJzcGVjX2lkXCI6ICRzY29wZS5jdXJfc3BlYy5pZCxcbiAgICAvLyAgIFwicnVicmljX2lkXCI6ICRzY29wZS5jdXJfcnVicmljX3N0YXQuc2Vydl9ydWJyaWMuaWRcbiAgICAvLyB9KTtcbiAgICBcbiAgICAvLyBjb25zb2xlLmxvZygncV9ydWJyaWNfaWQnLCAkc2NvcGUuY3VyX3J1YnJpY19zdGF0LnNlcnZfcnVicmljLmlkKTtcbiAgICAvLyBjb25zb2xlLmxvZygkc2NvcGUuY3VyX3J1YnJpY19zdGF0KTsgICBcbiAgICBcbiAgICAvLyBmcm9tIHNlcnZpY2UgbGlzdCBieSBtYXN0ZXJzICAgIFxuICAgIC8vIEEgbWFzdGVyIGRvIG5vdCBkZXBlbmRzIG9uIHNlbGVjdGVkIHJ1YnJpYyxcbiAgICAvLyAgIHNlbGVjdGVkIGNpdHksIGV0YzoganVzdCBpbmZvIGFib3V0IG1hc3RlclxuICAgICRzY29wZS5zaG93TWFzdGVySW5mbyA9IGZ1bmN0aW9uKGV2LCBtYXN0ZXJQcm9maWxlSWQpe1xuICAgICAgJG1kRGlhbG9nLnNob3coe1xuXHRjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlLFxuXHQvL3ByZXNlcnZlU2NvcGU6IHRydWUsXG5cdHBhcmVudDogcGFyZW50RWwsXG5cdGNvbnRyb2xsZXI6ICdNYXN0ZXJEZXRhaWxDb250cm9sbGVyJyxcblx0dGVtcGxhdGVVcmw6ICdhZ2dsby1pdGVtL3NwZWMtaXRlbS9ydWJyaWMtaXRlbS9tYXN0ZXItZGV0YWlsLnRwbC5odG1sJyxcblx0Ly8gaGlkZSBkaWFsb2cgaW4gdGhpcyBldi5wb2ludCAoYW5pbWF0aW9uKVxuXHR0YXJnZXRFdmVudDogZXYsXG5cdGxvY2Fsczoge1xuXHQgIG1hc3Rlcl9wcm9maWxlX2lkOiBtYXN0ZXJQcm9maWxlSWRcblx0fVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBcbiAgICAkc2NvcGUuJG9uKCdzZXJ2TGlzdFJlcGVhdEZpbmlzaGVkJyxcblx0ICAgICAgIGZ1bmN0aW9uKCkgeyAvLyBldmVudFxuXHRcdCAvL2NvbnNvbGUubG9nKCdzZXJ2TGlzdFJlcGVhdEZpbmlzaGVkJyk7XG5cdFx0ICRzY29wZS5odG1sUmVhZHkoKTtcblx0XHQgLy9jb25zb2xlLmxvZygnbmdSZicsIGUpO1xuXHRcdCAvL3lvdSBhbHNvIGdldCB0aGUgYWN0dWFsIGV2ZW50IG9iamVjdFxuXHRcdCAvL2RvIHN0dWZmLCBleGVjdXRlIGZ1bmN0aW9ucyAtLSB3aGF0ZXZlci4uLlxuXHQgICAgICAgfSk7ICAgXG5cbiAgICAkc2NvcGUucGx1c0RhdGEgPSBmdW5jdGlvbigpe1xuICAgICAgJHNjb3BlLmlzX21vcmVfbG9hZGVkID0gZmFsc2U7XG4gICAgICBzZXJ2UmVwby5yZXRyaWV2ZURhdGEoWyRzY29wZS5jdXJfcnVicmljX3N0YXQuc2Vydl9ydWJyaWMuaWRdLCAkc2NvcGUuY3VyX2FnZ2xvLmlkKVxuXHQuZmluYWxseShmdW5jdGlvbigpe1xuXHQgICRzY29wZS5pc19tb3JlX2xvYWRlZCA9IHRydWU7XG5cdH0pO1xuICAgIH07XG4gICAgXG4gICAgLy9hdXRvIGNsZWFuaW5nIChyZXBsYWNpbmcgZHVyaW5nIG5ldyBzZXQpXG4gICAgc2VydlJlcG8uY2xlYW5BcnJTZXJ2SW5mbygpO1xuXG4gICAgLyoqXG4gICAgICogQXR0YWNoIHJlcG8gZGF0YSB0byB0aGlzIHZhbHVlXG4gICAgICogICBMYW5jZXIgcmVwbyB1cGRhdGVkIGV2ZXJ5IHRpbWUsIHdoZW4gYSB1c2VyIGNoYW5nZXNcbiAgICAgKiAgIHNsY19hcnJfc2Vydl9ydWJyaWMsIHNlbGVjdGluZyBvciB1bnNlbGVjdGluZ1xuICAgICAqICAgcnVicmljcyAoZnJvbSBsZWZ0IG1lbnUpXG4gICAgICovXG4gICAgJHNjb3BlLnNlcnZfZGF0YSA9IHNlcnZSZXBvLmdldERhdGEoKTsgICBcbiAgICBcbiAgICBzZXJ2UmVwby5yZXRyaWV2ZURhdGEoWyRzY29wZS5jdXJfcnVicmljX3N0YXQuc2Vydl9ydWJyaWMuaWRdLFxuXHRcdFx0ICAkc2NvcGUuY3VyX2FnZ2xvLmlkKVxuICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcblx0Ly8gZXhlY3V0ZXMgaW4gc2Vydkxpc3RSZXBlYXRGaW5pc2hlZCBldmVudFxuXHQvLyRzY29wZS5odG1sUmVhZHkoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcdFxuXHRub3RpZkZhY3RvcnkuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQt9Cw0LPRgNGD0LfQutC4INGD0YHQu9GD0LMuINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7Qt9C20LUuJyk7XG5cdGNvbnNvbGUubG9nKCdyZXRyaWV2ZVNlcnZFcnJvcicsIHJlYXNvbik7XG5cdCRzY29wZS5odG1sUmVhZHkoKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShmdW5jdGlvbigpe1xuXHQkc2NvcGUuaXNfc2Vydl9sb2FkZWQgPSB0cnVlO1xuXHQkc2NvcGUuaXNfbW9yZV9sb2FkZWQgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgXG4gICAgLy8gYXV0byBzY3JvbGxpbmdcbiAgICAvLyAgICAgICRzY29wZS5zY3JvbGxUb3AoKTtcbiAgfTtcbiAgXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5TZXJ2TGlzdENvbnRyb2xsZXInLCBbXG4gICAgJ215QXBwLmRyY3QnLFxuICAgICdteUFwcC5NYXN0ZXJEZXRhaWxDb250cm9sbGVyJyxcbiAgICAnbXlBcHAubm90aWZGYWN0b3J5JyxcbiAgICAnbXlBcHAuc2VydlJlcG8nXG4gIF0pXG5cbiAgICAuY29udHJvbGxlcignU2Vydkxpc3RDb250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJHN0YXRlJyxcbiAgICAgICckbWREaWFsb2cnLFxuICAgICAgJ25vdGlmRmFjdG9yeScsXG4gICAgICAnc2VydlJlcG8nLFxuLy8gICAgICAncV9ydWJyaWNfaWQnLFxuICAgICAgeHBvXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiKGZ1bmN0aW9uKGFuZ3VsYXIpe1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHhwbyA9IGZ1bmN0aW9uKCRzY29wZSwgJG1kRGlhbG9nLCBmaXJtSXRlbVJlcG8pe1xuICAgICRzY29wZS5maXJtX2RhdGEgPSBmaXJtSXRlbVJlcG8uZ2V0RGF0YSgpO1xuXG4gICAgJHNjb3BlLmhpZGVEaWFsb2cgPSBmdW5jdGlvbigpe1xuICAgICAgJG1kRGlhbG9nLmhpZGUoKTtcbiAgICB9O1xuICB9O1xuICBcbiAgYW5ndWxhci5tb2R1bGUoJ215QXBwLkZpcm1EZXRhaWxDb250cm9sbGVyJywgW1xuICAgICdteUFwcC5maXJtSXRlbVJlcG8nXG4gIF0pXG4gICAgLmNvbnRyb2xsZXIoJ0Zpcm1EZXRhaWxDb250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJG1kRGlhbG9nJyxcbiAgICAgICdmaXJtSXRlbVJlcG8nLFxuICAgICAgeHBvXG4gICAgXSk7XG4gIFxufSkod2luZG93LmFuZ3VsYXIpO1xuIiwiLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdG9tYmF0b3NzYWxzL2FuZ3VsYXItbGVhZmxldC1kaXJlY3RpdmVcbiAqIGh0dHA6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS5odG1sXG4gKiBodHRwOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UuaHRtbCNnZW9qc29uLXNldHN0eWxlXG4gKiBodHRwOi8vbGVhZmxldGpzLmNvbS9leGFtcGxlcy9tb2JpbGUuaHRtbFxuICovXG4oZnVuY3Rpb24oYW5ndWxhciwgbGZsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDb3VsZG4ndCBhdXRvZGV0ZWN0IEwuSWNvbi5EZWZhdWx0LmltYWdlUGF0aFxuICAvLyAuLyAtIHRoaXMgcmVsYXRpdmUgcGF0aCBkb2Vzbid0IHdvcmsgb24gbW9iaWxlIChmb3IganMgYXR0YWNoKVxuICBsZmwuSWNvbi5EZWZhdWx0LmltYWdlUGF0aCA9ICcuL2ltYWdlcy8nO1xuXG4gIHZhciBwYXJlbnRFbCA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5KTtcblxuICB2YXIgeHBvID0gZnVuY3Rpb24oJHNjb3BlLFxuXHRcdCAgICAgJHN0YXRlLFxuXHRcdCAgICAgJG1kRGlhbG9nLFxuXHRcdCAgICAgbm90aWZGYWN0b3J5LFxuXHRcdCAgICAgaHByRmFjdG9yeSxcblx0XHQgICAgIGZpcm1MaXN0UmVwbyxcblx0XHQgICAgIHBlcm1SZXBvLFxuXHRcdCAgICAgbG9jUmVwbyxcblx0XHQgICAgIGFnZ2xvUmVwbyxcblx0XHQgICAgIHNpdGVSZXBvLFxuXHRcdCAgICAgZmlybUl0ZW1SZXBvKSB7XG5cbiAgICBzaXRlUmVwby5zZXRQcmV2SHJlZihcbiAgICAgICRzdGF0ZS5ocmVmKCdieXQuYWdnbG9JdGVtLnNwZWNMaXN0Jywge1xuICAgIFx0XCJhZ2dsb19pbnRlcl9jb2RlXCI6ICRzY29wZS5jdXJfYWdnbG8uaW50ZXJfY29kZVxuICAgICAgfSkpO1xuICAgIFxuICAgIHNpdGVSZXBvLnNldFRpdGxlKCRzY29wZS5jdXJfc3BlYy5uYW1lKTtcbiAgICBcbiAgICAkc2NvcGUuZmlybV9saXN0X2RhdGEgPSBmaXJtTGlzdFJlcG8uZ2V0RGF0YSgpO1xuICAgIFxuICAgICRzY29wZS5tYXBfZGVmYXVsdHMgPSB7XG4gICAgICAvLyBodHRwcyBkb2VzbnQgd29ya3NcbiAgICAgIHRpbGVMYXllcjogXCJodHRwczovLy8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nXCIsXG4gICAgICB0aWxlTGF5ZXJPcHRpb25zOiB7XG4gICAgICAgIC8vb3BhY2l0eTogMC45LFxuICAgICAgICBkZXRlY3RSZXRpbmE6IHRydWUsXG4gICAgICAgIHJldXNlVGlsZXM6IHRydWUsXG5cdGF0dHJpYnV0aW9uOiAnwqkgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHA6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzIHwgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHA6Ly9hcGkuMmdpcy5ydS9cIj7Qn9GA0LXQtNC+0YHRgtCw0LLQu9C10L3QviAy0JPQmNChPC9hPidcbiAgICAgIH0sXG4gICAgICB6b29tQ29udHJvbFBvc2l0aW9uOiAndG9wbGVmdCdcbiAgICAgIC8vem9vbUNvbnRyb2w6IGZhbHNlXG4gICAgICAvLyBpY29uOiB7XG4gICAgICAvLyAgIHVybDogJ2h0dHA6Ly9jZG4ubGVhZmxldGpzLmNvbS9sZWFmbGV0LTAuNi40L2ltYWdlcy9tYXJrZXItaWNvbi5wbmcnLFxuICAgICAgLy8gfSxcbiAgICAgIC8vbWF4Wm9vbTogMTdcbiAgICAgIC8vIHBhdGg6IHtcbiAgICAgIC8vICAgd2VpZ2h0OiAxMCxcbiAgICAgIC8vICAgY29sb3I6ICcjODAwMDAwJyxcbiAgICAgIC8vICAgb3BhY2l0eTogMVxuICAgICAgLy8gfVxuICAgIH07XG5cbiAgICAvLyBodHRwOi8vdG9tYmF0b3NzYWxzLmdpdGh1Yi5pby9hbmd1bGFyLWxlYWZsZXQtZGlyZWN0aXZlLyMhL2V4YW1wbGVzL2V2ZW50c1xuICAgICRzY29wZS5tYXBfZXZlbnRzID0ge1xuICAgICAgbWFwOiB7XG4gICAgICAgIC8vIHpvb21lbmQgZXhlY3V0ZXMgbW92ZWVuZFxuXHQvLyAgIChhIG1hcCBpcyBtb3Zlcywgd2hlbiBhIHpvb20gdmFsdWUgY2hhbmdlZClcbiAgICAgICAgLy8gbG9hZCBleGVjdXRlcyBtb3ZlZW5kXG4gICAgICAgIC8vIG90aGVyIGV2ZW50czpcblx0Ly8gICBodHRwOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UuaHRtbCNtYXAtZXZlbnRzXG4gICAgICAgIGVuYWJsZTogWydtb3ZlZW5kJ10sXG4gICAgICAgIGxvZ2ljOiAnZW1pdCdcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgJHNjb3BlLm1hcF9wYXRocyA9IHtcbiAgICAgIHAxOiB7XG4gICAgICAgIC8vIGh0dHA6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS5odG1sI3BhdGgtb3B0aW9uc1xuICAgICAgICB3ZWlnaHQ6IDIsIC8vIGJvcmRlcnMgd2lkdGhcbiAgICAgICAgc3Ryb2tlOiB0cnVlLCAvLyBib3JkZXJcbiAgICAgICAgb3BhY2l0eTogMC41LCAvL2JvcmRlciBvcGFjaXR5XG4gICAgICAgIGZpbGxPcGFjaXR5OiAwLFxuICAgICAgICBjbGlja2FibGU6IGZhbHNlLCAvLyBubyBldmVudHNcbiAgICAgICAgY29sb3I6ICdncmVlbicsXG4gICAgICAgIC8vb3BhY2l0eTogMCwgLy8gZG9lc250IHdvcmtcblx0Ly8gc3RhcnQgcG9zaXRpb246IG5vIG1hdHRlclxuICAgICAgICBsYXRsbmdzOiBbNDAsIDQwXSxcblx0Ly9bNDMuNjA3ODk3NjM2NTU5MjEsIDM5Ljc0NDYyOTg1OTkyNDMxNl0sXG4gICAgICAgIC8vINC/0L4g0L/QvtC70YPRh9C10L3QvdGL0Lwg0LrQvtC80L/QsNC90LjRj9C8LCDQsdGA0LDRgtGMINC/0LXRgNCy0YvQtSA1MCDQsdC70LjQttCw0LnRiNC40YVcbiAgICAgICAgLy8g0Lgg0YHRg9C20LDRgtGMINGA0LDQtNC40YPRgSDQtNC+INGB0LDQvNC+0LPQviDQtNCw0LvRjNC90LXQs9C+XG4gICAgICAgIC8vINCV0YHQu9C4INC80LXQvdC10LUgNTAt0YLQuCwg0YLQviDQvtGB0YLQsNCy0LvRj9GC0Ywg0LrQsNC6INC10YHRgtGMXG4gICAgICAgIC8vINCf0L7QutCw0LfRi9Cy0LDRgtGMINCx0L7Qu9C10LUgNTAt0YLQuCDQvdC1INC90YPQttC90L5cblx0Ly8gICAgKNC+0LHRidC10LUg0YfQuNGB0LvQviDQvNC+0LbQvdC+INC+0YLQtNC10LvRjNC90L4pXG4gICAgICAgIHJhZGl1czogMzAwMCwgLy8gbWV0ZXJzXG4gICAgICAgIHR5cGU6ICdjaXJjbGUnXG4gICAgICB9XG4gICAgICAvLyBwMjoge1xuICAgICAgLy8gICB3ZWlnaHQ6IDAsIC8vIG5vIGJvcmRlcnNcbiAgICAgIC8vICAgY29sb3I6ICdibHVlJyxcbiAgICAgIC8vICAgLy9vcGFjaXR5OiAwLCAvLyBkb2VzbnQgd29ya1xuICAgICAgLy8gICBsYXRsbmdzOiBbNDMuNjA3ODk3NjM2NTU5MjEsIDM5Ljc0NDYyOTg1OTkyNDMxNl0sXG4gICAgICAvLyAgIHJhZGl1czogMTAsIC8vIG1ldGVyc1xuICAgICAgLy8gICB0eXBlOiAnY2lyY2xlJ1xuICAgICAgLy8gfVxuICAgIH07XG5cbiAgICAvLyBQb3NpdGlvbiBvZiB0aGUgbWFwIGFmdGVyIG1vdmluZyAoem9vbWluZylcbiAgICAvLyBNb3ZpbmcgKHpvb21pbmcpIGRvZXMgbm90IGNoYW5nZSBnbG9iYWwgY3VycmVudCBwb3NpdGlvblxuICAgICRzY29wZS56dXJwb3MgPSB7XG4gICAgICBsbmc6IG51bGwsXG4gICAgICBsYXQ6IG51bGwsXG4gICAgICB6b29tOiBudWxsXG4gICAgfTtcblxuICAgIHZhciBpc19maXJzdF9tb3ZlZW5kID0gdHJ1ZTtcblxuICAgIHZhciBjYmtDYXRjaFJldHJpZXZlID0gZnVuY3Rpb24oKXtcbiAgICAgIG5vdGlmRmFjdG9yeS5lcnJvcign0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0YHQsNC70L7QvdC+0LIuINCf0L7Qv9GA0L7QsdGD0LnRgtC1INC/0L7Qt9C20LUuJyk7ICAgXG4gICAgfTtcblxuICAgIHZhciBjYmtGaW5hbGx5UmV0cmlldmUgPSBmdW5jdGlvbihpc0ZpcnN0TW92ZUVuZCl7XG4gICAgICBpZiAoaXNGaXJzdE1vdmVFbmQpe1xuXHQkc2NvcGUuaHRtbFJlYWR5KCk7XG4gICAgICB9ICAgICAgXG4gICAgfTtcbiAgICBcbiAgICAvLyBMaXN0ZW4gZXZlbnRzIGZyb20gYSBtYXBcbiAgICAkc2NvcGUuJG9uKCdsZWFmbGV0RGlyZWN0aXZlTWFwLm1vdmVlbmQnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgdmFyIGNudHIgPSBldmVudC50YXJnZXRTY29wZS5jZW50ZXI7XG5cbiAgICAgIHZhciBpc0Vub3VnaCA9IHRydWU7XG5cbiAgICAgIGlmICgkc2NvcGUuenVycG9zLmxuZykge1xuICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLm1heChcbiAgICAgICAgICBNYXRoLmFicyhjbnRyLmxuZyAtICRzY29wZS56dXJwb3MubG5nKSxcbiAgICAgICAgICBNYXRoLmFicyhjbnRyLmxhdCAtICRzY29wZS56dXJwb3MubGF0KSk7XG4gICAgICAgIC8vMC4wMDE1IC0gbm9ybWFsICAgXG5cbiAgICAgICAgaWYgKGRlbHRhIDwgMC4wMDE1KSB7XG4gICAgICAgICAgaXNFbm91Z2ggPSBmYWxzZTtcbiAgICAgICAgICBjb25zb2xlLmxvZygnZGVsdGEnLCBkZWx0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJHNjb3BlLnp1cnBvcy5sbmcgPSBjbnRyLmxuZztcbiAgICAgICRzY29wZS56dXJwb3MubGF0ID0gY250ci5sYXQ7XG4gICAgICAkc2NvcGUuenVycG9zLnpvb20gPSBjbnRyLnpvb207XG5cbiAgICAgIGlmIChjbnRyLnpvb20gPCAxNCkge1xuXHRmaXJtTGlzdFJlcG8uY2xlYXJEYXRhKCk7XG4gICAgICAgICRzY29wZS5tYXBfcGF0aHMucDEucmFkaXVzID0gMDsgLy8gaGlkZSBhIGNpY3JsZVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChpc0Vub3VnaCkge1xuXHQgIHZhciB0bXBTbGNTZXJ2R3JvdXBJZCA9ICRzY29wZS5jdXJfc3BlYy5pZDtcblx0ICBpZiAoIXRtcFNsY1NlcnZHcm91cElkKXtcblx0ICAgIG5vdGlmRmFjdG9yeS5lcnJvcign0JTQu9GPINC/0L7QutCw0LfQsCDRgdCw0LvQvtC90L7QsiDQvdC10L7QsdGF0L7QtNC40LzQviDQstGL0LHRgNCw0YLRjCDRgNGD0LHRgNC40LrRgycpO1xuXHQgICAgXG5cdCAgfVxuXHQgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbG9hZCBuZXcgY29tcGFuaWVzLCBpZiBtb3ZlZCBtb3JlIHRoYW4gMTAwIG1ldGVyc1xuXHQgICAgZmlybUxpc3RSZXBvLnJldHJpZXZlRGF0YSgkc2NvcGUuenVycG9zLmxuZyxcblx0XHRcdFx0ICAgICAgJHNjb3BlLnp1cnBvcy5sYXQsXG5cdFx0XHRcdCAgICAgIHRtcFNsY1NlcnZHcm91cElkKVxuXHQgICAgLy8gdGhlbiBub3RoaW5nOiBzaG93IGF1dG9tYXRpY2FsbHlcblx0ICAgIC8vIC50aGVuKGFuZ3VsYXIuYmluZChudWxsLCBjYmtUaGVuUmV0cmlldmUpKVxuXHQgICAgICAuY2F0Y2goYW5ndWxhci5iaW5kKG51bGwsIGNia0NhdGNoUmV0cmlldmUpKVxuXHQgICAgICAuZmluYWxseShhbmd1bGFyLmJpbmQobnVsbCxcblx0XHRcdFx0ICAgIGNia0ZpbmFsbHlSZXRyaWV2ZSxcblx0XHRcdFx0ICAgaXNfZmlyc3RfbW92ZWVuZCkpO1xuXHQgICAgXG5cdCAgICBcbiAgICAgICAgICAgICRzY29wZS5tYXBfcGF0aHMucDEubGF0bG5ncyA9IFtjbnRyLmxhdCwgY250ci5sbmddO1xuICAgICAgICAgICAgJHNjb3BlLm1hcF9wYXRocy5wMS5yYWRpdXMgPSAzMDAwO1xuXHQgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkbyBub3QgbW92ZSBjaWNybGUgYW5kIG1hcmtlcnNcbiAgICAgIH1cbiAgICAgIGlzX2ZpcnN0X21vdmVlbmQgPSBmYWxzZTtcbiAgICB9KTtcblxuICAgIHZhciBjdXJfcG9wdXAgPSBudWxsO1xuICAgIFxuICAgICRzY29wZS4kb24oJ2xlYWZsZXREaXJlY3RpdmVNYXJrZXIucG9wdXBvcGVuJywgZnVuY3Rpb24oZSwgYXJncykge1xuICAgICAgY3VyX3BvcHVwID0gYXJncy5sZWFmbGV0RXZlbnQucG9wdXAuX3NvdXJjZTtcbiAgICAgIC8vIEFyZ3Mgd2lsbCBjb250YWluIHRoZSBtYXJrZXIgbmFtZVxuICAgICAgLy8gICBhbmQgb3RoZXIgcmVsZXZhbnQgaW5mb3JtYXRpb25cbiAgICAgIC8vICAgICAgY29uc29sZS5sb2coXCJMZWFmbGV0IFBvcHVwIE9wZW5cIiwgZSwgYXJncyk7XG4gICAgfSk7XG4gICAgXG4gICAgdmFyIGNia0xvYWRGaXJtID0gZnVuY3Rpb24oZXYpIHsgICAgIFxuXG4gICAgICAkbWREaWFsb2cuc2hvdyh7XG5cdGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG5cdC8vcHJlc2VydmVTY29wZTogdHJ1ZSxcblx0cGFyZW50OiBwYXJlbnRFbCxcblx0Y29udHJvbGxlcjogJ0Zpcm1EZXRhaWxDb250cm9sbGVyJyxcblx0dGVtcGxhdGVVcmw6ICdhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L2Zpcm0tZGV0YWlsLnRwbC5odG1sJyxcblx0Ly8gaGlkZSBkaWFsb2cgaW4gdGhpcyBldi5wb2ludCAoYW5pbWF0aW9uKVxuXHR0YXJnZXRFdmVudDogZXYsXG5cdG9uQ29tcGxldGU6IGZ1bmN0aW9uKCl7XG5cdCAgaWYgKGN1cl9wb3B1cCl7XG4gICAgICBcdCAgICBjdXJfcG9wdXAuY2xvc2VQb3B1cCgpO1xuXHQgIH1cblx0fVxuICAgICAgfSk7XG5cdC8vIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gXHQvL1x0ICAkc2NvcGUuYWxlcnQgPSAnWW91IHNhaWQgdGhlIGluZm9ybWF0aW9uIHdhcyBcIicgKyBhbnN3ZXIgKyAnXCIuJztcbiAgICAgIC8vIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gXHQvLyRzY29wZS5hbGVydCA9ICdZb3UgY2FuY2VsbGVkIHRoZSBkaWFsb2cuJztcbiAgICAgIC8vIH0pO1xuICAgICAgXG4gICAgfTtcblxuICAgIHZhciBjYmtMb2FkRmlybUVyciA9IGZ1bmN0aW9uKGVyckZpcm0pIHtcbiAgICAgIG5vdGlmRmFjdG9yeS5lcnJvcign0J7RiNC40LHQutCwINC30LDQs9GA0YPQt9C60Lgg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0LrQvtC80L/QsNC90LjQuC4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0L/QvtC30LbQtS4nKTtcbiAgICAgIGNvbnNvbGUubG9nKCdlcnJGaXJtJywgZXJyRmlybSk7XG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuc2hvd0Zpcm1JbmZvID0gZnVuY3Rpb24oZXYsIGlkLCBmaWxpYWxIYXNoKSB7XG4gICAgICBmaXJtSXRlbVJlcG8ucmV0cmlldmVEYXRhKGlkLCBmaWxpYWxIYXNoKVxuICAgICAgICAudGhlbihhbmd1bGFyLmJpbmQobnVsbCwgY2JrTG9hZEZpcm0sIGV2KSxcblx0ICAgICAgY2JrTG9hZEZpcm1FcnIpO1xuICAgIH07XG5cbiAgICAvLyAxLiBnZXQgY3VycmVudCBhZ2dsb21lcmF0aW9uXG4gICAgLy8gMi4gZ2V0IHBlcm1pc3Npb25cbiAgICAvLyAyLjEgaWYgcGVybSA9PT0gdHJ1ZVxuICAgIC8vICAgICBpZiBhdXRvbG9hZGVkID09PSB0cnVlXG4gICAgLy8gICAgIGlmIGF1dG9jb29yZHMgaW4gY3VyX2FnZ2xvLnBvbHlnb25cbiAgICAvLyAgICAgcmV0dXJuIGF1dG9jb29yZHNcbiAgICAvLyBlbHNlXG4gICAgLy8gICAgIHJldHVybiBhZ2dsb19jZW50ZXJfY29vcmRzXG5cbiAgICAvKipcbiAgICAgKiBQZXJtaXNzaW9uIGRhdGE6IHN0b3JlcyBpc19wZXJtX2NoZWNrZWQgc3dpdGNoZXJcbiAgICAgKi9cbiAgICAkc2NvcGUucGVybV9kYXRhID0gcGVybVJlcG8uZ2V0RGF0YSgpO1xuXG4gICAgLy8gbG9jYXRpb24gcmVwbyB3aXRoIGN1cnJlbnQgY29vcmRzIGFuZCBkZWZhdWx0IHpvb21cbiAgICAkc2NvcGUubG9jX2RhdGEgPSBsb2NSZXBvLmdldERhdGEoKTsgICAgXG5cbiAgICAvLyBUT0RPOiBwdXQgaXQgaW4gc2V0dGluZ3NcbiAgICAvLyAgIGFuZCB3aGVuIG1hbnVhbCBzZWxlY3Rpb24gZXhlY3V0ZXNcbiAgICAvLyBwZXJtUmVwby5jbGVhbkxvY2F0aW9uUGVybWlzc2lvbigpOyAgICBcblxuICAgICRzY29wZS5tYXBfY2VudGVyID0ge1xuICAgICAgbGF0OiBudWxsLFxuICAgICAgbG5nOiBudWxsLFxuICAgICAgem9vbTogMTRcbiAgICB9O1xuXG4gICAgdmFyIHNldENvb3JkcyA9IGZ1bmN0aW9uKGxhdCwgbG5nKXtcbiAgICAgICRzY29wZS5tYXBfY2VudGVyLmxhdCA9IGxhdDtcbiAgICAgICRzY29wZS5tYXBfY2VudGVyLmxuZyA9IGxuZztcbiAgICB9O1xuICAgIFxuICAgIHZhciB1c2VDZW50ZXJDb29yZHMgPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIGNlbnRlckNvb3JkcyA9IGhwckZhY3RvcnkuY29vcmRzRnJvbVdrdFBvaW50KCRzY29wZS5jdXJfYWdnbG8uY2VudHJvaWQpO1xuICAgICAgc2V0Q29vcmRzKGNlbnRlckNvb3Jkcy5sYXRpdHVkZSwgY2VudGVyQ29vcmRzLmxvbmdpdHVkZSk7XG4gICAgICBjb25zb2xlLmxvZygnY2VudGVyIGNvb3JkcycpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjIGFnZ2xvXG4gICAgICogICBtYXRjaCBhIGNhbGN1bGF0ZWQgYWdnbG8gd2l0aCBhIGN1cnJlbnQgYWdnbG9cbiAgICAgKiAgIGlmIG5vdCBtYXRjaGVkIC0gdXNlIGNpdHktY2VudGVyLWNvb3Jkc1xuICAgICAqICAgaWYgbWF0Y2hlZCAtIHVzZSBkZXZpY2UtY29vcmRzXG4gICAgICovXG4gICAgdmFyIGF1dG9DYWxjQWdnbG8gPSBmdW5jdGlvbigpe1xuICAgICAgdmFyIHRtcENvb3JkcyA9IGxvY1JlcG8uZ2V0RGF0YSgpLmNvb3JkcztcblxuICAgICAgYWdnbG9SZXBvLmNhbGNBZ2dsb0J5Q29vcmRzKHRtcENvb3Jkcy5sYXQsXG5cdFx0XHRcdCAgdG1wQ29vcmRzLmxuZylcblx0LnRoZW4oZnVuY3Rpb24odG1wQWdnbG8pe1xuXHQgIGlmICh0bXBBZ2dsbyl7XG5cdCAgICAvL3JlZGlyZWN0VG9BZ2dsb1NwZWNzKHRtcEFnZ2xvKTtcblx0ICAgIGNvbnNvbGUubG9nKCd0bXBBZ2dsbycsIHRtcEFnZ2xvKTtcblx0ICAgIGlmICh0bXBBZ2dsby5pZCA9PT0gJHNjb3BlLmN1cl9hZ2dsby5pZCl7XG5cdCAgICAgIHNldENvb3Jkcyh0bXBDb29yZHMubGF0LCB0bXBDb29yZHMubG5nKTtcblx0ICAgICAgY29uc29sZS5sb2coJ2RldmljZSBjb29yZHMnKTtcblx0ICAgIH1cblx0ICAgIGVsc2Uge1xuXHQgICAgICB1c2VDZW50ZXJDb29yZHMoKTtcblx0ICAgIH1cblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgICB1c2VDZW50ZXJDb29yZHMoKTtcblx0ICB9XG5cdH0pO1xuICAgIH07XG4gICAgXG4gICAgLy9sb2NSZXBvLnJldHJpZXZlRnJvbVdrdFBvaW50KHRtcEFnZ2xvLmNlbnRyb2lkKVxuICAgIFxuICAgIHZhciBoYW5kbGVMb2NhdGlvblBlcm1pc3Npb24gPSBmdW5jdGlvbihpc19wZXJtX2FsbG93ZWQpe1xuICAgICAgY29uc29sZS5sb2coJ2hhbmRsZUxvY1Blcm0nKTtcbiAgICAgIC8vY29uc29sZS5sb2coJ2lzX3Blcm1fYWxsb3dlZDogbWFwJywgaXNfcGVybV9hbGxvd2VkKTtcbiAgICAgIGlmIChpc19wZXJtX2FsbG93ZWQpe1xuXHQvLyAkc2NvcGUuZGVmaW5lTG9jYXRpb24oKTtcblx0bG9jUmVwby5yZXRyaWV2ZUZyb21EZXZpY2UoKVxuXHQgIC50aGVuKGF1dG9DYWxjQWdnbG8pXG4gICAgICAgICAgLmNhdGNoKHVzZUNlbnRlckNvb3Jkcyk7XG4gICAgICB9IGVsc2Uge1xuXHR1c2VDZW50ZXJDb29yZHMoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnNvbGUubG9nKCdoYW5kbGVsb2NwZXJtJyk7ICAgICBcbiAgICAvLyBXaGVuIGFsbCBhZ2dsb3MgdXBsb2FkZWQgLSBmaW5kIGEgcG9zaXRpb25cbiAgICAvLyBvbmx5IGlmIHNhdmVkIGluIGEgbG9jYWwgc2V0dGluZ3NcbiAgICBwZXJtUmVwby5jaGVja0xvY2F0aW9uUGVybWlzc2lvbigpXG4gICAgICAudGhlbihoYW5kbGVMb2NhdGlvblBlcm1pc3Npb24pO1xuICB9O1xuXG4gIGFuZ3VsYXIubW9kdWxlKCdteUFwcC5TYWxvbkxpc3RDb250cm9sbGVyJywgW1xuICAgICduZ1Nhbml0aXplJywgLy8gdG8gbmctYmluZC1odG1sIFxuICAgICdsZWFmbGV0LWRpcmVjdGl2ZScsXG4gICAgJ25nTWF0ZXJpYWwnLFxuICAgICdteUFwcC5ub3RpZkZhY3RvcnknLFxuICAgICdteUFwcC5ocHJGYWN0b3J5JyxcbiAgICAnbXlBcHAuZmlybUxpc3RSZXBvJyxcbiAgICAnbXlBcHAucGVybVJlcG8nLFxuICAgICdteUFwcC5sb2NSZXBvJyxcbiAgICAnbXlBcHAuYWdnbG9SZXBvJyxcbiAgICAnbXlBcHAuc2l0ZVJlcG8nLFxuICAgICdteUFwcC5GaXJtRGV0YWlsQ29udHJvbGxlcicsXG4gICAgJ215QXBwLmZpcm1JdGVtUmVwbydcbiAgXSlcblxuICAgIC5jb250cm9sbGVyKCdTYWxvbkxpc3RDb250cm9sbGVyJywgW1xuICAgICAgJyRzY29wZScsXG4gICAgICAnJHN0YXRlJyxcbiAgICAgICckbWREaWFsb2cnLFxuICAgICAgJ25vdGlmRmFjdG9yeScsXG4gICAgICAnaHByRmFjdG9yeScsXG4gICAgICAnZmlybUxpc3RSZXBvJyxcbiAgICAgICdwZXJtUmVwbycsXG4gICAgICAnbG9jUmVwbycsXG4gICAgICAnYWdnbG9SZXBvJyxcbiAgICAgICdzaXRlUmVwbycsXG4gICAgICAnZmlybUl0ZW1SZXBvJyxcbiAgICAgIHhwb1xuICAgIF0pO1xuXG5cbn0od2luZG93LmFuZ3VsYXIsIHdpbmRvdy5MKSk7XG5cblxuLy8gaHR0cDovL3RvbWJhdG9zc2Fscy5naXRodWIuaW8vYW5ndWxhci1sZWFmbGV0LWRpcmVjdGl2ZS8jIS9leGFtcGxlcy9sZWdlbmQgXG4vLyAkc2NvcGUubWFwX2xlZ2VuZCA9IHtcbi8vICAgcG9zaXRpb246ICdib3R0b21sZWZ0Jyxcbi8vICAgLy9sZWdlbmRDbGFzczogJ2xlZ2VuZCcsXG4vLyAgIGNvbG9yczogWycjMDAwMGZmJ10sXG4vLyAgIGxhYmVsczogWyfRgdCw0LvQvtC90YsnXVxuLy8gfTtcblxuLy8gZnVuY3Rpb24gdG9HcmFkdXMoZ3JhZCwgbWluLCBzZWMpIHtcbi8vICAgcmV0dXJuIGdyYWQgKyBtaW4gLyA2MCArIHNlYyAvIDM2MDA7XG4vLyB9XG4iLCJhbmd1bGFyLm1vZHVsZShcIm15QXBwLnRlbXBsYXRlRmFjdG9yeVwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7JHRlbXBsYXRlQ2FjaGUucHV0KFwiYWJvdXQvYWJvdXQudHBsLmh0bWxcIixcIjxkaXYgbGF5b3V0LW1hcmdpbj1cXFwiXFxcIiBsYXlvdXQtcGFkZGluZz1cXFwiXFxcIj48cD7Qn9GA0L7QtdC60YIg0L/RgNC10LTQvtGB0YLQsNCy0LvRj9C10YIg0YPRgdC70YPQs9C4INC/0L4g0L/QvtC40YHQutGDINC80LDRgdGC0LXRgNC+0LIg0Lgg0YHQsNC70L7QvdC+0LIg0LrRgNCw0YHQvtGC0Ys6PC9wPjx1bCBjbGFzcz1cXFwibGlzdFxcXCI+PGxpIGNsYXNzPVxcXCJpdGVtXFxcIj48c3Ryb25nPtCf0LDRgNC40LrQvNCw0YXQtdGAPC9zdHJvbmc+PHVsPjxsaT7QodCy0LDQtNC10LHQvdGL0LUg0L/RgNC40YfQtdGB0LrQuDwvbGk+PGxpPtCd0LDRgNCw0YnQuNCy0LDQvdC40LUg0LLQvtC70L7RgTwvbGk+PGxpPtCh0YLRgNC40LbQutCwPC9saT48bGk+Li4uPC9saT48L3VsPjwvbGk+PGxpIGNsYXNzPVxcXCJpdGVtXFxcIj48c3Ryb25nPtCS0LjQt9Cw0LbQuNGB0YI8L3N0cm9uZz48dWw+PGxpPtCS0LXRh9C10YDQvdC40Lkg0LzQsNC60LjRj9C2PC9saT48bGk+0J3QsNGA0LDRidC40LLQsNC90LjQtSDRgNC10YHQvdC40YY8L2xpPjxsaT7QodCy0LDQtNC10LHQvdGL0Lkg0LzQsNC60LjRj9C2PC9saT48bGk+Li4uPC9saT48L3VsPjwvbGk+PGxpIGNsYXNzPVxcXCJpdGVtXFxcIj48c3Ryb25nPtCj0YXQvtC0INC30LAg0L3QvtCz0YLRj9C80Lg8L3N0cm9uZz48dWw+PGxpPtCc0LDQvdC40LrRjtGAPC9saT48bGk+0J3QvtCz0YLQtdCy0L7QuSDQtNC40LfQsNC50L08L2xpPjxsaT7QqNC10LvQu9Cw0Lo8L2xpPjxsaT4uLi48L2xpPjwvdWw+PC9saT48bGkgY2xhc3M9XFxcIml0ZW1cXFwiPjxzdHJvbmc+0JrQvtGB0LzQtdGC0L7Qu9C+0LM8L3N0cm9uZz48dWw+PGxpPtCn0LjRgdGC0LrQsCDQu9C40YbQsDwvbGk+PGxpPtCt0L/QuNC70Y/RhtC40Y88L2xpPjxsaT7QotCw0YLRg9Cw0LY8L2xpPjxsaT4uLi48L2xpPjwvdWw+PC9saT48L3VsPjxwPtCS0LDRgNC40LDQvdGC0Ysg0L/QvtC40YHQutCwOjx1bD48bGk+0L/QviDQutCw0YDRgtC1INCz0L7RgNC+0LTQsDog0L7RgtC+0LHRgNCw0LbQtdC90LjQtSDRgdCw0LvQvtC90L7QsiDQutGA0LDRgdC+0YLRizwvbGk+PGxpPtC/0L4g0L/QvtGA0YLRhNC+0LvQuNC+OiDRhNC+0YLQvtCz0YDQsNGE0LjRj9C8INGA0LDQsdC+0YI8L2xpPjwvdWw+PC9wPjxwPtCf0YDQvtC10LrRgiDQv9C+0LTQtNC10YDQttC40LLQsNC10YIg0LHQvtC70YzRiNC40L3RgdGC0LLQviDQutGA0YPQv9C90YvRhSDQuCDRgdGA0LXQtNC90LjRhSDQs9C+0YDQvtC00L7QsiDQv9C+INGC0LXRgNGA0LjRgtC+0YDQuNC4INCg0KQg0Lgg0L3QtdC60L7RgtC+0YDRi9C1INC30LDRgNGD0LHQtdC20L3Ri9C1INCz0L7RgNC+0LTQsC48L3A+PC9kaXY+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiYWdnbG8taXRlbS9hZ2dsby1pdGVtLnRwbC5odG1sXCIsXCI8ZGl2IGNsYXNzPVxcXCJmdWxsLWhlaWdodFxcXCI+PGRpdiBuZy1pZj1cXFwiaXNfcHJnXFxcIj48ZGl2IG5nLWlmPVxcXCIhY3VyX2FnZ2xvXFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVxcXCJpbmRldGVybWluYXRlXFxcIiBjbGFzcz1cXFwibWQtaHVlLTNcXFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+0LfQsNCz0YDRg9C30LrQsCDQu9C+0LrQsNGG0LjQuC4uLjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcImZ1bGwtaGVpZ2h0XFxcIiBuZy1pZj1cXFwiY3VyX2FnZ2xvXFxcIj48dWktdmlldyBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiIG5hbWU9XFxcImFnZ2xvSXRlbUNvbnRlbnRcXFwiPjwvdWktdmlldz48L2Rpdj48L2Rpdj5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1saXN0L2FnZ2xvLWxpc3QudHBsLmh0bWxcIixcIjxtZC1jb250ZW50IGxheW91dC1tYXJnaW49XFxcIlxcXCIgbWQtc2Nyb2xsLXk9XFxcIlxcXCI+PGRpdiBsYXlvdXQ9XFxcInJvd1xcXCI+PGRpdiBmbGV4PVxcXCJcXFwiIG9mZnNldC1ndC1tZD1cXFwiMjVcXFwiIGZsZXgtZ3QtbWQ9XFxcIjUwXFxcIj48ZGl2IG5nLWlmPVxcXCJhZ2dsb19kYXRhLmlzX2xvYWRlZFxcXCI+PG1kLWlucHV0LWNvbnRhaW5lciBtZC1uby1mbG9hdD1cXFwiXFxcIiBzdHlsZT1cXFwibWFyZ2luOiAxNnB4IDE2cHggMCAxNnB4XFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLXNlYXJjaCBmYS0yeFxcXCI+PC9tZC1pY29uPjxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwi0J3QsNC50YLQuCDQs9C+0YDQvtC0XFxcIiBuZy1tb2RlbD1cXFwiYWdnbG9fc2VhcmNoLmxvY2FsX25hbWVcXFwiPjwvbWQtaW5wdXQtY29udGFpbmVyPjxtZC1saXN0PjxtZC1saXN0LWl0ZW0gbmctcmVwZWF0PVxcXCJhZ2cgaW4gYWdnbG9fZGF0YS5hcnJfZ2VvX2FnZ2xvIHwgZmlsdGVyOmFnZ2xvX3NlYXJjaFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6aW5saW5lLWJsb2NrXFxcIj48bWQtYnV0dG9uIGNsYXNzPVxcXCJtZC1hY2NlbnRcXFwiIHN0eWxlPVxcXCJ0ZXh0LWFsaWduOiBsZWZ0XFxcIiBhcmlhLWxhYmVsPVxcXCJ7e2FnZy5sb2NhbF9uYW1lfX1cXFwiIHVpLXNyZWY9XFxcImJ5dC5hZ2dsb0l0ZW0uc3BlY0xpc3Qoe2FnZ2xvX2ludGVyX2NvZGU6YWdnLmludGVyX2NvZGV9KVxcXCI+PHNwYW4gbmctYmluZD1cXFwiYWdnLmxvY2FsX25hbWVcXFwiPjwvc3Bhbj48L21kLWJ1dHRvbj48L21kLWxpc3QtaXRlbT48L21kLWxpc3Q+PC9kaXY+PC9kaXY+PC9kaXY+PC9tZC1jb250ZW50PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFscnQvYWxydC50cGwuaHRtbFwiLFwiPG1kLWRpYWxvZyBhcmlhLWxhYmVsPVxcXCLQo9Cy0LXQtNC+0LzQu9C10L3QuNC1XFxcIj48bWQtZGlhbG9nLWNvbnRlbnQ+PHAgbmctYmluZD1cXFwibXNnX2JvZHlcXFwiPjwvcD48L21kLWRpYWxvZy1jb250ZW50PjxkaXYgY2xhc3M9XFxcIm1kLWFjdGlvbnNcXFwiPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLWFjY2VudFxcXCIgbmctY2xpY2s9XFxcImhpZGVEaWFsb2coKVxcXCI+0J/QvtC90Y/RgtC90L48L21kLWJ1dHRvbj48L2Rpdj48L21kLWRpYWxvZz5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJ0b29sYmFyL3Rvb2xiYXIudHBsLmh0bWxcIixcIjxkaXYgY2xhc3M9XFxcIm1kLXRvb2xiYXItdG9vbHNcXFwiIG5nLWNvbnRyb2xsZXI9XFxcIlRvb2xiYXJDb250cm9sbGVyXFxcIj48bWQtYnV0dG9uIG5nLWhyZWY9XFxcInt7c2l0ZV9kYXRhLnByZXZfaHJlZn19XFxcIiBjbGFzcz1cXFwibWQtaWNvbi1idXR0b25cXFwiIGFyaWEtbGFiZWw9XFxcItC90LDQt9Cw0LRcXFwiIHRpdGxlPVxcXCLQvdCw0LfQsNC0XFxcIiBuZy1pZj1cXFwic2l0ZV9kYXRhLnByZXZfaHJlZlxcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1hcnJvdy1jaXJjbGUtbGVmdCBmYS0yeFxcXCIgc3R5bGU9XFxcImNvbG9yOndoaXRlXFxcIj48L21kLWljb24+PC9tZC1idXR0b24+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtaWNvbi1idXR0b25cXFwiIHVpLXNyZWY9XFxcImJ5dC53ZWxjb21lXFxcIiBhcmlhLWxhYmVsPVxcXCLQs9C70LDQstC90LDRj1xcXCIgbmctaWY9XFxcIiFzaXRlX2RhdGEucHJldl9ocmVmXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWhvbWUgZmEtMnhcXFwiIHN0eWxlPVxcXCJjb2xvcjp3aGl0ZVxcXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjxoMj48c3BhbiBuZy1iaW5kPVxcXCJzaXRlX2RhdGEudHRsXFxcIj48L3NwYW4+PC9oMj48c3BhbiBmbGV4PVxcXCJcXFwiPjwvc3Bhbj48bWQtYnV0dG9uIG5nLWNsaWNrPVxcXCJzY3JvbGxUb1RvcCgpXFxcIiBhcmlhLWxhYmVsPVxcXCLQvdCw0LLQtdGA0YVcXFwiIG5nLXNob3c9XFxcInNjcm9sbF9kYXRhLnBvcyA+IDMwMFxcXCI+0L3QsNCy0LXRgNGFPC9tZC1idXR0b24+PC9kaXY+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwid2VsY29tZS9uby1sb2NhdGlvbi50cGwuaHRtbFwiLFwiPG1kLWNhcmQgZmxleD1cXFwiXFxcIiBjbGFzcz1cXFwibWQtd2hpdGVmcmFtZS16MlxcXCI+PG1kLWNhcmQtY29udGVudD48ZGl2PtC80L7RkSDQvNC10YHRgtC+0L/QvtC70L7QttC10L3QuNC1PC9kaXY+PG1kLWRpdmlkZXI+PC9tZC1kaXZpZGVyPjxkaXYgbGF5b3V0PVxcXCJyb3dcXFwiIGxheW91dC1zbT1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcInNwYWNlLWFyb3VuZCBjZW50ZXJcXFwiIHN0eWxlPVxcXCJtYXJnaW4tdG9wOiAxMnB4XFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLWZhYiBtZC1wcmltYXJ5XFxcIiBuZy1jbGljaz1cXFwiZGVmaW5lTG9jYXRpb24oKVxcXCIgdGl0bGU9XFxcItC/0YDQuNCx0LvQuNC30LjRgtC10LvRjNC90YvQtSDQutC+0L7RgNC00LjQvdCw0YLRi1xcXCIgYXJpYS1sYWJlbD1cXFwi0LDQstGC0L7QvtC/0YDQtdC00LXQu9C10L3QuNC1XFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLXN0cmVldC12aWV3IGZhLTJ4XFxcIj48L21kLWljb24+PC9tZC1idXR0b24+PGRpdj48c21hbGw+0LDQstGC0L7QvtC/0YDQtdC00LXQu9C10L3QuNC1PC9zbWFsbD48L2Rpdj48L2Rpdj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLXByaW1hcnkgbWQtZmFiXFxcIiB1aS1zcmVmPVxcXCJieXQuYWdnbG9MaXN0XFxcIiBuZy1jbGljaz1cXFwiY2xlYW5Mb2NhdGlvblBlcm1pc3Npb24oKTtcXFwiIHRpdGxlPVxcXCLRhtC10L3RgtGAINCz0L7RgNC+0LTQsFxcXCIgYXJpYS1sYWJlbD1cXFwi0LLRgNGD0YfQvdGD0Y5cXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtbGlzdC11bCBmYS0yeFxcXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjxkaXY+PHNtYWxsPtCy0YvQsdGA0LDRgtGMINCy0YDRg9GH0L3Rg9GOPC9zbWFsbD48L2Rpdj48L2Rpdj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiIG5nLWlmPVxcXCJpc19zb2NuZXRcXFwiPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLWZhYiBtZC1wcmltYXJ5XFxcIiBuZy1jbGljaz1cXFwiZGVmaW5lU29jQ2l0eSgpXFxcIiB0aXRsZT1cXFwi0YbQtdC90YLRgCDQs9C+0YDQvtC00LBcXFwiIGFyaWEtbGFiZWw9XFxcItC40Lcg0YHQvtGG0LjQsNC70YzQvdC+0Lkg0YHQtdGC0LhcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtdmsgZmEtMnhcXFwiPjwvbWQtaWNvbj48L21kLWJ1dHRvbj48ZGl2PjxzbWFsbD7QuNC3INGB0L7RhtC40LDQu9GM0L3QvtC5INGB0LXRgtC4PC9zbWFsbD48L2Rpdj48L2Rpdj48L2Rpdj48L21kLWNhcmQtY29udGVudD48L21kLWNhcmQ+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwid2VsY29tZS93bGMudHBsLmh0bWxcIixcIjxtZC1jb250ZW50IG1kLXNjcm9sbC15PVxcXCJcXFwiPjxkaXYgbGF5b3V0PVxcXCJyb3dcXFwiPjxkaXYgZmxleD1cXFwiXFxcIiBvZmZzZXQtZ3QtbWQ9XFxcIjI1XFxcIiBmbGV4LWd0LW1kPVxcXCI1MFxcXCI+PGg0IGNsYXNzPVxcXCJtZC1zdWJoZWFkXFxcIiBzdHlsZT1cXFwibWFyZ2luOiAyMHB4XFxcIj7Qn9C+0LjRgdC6INC80LDRgdGC0LXRgNC+0LIg0Lgg0YHQsNC70L7QvdC+0LIg0LrRgNCw0YHQvtGC0Ys6INC+0YLQutGA0YvRgtGL0LUg0LrQvtC90YLQsNC60YLQvdGL0LUg0LTQsNC90L3Ri9C1LCDQutCw0YDRgtCwINGBINCx0LvQuNC20LDQudGI0LjQvNC4INGB0LDQu9C+0L3QsNC80LgsINC/0L7RgNGC0YTQvtC70LjQviDQvNCw0YHRgtC10YDQvtCyINC4INC00YDRg9Cz0L7QtSA8YSB1aS1zcmVmPVxcXCJieXQuYWJvdXRcXFwiPtC/0L7QtNGA0L7QsdC90LXQtTwvYT48YnI+PGJyPtCS0YsgLSDQvNCw0YHRgtC10YA/INCe0YHRgtCw0LLRjNGC0LUg0LfQsNGP0LLQutGDINC90LAg0L/QvtC00LrQu9GO0YfQtdC90LjQtSDQsiA8YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgaHJlZj1cXFwiLy92ay5jb20vdG9waWMtOTIwMDI3NzFfMzE2OTk0NzJcXFwiPtCz0YDRg9C/0L/QtSDQv9GA0LjQu9C+0LbQtdC90LjRjzwvYT4uPC9oND48ZGl2IG5nLWlmPVxcXCJpc19wcmdcXFwiPjxkaXYgbmctaWY9XFxcIiFwZXJtX2RhdGEuaXNfcGVybV9jaGVja2VkXFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVxcXCJpbmRldGVybWluYXRlXFxcIiBjbGFzcz1cXFwibWQtaHVlLTNcXFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+0LfQsNCz0YDRg9C30LrQsDwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgbmctaWY9XFxcInBlcm1fZGF0YS5pc19wZXJtX2NoZWNrZWRcXFwiPjxuZy1pbmNsdWRlIHNyYz1cXFwiXFwnd2VsY29tZS9uby1sb2NhdGlvbi50cGwuaHRtbFxcJ1xcXCI+PC9uZy1pbmNsdWRlPjwvZGl2PjwvZGl2PjwvZGl2PjwvbWQtY29udGVudD5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL3NwZWMtbGlzdC9zZXJ2LWdyb3Vwcy50cGwuaHRtbFwiLFwiPGRpdiBsYXlvdXQtZ3Qtc209XFxcInJvd1xcXCIgbGF5b3V0LXNtPVxcXCJjb2x1bW5cXFwiIGxheW91dC1maWxsPVxcXCJcXFwiIGxheW91dC13cmFwPVxcXCJcXFwiPjxtZC1jYXJkIGZsZXg9XFxcIlxcXCIgY2xhc3M9XFxcIm1kLXdoaXRlZnJhbWUtejNcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6MjQwcHg7XFxcIiBuZy1yZXBlYXQ9XFxcImdycCBpbiBydWJyaWNfZGF0YS5hcnJfc2Vydl9ncm91cFxcXCI+PG1kLWNhcmQtY29udGVudD48aDIgY2xhc3M9XFxcIm1kLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJncnAubmFtZVxcXCI+PC9oMj48cCBuZy1zaG93PVxcXCJncnAuYXJyX3NlcnZfcnVicmljX3N0YXQubGVuZ3RoID4gMFxcXCI+PGRpdiBuZy1yZXBlYXQ9XFxcInJiclN0YXQgaW4gZ3JwLmFycl9zZXJ2X3J1YnJpY19zdGF0fGxpbWl0VG86NXxsaW1pdFRvOi00XFxcIj57e3JiclN0YXQuc2Vydl9ydWJyaWMubmFtZX19IDxzcGFuIG5nLXNob3c9XFxcIiRpbmRleCA9PT0gM1xcXCI+Li4uPC9zcGFuPjwvZGl2PjwvcD48ZGl2IGNsYXNzPVxcXCJtZC1hY3Rpb25zXFxcIiBsYXlvdXQ9XFxcInJvd1xcXCIgbGF5b3V0LWFsaWduPVxcXCJlbmQgY2VudGVyXFxcIj48bWQtYnV0dG9uIGNsYXNzPVxcXCJtZC1hY2NlbnRcXFwiIHVpLXNyZWY9XFxcImJ5dC5hZ2dsb0l0ZW0uc3BlY0l0ZW0uc2Fsb25MaXN0KHthZ2dsb19pbnRlcl9jb2RlOiBjdXJfYWdnbG8uaW50ZXJfY29kZSwgc3BlY19pZDogZ3JwLmlkfSlcXFwiPtC90LAg0LrQsNGA0YLQtTwvbWQtYnV0dG9uPjxtZC1idXR0b24gY2xhc3M9XFxcIm1kLWFjY2VudFxcXCIgdWktc3JlZj1cXFwiYnl0LmFnZ2xvSXRlbS5zcGVjSXRlbS5ydWJyaWNJdGVtKHthZ2dsb19pbnRlcl9jb2RlOiBjdXJfYWdnbG8uaW50ZXJfY29kZSwgc3BlY19pZDogZ3JwLmlkLCBydWJyaWNfaWQ6IGdycC5pZH0pXFxcIj7Qv9C+0YDRgtGE0L7Qu9C40L48L21kLWJ1dHRvbj48L2Rpdj48L21kLWNhcmQtY29udGVudD48L21kLWNhcmQ+PC9kaXY+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiYWdnbG8taXRlbS9zcGVjLWxpc3Qvc3BlYy1saXN0LnRwbC5odG1sXCIsXCI8bWQtY29udGVudCBtZC1zY3JvbGwteT1cXFwiXFxcIj48ZGl2IGxheW91dD1cXFwicm93XFxcIj48ZGl2IGZsZXg9XFxcIlxcXCIgZmxleC1ndC1tZD1cXFwiNTBcXFwiIG9mZnNldC1ndC1tZD1cXFwiMjVcXFwiPjxkaXYgbmctaWY9XFxcImlzX3ByZ1xcXCI+PGRpdiBuZy1pZj1cXFwiIXJ1YnJpY19kYXRhLmlzX2xvYWRlZFxcXCI+PGRpdiBsYXlvdXQ9XFxcImNvbHVtblxcXCIgbGF5b3V0LWFsaWduPVxcXCJjZW50ZXIgY2VudGVyXFxcIj48bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cXFwiaW5kZXRlcm1pbmF0ZVxcXCIgY2xhc3M9XFxcIm1kLWh1ZS0zXFxcIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPtC30LDQs9GA0YPQt9C60LAg0LrQsNGC0LXQs9C+0YDQuNC5Li4uPC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBuZy1pZj1cXFwicnVicmljX2RhdGEuaXNfbG9hZGVkXFxcIj48bmctaW5jbHVkZSBzcmM9XFxcIlxcJ2FnZ2xvLWl0ZW0vc3BlYy1saXN0L3NlcnYtZ3JvdXBzLnRwbC5odG1sXFwnXFxcIj48L25nLWluY2x1ZGU+PC9kaXY+PC9kaXY+PC9kaXY+PC9tZC1jb250ZW50PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3NwZWMtaXRlbS50cGwuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiPjxkaXYgbmctaWY9XFxcImlzX3ByZ1xcXCI+PGRpdiBuZy1pZj1cXFwiIWN1cl9zcGVjXFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVxcXCJpbmRldGVybWluYXRlXFxcIiBjbGFzcz1cXFwibWQtaHVlLTNcXFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+0LfQsNCz0YDRg9C30LrQsCDRgdC/0LXRhtC40LDQu9C40LfQsNGG0LjQuC4uLjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcImZ1bGwtaGVpZ2h0XFxcIiBuZy1pZj1cXFwiY3VyX3NwZWNcXFwiPjxkaXYgbmctaWY9XFxcImlzX3Nob3dfcnVicmljc1xcXCI+PG1kLXRhYnMgbWQtYm9yZGVyLWJvdHRvbT1cXFwiXFxcIiBtZC1zZWxlY3RlZD1cXFwic2xjX3J1YnJpY19pbmRleFxcXCI+PG1kLXRhYiBuZy1yZXBlYXQ9XFxcInJiclN0YXQgaW4gY3VyX3NwZWMuYXJyX3NlcnZfcnVicmljX3N0YXRcXFwiIG1kLW9uLXNlbGVjdD1cXFwib25UYWJTZWxlY3RlZChyYnJTdGF0LnNlcnZfcnVicmljLmlkKVxcXCIgbGFiZWw9XFxcInt7cmJyU3RhdC5zZXJ2X3J1YnJpYy5uYW1lfX1cXFwiPjwvbWQtdGFiPjwvbWQtdGFicz48L2Rpdj48dWktdmlldyBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiIG5hbWU9XFxcInNwZWNJdGVtQ29udGVudFxcXCI+PC91aS12aWV3PjwvZGl2PjwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL21hc3Rlci1kZXRhaWwudHBsLmh0bWxcIixcIjxtZC1kaWFsb2cgYXJpYS1sYWJlbD1cXFwi0JjQvdGE0L7RgNC80LDRhtC40Y8g0L4g0LzQsNGB0YLQtdGA0LVcXFwiPjxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cXFwic3RpY2t5LWNvbnRhaW5lclxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MFxcXCI+PGRpdiBuZy1pZj1cXFwiIW1hc3Rlcl9kYXRhXFxcIj48ZGl2IGxheW91dD1cXFwiY29sdW1uXFxcIiBsYXlvdXQtYWxpZ249XFxcImNlbnRlciBjZW50ZXJcXFwiPjxtZC1wcm9ncmVzcy1jaXJjdWxhciBtZC1tb2RlPVxcXCJpbmRldGVybWluYXRlXFxcIiBjbGFzcz1cXFwibWQtaHVlLTNcXFwiPjwvbWQtcHJvZ3Jlc3MtY2lyY3VsYXI+0LfQsNCz0YDRg9C30LrQsC4uLjwvZGl2PjwvZGl2PjxtZC10b29sYmFyIGNsYXNzPVxcXCJtZC13aGl0ZWZyYW1lLXoxXFxcIiBuZy1pZj1cXFwibWFzdGVyX2RhdGFcXFwiPjxkaXYgY2xhc3M9XFxcIm1kLXRvb2xiYXItdG9vbHNcXFwiPjxzcGFuIG5nLWJpbmQ9XFxcIm1hc3Rlcl9kYXRhLnNsY19tYXN0ZXIubmFtZVxcXCI+PC9zcGFuPjwvZGl2PjwvbWQtdG9vbGJhcj48ZGl2IG5nLWlmPVxcXCJtYXN0ZXJfZGF0YVxcXCI+PGRpdiBsYXlvdXQtbWFyZ2luPVxcXCJcXFwiIGxheW91dC1wYWRkaW5nPVxcXCJcXFwiPjxkaXYgc3R5bGU9XFxcIndpZHRoOiAxMDBweDsgaGVpZ2h0OiAxMDBweDsgZmxvYXQ6IHJpZ2h0OyBtYXJnaW4tbGVmdDogOHB4XFxcIj48aW1nIHN0eWxlPVxcXCJ3aWR0aDogMTAwcHhcXFwiIG5nLXNyYz1cXFwie3ttYXN0ZXJfZGF0YS5zbGNfbWFzdGVyLm1hc3Rlcl91c2VyLmF2YXRhcn19XFxcIj48L2Rpdj48ZGl2PjxzcGFuIG5nLWJpbmQ9XFxcIm1hc3Rlcl9kYXRhLnNsY19tYXN0ZXIuYmlvXFxcIj48L3NwYW4+PC9kaXY+PC9kaXY+PG1kLWxpc3Qgc3R5bGU9XFxcImNsZWFyOiBib3RoXFxcIj48bWQtbGlzdC1pdGVtIGNsYXNzPVxcXCJtZC0yLWxpbmVcXFwiPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1pbnN0YWdyYW0gZmEtMnhcXFwiIHN0eWxlPVxcXCJtYXJnaW4tcmlndGg6OHB4O1xcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48aDM+PGEgY2xhc3M9XFxcIm1kLWFjY2VudFxcXCIgYXJpYS1sYWJlbD1cXFwibGluayB0byBpbnN0YWdyYW1cXFwiIHN0eWxlPVxcXCJtYXJnaW46IDA7IHBhZGRpbmc6IDBcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBuZy1ocmVmPVxcXCJodHRwczovL2luc3RhZ3JhbS5jb20ve3ttYXN0ZXJfZGF0YS5zbGNfbWFzdGVyLnVzZXJuYW1lfX1cXFwiPmh0dHBzOi8vaW5zdGFncmFtLmNvbS97e21hc3Rlcl9kYXRhLnNsY19tYXN0ZXIudXNlcm5hbWV9fTwvYT48L2gzPjxwPmluc3RhZ3JhbSAo0L3QvtCy0LDRjyDQstC60LvQsNC00LrQsCk8L3A+PC9kaXY+PG1kLXN3aXRjaCBjbGFzcz1cXFwibWQtc2Vjb25kYXJ5XFxcIiBuZy1zaG93PVxcXCJmYWxzZVxcXCIgbmctbW9kZWw9XFxcImlzX2VuYWJsZWRcXFwiPjwvbWQtc3dpdGNoPjwvZGl2PjwvbWQtbGlzdC1pdGVtPjxtZC1saXN0LWl0ZW0gY2xhc3M9XFxcIm1kLTItbGluZVxcXCI+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWdsb2JlIGZhLTJ4XFxcIiBzdHlsZT1cXFwibWFyZ2luLXJpZ3RoOjEycHg7XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMz48YSBuZy1pZj1cXFwibWFzdGVyX2RhdGEuc2xjX21hc3Rlci53ZWJzaXRlXFxcIiBhcmlhLWxhYmVsPVxcXCJsaW5rIHRvIGluc3RhZ3JhbVxcXCIgc3R5bGU9XFxcIm1hcmdpbjogMDsgcGFkZGluZzowXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3ttYXN0ZXJfZGF0YS5zbGNfbWFzdGVyLndlYnNpdGV9fVxcXCI+PHNwYW4gbmctYmluZD1cXFwibWFzdGVyX2RhdGEuc2xjX21hc3Rlci53ZWJzaXRlXFxcIj48L3NwYW4+PC9hPiA8c3BhbiBuZy1pZj1cXFwiIW1hc3Rlcl9kYXRhLnNsY19tYXN0ZXIud2Vic2l0ZVxcXCI+0L3QtdGCINC00LDQvdC90YvRhTwvc3Bhbj48L2gzPjxwPtCy0LXQsS3RgdCw0LnRgiAo0L3QvtCy0LDRjyDQstC60LvQsNC00LrQsCk8L3A+PC9kaXY+PG1kLXN3aXRjaCBjbGFzcz1cXFwibWQtc2Vjb25kYXJ5XFxcIiBuZy1zaG93PVxcXCJmYWxzZVxcXCIgbmctbW9kZWw9XFxcImlzX2VuYWJsZWRcXFwiPjwvbWQtc3dpdGNoPjwvZGl2PjwvbWQtbGlzdC1pdGVtPjwvbWQtbGlzdD48L2Rpdj48L21kLWRpYWxvZy1jb250ZW50PjwvbWQtZGlhbG9nPlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL3J1YnJpYy1pdGVtLnRwbC5odG1sXCIsXCI8ZGl2IG5nLWlmPVxcXCJjdXJfcnVicmljX3N0YXRcXFwiPjxuZy1pbmNsdWRlIHNyYz1cXFwiXFwnYWdnbG8taXRlbS9zcGVjLWl0ZW0vcnVicmljLWl0ZW0vc2Vydi1saXN0LnRwbC5odG1sXFwnXFxcIj48L25nLWluY2x1ZGU+PC9kaXY+PGRpdiBuZy1pZj1cXFwiIWN1cl9ydWJyaWNfc3RhdFxcXCI+0LLRgdC1INGD0YHQu9GD0LPQuDwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3J1YnJpYy1pdGVtL3NlcnYtbGlzdC50cGwuaHRtbFwiLFwiPGRpdiBuZy1jb250cm9sbGVyPVxcXCJTZXJ2TGlzdENvbnRyb2xsZXJcXFwiPjxkaXYgbmctaWY9XFxcIiFpc19zZXJ2X2xvYWRlZFxcXCI+PGRpdiBsYXlvdXQ9XFxcImNvbHVtblxcXCIgbGF5b3V0LWFsaWduPVxcXCJjZW50ZXIgY2VudGVyXFxcIj48bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cXFwiaW5kZXRlcm1pbmF0ZVxcXCIgY2xhc3M9XFxcIm1kLWh1ZS0zXFxcIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPtC30LDQs9GA0YPQt9C60LAg0L/QvtGA0YLRhNC+0LvQuNC+Li4uPC9kaXY+PC9kaXY+PGRpdiBuZy1pZj1cXFwiaXNfc2Vydl9sb2FkZWRcXFwiPjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCIgbmctaWY9XFxcInNlcnZfZGF0YS5hcnJfc2Vydl9pbmZvLmxlbmd0aCA9PT0gMFxcXCI+0YDQsNCx0L7RgiDQvdC1INC90LDQudC00LXQvdC+INC/0L4g0LTQsNC90L3QvtC5INGB0L/QtdGG0LjQsNC70LjQt9Cw0YbQuNC4INCyINCy0LDRiNC10Lwg0LPQvtGA0L7QtNC1PC9kaXY+PG1kLWdyaWQtbGlzdCBtZC1jb2xzLXNtPVxcXCIxXFxcIiBtZC1jb2xzLW1kPVxcXCIyXFxcIiBtZC1jb2xzLWxnPVxcXCIzXFxcIiBtZC1jb2xzLWd0LWxnPVxcXCI0XFxcIiBtZC1yb3ctaGVpZ2h0PVxcXCIxOjFcXFwiIG1kLWd1dHRlcj1cXFwiNHB4XFxcIj48bWQtZ3JpZC10aWxlIGNsYXNzPVxcXCJiYWNrLWltZ1xcXCIgbmctaWY9XFxcInNlcnZJbmZvLndvcmtfaWRcXFwiIG5nLXJlcGVhdD1cXFwic2VydkluZm8gaW4gc2Vydl9kYXRhLmFycl9zZXJ2X2luZm9cXFwiIG9uLWZpbmlzaC1yZW5kZXI9XFxcInNlcnZMaXN0UmVwZWF0RmluaXNoZWRcXFwiIG5nLXN0eWxlPVxcXCJ7XFwnYmFja2dyb3VuZC1pbWFnZVxcJzogXFwndXJsKHt7c2VydkluZm8ud29ya19wcmV2aWV3X2ltZ319KVxcJ31cXFwiPjxtZC1ncmlkLXRpbGUtZm9vdGVyPjxoMyBuZy1iaW5kPVxcXCJzZXJ2SW5mby5tYXN0ZXJfbmFtZVxcXCIgc3R5bGU9XFxcInRleHQtc2hhZG93OiAjNTU1IDFweCAxcHgsICM1NTUgLTFweCAtMXB4LCAjNTU1IC0xcHggMXB4LCAjNTU1IDFweCAtMXB4XFxcIj48L2gzPjwvbWQtZ3JpZC10aWxlLWZvb3Rlcj48ZGl2IHN0eWxlPVxcXCJwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiAwOyBib3R0b206IDJweFxcXCI+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtaWNvbi1idXR0b25cXFwiIGFyaWEtbGFiZWw9XFxcItC40L3RhNC+0YDQvNCw0YbQuNGPINC+INC80LDRgdGC0LXRgNC1XFxcIiBuZy1jbGljaz1cXFwic2hvd01hc3RlckluZm8oJGV2ZW50LCBzZXJ2SW5mby5tYXN0ZXJfc2Vydi5tYXN0ZXJfcHJvZmlsZV9pZClcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtaW5mby1jaXJjbGUgZmEtMnhcXFwiIHN0eWxlPVxcXCJjb2xvcjogI2VlZTsgd2lkdGg6IDMycHg7IGhlaWdodDogMzJweFxcXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvZGl2PjwvbWQtZ3JpZC10aWxlPjwvbWQtZ3JpZC1saXN0PjxkaXYgbGF5b3V0PVxcXCJcXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCIgbmctaWY9XFxcInNlcnZfZGF0YS5pc19tb3JlX2V4aXN0XFxcIj48bWQtYnV0dG9uIGZsZXg9XFxcIlxcXCIgY2xhc3M9XFxcIm1kLWFjY2VudFxcXCIgbmctY2xpY2s9XFxcInBsdXNEYXRhKClcXFwiIG5nLXNob3c9XFxcImlzX21vcmVfbG9hZGVkXFxcIj7Qv9C+0LrQsNC30LDRgtGMINC10YnRkS4uLjwvbWQtYnV0dG9uPjxkaXYgbGF5b3V0PVxcXCJjb2x1bW5cXFwiIGxheW91dC1hbGlnbj1cXFwiY2VudGVyIGNlbnRlclxcXCIgbmctc2hvdz1cXFwiIWlzX21vcmVfbG9hZGVkXFxcIj48bWQtcHJvZ3Jlc3MtY2lyY3VsYXIgbWQtbW9kZT1cXFwiaW5kZXRlcm1pbmF0ZVxcXCIgY2xhc3M9XFxcIm1kLWh1ZS0zXFxcIj48L21kLXByb2dyZXNzLWNpcmN1bGFyPtC30LDQs9GA0YPQt9C60LAg0L/QvtGA0YLRhNC+0LvQuNC+Li4uPC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+XCIpO1xuJHRlbXBsYXRlQ2FjaGUucHV0KFwiYWdnbG8taXRlbS9zcGVjLWl0ZW0vc2Fsb24tbGlzdC9maXJtLWRldGFpbC50cGwuaHRtbFwiLFwiPG1kLWRpYWxvZyBhcmlhLWxhYmVsPVxcXCLQmNC90YTQvtGA0LzQsNGG0LjRjyDQviDRgdCw0LvQvtC90LVcXFwiPjxtZC1kaWFsb2ctY29udGVudCBjbGFzcz1cXFwic3RpY2t5LWNvbnRhaW5lclxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MFxcXCI+PG1kLXRvb2xiYXIgY2xhc3M9XFxcIm1kLXRhbGwgbWQtd2hpdGVmcmFtZS16MVxcXCI+PGgyIGNsYXNzPVxcXCJtZC10b29sYmFyLXRvb2xzXFxcIj48c3BhbiBuZy1iaW5kPVxcXCJmaXJtX2RhdGEuY3VyX2Zpcm0ubmFtZVxcXCI+PC9zcGFuPjwvaDI+PGgzIGNsYXNzPVxcXCJtZC10b29sYmFyLXRvb2xzXFxcIj48c21hbGw+PHNwYW4gbmctYmluZD1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmNpdHlfbmFtZVxcXCI+PC9zcGFuPiwgPHNwYW4gbmctYmluZD1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmFkZHJlc3NcXFwiPjwvc3Bhbj48L3NtYWxsPjwvaDM+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtZmFiIG1kLWFjY2VudCBtZC1mYWItYm90dG9tLXJpZ2h0XFxcIiBhcmlhLWxhYmVsPVxcXCLQktC10YDQvdGD0YLRjNGB0Y8g0L3QsCDQutCw0YDRgtGDXFxcIiB0aXRsZT1cXFwi0JLQtdGA0L3Rg9GC0YzRgdGPINC90LAg0LrQsNGA0YLRg1xcXCIgc3R5bGU9XFxcImJvdHRvbTogLTQwcHhcXFwiIG5nLWNsaWNrPVxcXCJoaWRlRGlhbG9nKClcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtbWFwLW1hcmtlciBmYS0yeFxcXCI+PC9tZC1pY29uPjwvbWQtYnV0dG9uPjwvbWQtdG9vbGJhcj48ZGl2PjxkaXYgbmctcmVwZWF0PVxcXCJjdGN0R3JvdXAgaW4gZmlybV9kYXRhLmN1cl9maXJtLmNvbnRhY3RzXFxcIj48bWQtbGlzdD48bWQtbGlzdC1pdGVtIGNsYXNzPVxcXCJtZC0yLWxpbmUgY29udGFjdC1pdGVtXFxcIiBuZy1yZXBlYXQ9XFxcImN0Y3QgaW4gY3RjdEdyb3VwLmNvbnRhY3RzXFxcIj48ZGl2IG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3Bob25lXFwnXFxcIiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLXBob25lIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPtGC0LXQu9C10YTQvtC9IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj4gPHNwYW4gbmctYmluZD1cXFwiY3RjdC5jb21tZW50XFxcIj48L3NwYW4+PC9wPjwvZGl2PjxtZC1zd2l0Y2ggY2xhc3M9XFxcIm1kLXNlY29uZGFyeVxcXCIgbmctc2hvdz1cXFwiZmFsc2VcXFwiIG5nLW1vZGVsPVxcXCJpc19lbmFibGVkXFxcIj48L21kLXN3aXRjaD48L2Rpdj48ZGl2IG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ2ZheFxcJ1xcXCIgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1mYXggZmEtMnhcXFwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0tdGV4dFxcXCI+PGgzIG5nLWJpbmQ9XFxcImN0Y3QudmFsdWVcXFwiPjwvaDM+PHA+0YTQsNC60YEgPHNwYW4gbmctYmluZD1cXFwiY3RjdC5hbGlhc1xcXCI+PC9zcGFuPiA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIiBuZy1pZj1cXFwiY3RjdC50eXBlID09PSBcXCdlbWFpbFxcJ1xcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1lbnZlbG9wZSBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48aDMgbmctYmluZD1cXFwiY3RjdC52YWx1ZVxcXCI+PC9oMz48cD5lbWFpbCA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3NreXBlXFwnXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLXNreXBlIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPlNreXBlIDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj4gPHNwYW4gbmctYmluZD1cXFwiY3RjdC5jb21tZW50XFxcIj48L3NwYW4+PC9wPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCIgbmctaWY9XFxcImN0Y3QudHlwZSA9PT0gXFwnaWNxXFwnXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWNvbW1lbnRzIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPmljcSA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ2phYmJlclxcJ1xcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1jb21tZW50cy1vIGZhLTJ4XFxcIj48L21kLWljb24+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLXRleHRcXFwiPjxoMyBuZy1iaW5kPVxcXCJjdGN0LnZhbHVlXFxcIj48L2gzPjxwPmphYmJlciA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+IDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3dlYnNpdGVcXCdcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtZ2xvYmUgZmEtMnhcXFwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0tdGV4dFxcXCI+PGEgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIG5nLWhyZWY9XFxcInt7Y3RjdC52YWx1ZX19XFxcIj48c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+PC9hPjxwPtCy0LXQsS3RgdCw0LnRgiA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIiBuZy1pZj1cXFwiY3RjdC50eXBlID09PSBcXCd2a29udGFrdGVcXCdcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtdmsgZmEtMnhcXFwiPjwvbWQtaWNvbj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0tdGV4dFxcXCI+PGEgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiIG5nLWhyZWY9XFxcInt7Y3RjdC52YWx1ZX19XFxcIj48c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmFsaWFzXFxcIj48L3NwYW4+PC9hPjxwPtCS0JrQvtC90YLQsNC60YLQtSA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cXFwibWQtbGlzdC1pdGVtLWlubmVyXFxcIiBuZy1pZj1cXFwiY3RjdC50eXBlID09PSBcXCdmYWNlYm9va1xcJ1xcXCI+PG1kLWljb24gbWQtZm9udC1pY29uPVxcXCJmYSBmYS1mYWNlYm9vayBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tjdGN0LnZhbHVlfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj48L2E+PHA+RmFjZWJvb2sgPHNwYW4gbmctYmluZD1cXFwiY3RjdC5jb21tZW50XFxcIj48L3NwYW4+PC9wPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS1pbm5lclxcXCIgbmctaWY9XFxcImN0Y3QudHlwZSA9PT0gXFwnaW5zdGFncmFtXFwnXFxcIj48bWQtaWNvbiBtZC1mb250LWljb249XFxcImZhIGZhLWluc3RhZ3JhbSBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tjdGN0LnZhbHVlfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj48L2E+PHA+SW5zdGFncmFtIDxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuY29tbWVudFxcXCI+PC9zcGFuPjwvcD48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJtZC1saXN0LWl0ZW0taW5uZXJcXFwiIG5nLWlmPVxcXCJjdGN0LnR5cGUgPT09IFxcJ3R3aXR0ZXJcXCdcXFwiPjxtZC1pY29uIG1kLWZvbnQtaWNvbj1cXFwiZmEgZmEtdHdpdHRlciBmYS0yeFxcXCI+PC9tZC1pY29uPjxkaXYgY2xhc3M9XFxcIm1kLWxpc3QtaXRlbS10ZXh0XFxcIj48YSB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tjdGN0LnZhbHVlfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImN0Y3QuYWxpYXNcXFwiPjwvc3Bhbj48L2E+PHA+VHdpdHRlciA8c3BhbiBuZy1iaW5kPVxcXCJjdGN0LmNvbW1lbnRcXFwiPjwvc3Bhbj48L3A+PC9kaXY+PC9kaXY+PC9tZC1saXN0LWl0ZW0+PC9tZC1saXN0PjwvZGl2PjwvZGl2PjxkaXYgbmctaWY9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5hcnRpY2xlXFxcIj48bmctaW5jbHVkZSBzcmM9XFxcIlxcJ2FnZ2xvLWl0ZW0vc3BlYy1pdGVtL3NhbG9uLWxpc3QvZmlybS1yZWtsLnRwbC5odG1sXFwnXFxcIj48L25nLWluY2x1ZGU+PC9kaXY+PC9tZC1kaWFsb2ctY29udGVudD48L21kLWRpYWxvZz5cIik7XG4kdGVtcGxhdGVDYWNoZS5wdXQoXCJhZ2dsby1pdGVtL3NwZWMtaXRlbS9zYWxvbi1saXN0L2Zpcm0tcmVrbC50cGwuaHRtbFwiLFwiPGRpdiBsYXlvdXQtbWFyZ2luPVxcXCJcXFwiIGxheW91dC1wYWRkaW5nPVxcXCJcXFwiPjxtZC1kaXZpZGVyPjwvbWQtZGl2aWRlcj48c21hbGwgc3R5bGU9XFxcImNvbG9yOiBncmF5XFxcIj7RgdC/0LXRhtC40LDQu9GM0L3QvtC1INC/0YDQtdC00LvQvtC20LXQvdC40LU8L3NtYWxsPjxkaXY+PGgyIG5nLWlmPVxcXCJmaXJtX2RhdGEuY3VyX2Zpcm0ubGlua1xcXCI+PG1kLWJ1dHRvbiBjbGFzcz1cXFwibWQtYWNjZW50IG1kLXJhaXNlZFxcXCIgYXJpYS1sYWJlbD1cXFwi0YHQv9C10YYg0L/RgNC10LTQu9C+0LbQtdC90LjQtVxcXCIgc3R5bGU9XFxcIm1hcmdpbi1sZWZ0OiAwXFxcIiB0YXJnZXQ9XFxcIl9ibGFua1xcXCIgbmctaHJlZj1cXFwie3tmaXJtX2RhdGEuY3VyX2Zpcm0ubGluay5saW5rfX1cXFwiPjxzcGFuIG5nLWJpbmQ9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5saW5rLnRleHRcXFwiPjwvc3Bhbj48L21kLWJ1dHRvbj48L2gyPjxoMiBjbGFzcz1cXFwibWQtc3ViaGVhZFxcXCIgbmctaWY9XFxcIiFmaXJtX2RhdGEuY3VyX2Zpcm0ubGlua1xcXCI+0J7QsdGK0Y/QstC70LXQvdC40LU8L2gyPjwvZGl2PjxwPjwvcD48cCBuZy1pZj1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmFydGljbGVcXFwiPjxzcGFuIG5nLWJpbmQtaHRtbD1cXFwiZmlybV9kYXRhLmN1cl9maXJtLmFydGljbGVcXFwiPjwvc3Bhbj48L3A+PHAgbmctaWY9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5mYXNfd2FybmluZ1xcXCI+PHNtYWxsIG5nLWJpbmQ9XFxcImZpcm1fZGF0YS5jdXJfZmlybS5mYXNfd2FybmluZ1xcXCI+PC9zbWFsbD48L3A+PHA+PC9wPjwvZGl2PlwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcImFnZ2xvLWl0ZW0vc3BlYy1pdGVtL3NhbG9uLWxpc3Qvc2Fsb24tbGlzdC50cGwuaHRtbFwiLFwiPGRpdiBjbGFzcz1cXFwiZnVsbC1oZWlnaHRcXFwiPjxkaXYgY2xhc3M9XFxcInBhZGRpbmcgdGV4dC1jZW50ZXJcXFwiIG5nLWlmPVxcXCIhbWFwX2NlbnRlci5sbmdcXFwiPtC30LDQs9GA0YPQt9C60LAg0LrQsNGA0YLRiy4uLjxicj48aW9uLXNwaW5uZXI+PC9pb24tc3Bpbm5lcj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJmdWxsLWhlaWdodFxcXCIgbmctaWY9XFxcIm1hcF9jZW50ZXIubG5nXFxcIiBkYXRhLXRhcC1kaXNhYmxlZD1cXFwidHJ1ZVxcXCI+PGxlYWZsZXQgY2xhc3M9XFxcIm15LW1hcCBjdXN0b20tcG9wdXBcXFwiIGNlbnRlcj1cXFwibWFwX2NlbnRlclxcXCIgZGVmYXVsdHM9XFxcIm1hcF9kZWZhdWx0c1xcXCIgbWFya2Vycz1cXFwiZmlybV9saXN0X2RhdGEubWFwX21hcmtlcnNcXFwiIGV2ZW50LWJyb2FkY2FzdD1cXFwibWFwX2V2ZW50c1xcXCIgcGF0aHM9XFxcIm1hcF9wYXRoc1xcXCI+PC9sZWFmbGV0PjxkaXYgc3R5bGU9XFxcInRvcDo0cHg7IHJpZ2h0OjRweDsgcG9zaXRpb246IGFic29sdXRlO1xcXCI+PGRpdiBzdHlsZT1cXFwiYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjcpOyBjb2xvcjogIzMzMzsgcGFkZGluZzogMCA1cHg7XFxcIj48c3BhbiBuZy1zaG93PVxcXCJ6dXJwb3Muem9vbSA8IDE0XFxcIiBzdHlsZT1cXFwiY29sb3I6I2RkMDAwMFxcXCI+0L/RgNC40LHQu9C40LfRjNGC0LUg0LrQsNGA0YLRgyDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDQvNC10YLQvtC6PC9zcGFuPiA8c3BhbiBuZy1zaG93PVxcXCJ6dXJwb3Muem9vbSA+PSAxNFxcXCI+PHNwYW4gbmctc2hvdz1cXFwiZmlybV9saXN0X2RhdGEudG90YWwgPiAwXFxcIj7RgdCw0LvQvtC90L7QsiDQsiDRgNCw0LTQuNGD0YHQtSAz0LrQvDogPGIgbmctYmluZD1cXFwiZmlybV9saXN0X2RhdGEudG90YWxcXFwiPjwvYj48L3NwYW4+IDxzcGFuIG5nLXNob3c9XFxcImZpcm1fbGlzdF9kYXRhLnRvdGFsID09PSAwXFxcIj7QvdC1INC90LDQudC00LXQvdC+INGB0LDQu9C+0L3QvtCyINC90LAg0LLRi9Cx0YDQsNC90L3QvtC5INGC0LXRgNGA0LjRgtC+0YDQuNC4PC9zcGFuPjwvc3Bhbj48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj5cIik7fV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==