!function(e){"use strict";var t=function(e,t,r){t.disableAutoScrolling(),e.theme("tdark","default").primaryPalette("pink").accentPalette("blue").dark(),e.theme("default").primaryPalette("pink",{"default":"500","hue-1":"200","hue-2":"800","hue-3":"A100"}).accentPalette("blue",{}).warnPalette("red"),r.setPrefix("ppa").setStorageType("localStorage")};e.module("myApp.appConfig",["ngMaterial","LocalStorageModule","myApp.templateFactory","angulartics","angulartics.dev","anguphantom"]).config(["$mdThemingProvider","$anchorScrollProvider","localStorageServiceProvider",t])}(window.angular),function(e){"use strict";var t=function(){};e.module("myApp.AppController",["myApp.appFilters"]).controller("AppController",[t])}(window.angular),function(e,t){"use strict";var r=function(e,t){var r=function(e,r){t.document.title=e;var i=t.document.querySelector("meta[name=description]");i&&(i.content=r)};e.$on("$stateChangeSuccess",function(e,t,i){var n,a;t.data&&(t.data.ttl&&(n=t.data.ttl.replace(/{\w+}/g,function(e){return i[e.substring(1,e.length-1)]||""})),t.data.dscr&&(a=t.data.dscr.replace(/{\w+}/g,function(e){return i[e.substring(1,e.length-1)]||""}))),r((n||"Мастера и салоны красоты")+" - МисКра",(a||"Парикмахер, визажист, уход за ногтями, уход ресницами - Многие города России, а также Украины, Казахстана, Белоруссии - Мастера и салоны красоты")+" - МисКра")}),e.$on("$locationChangeSuccess",function(t,r,i){e.prevUrl=i===r?null:i})};e.module("myApp",["myApp.appConfig","myApp.routeConfig"]).run(["$rootScope","$window",r]);var i=function(){console.log("waitWhileInit..."),t.waitWhileInit(function(t){if(t)return void alert(t.message);var r=document.getElementsByClassName("start-loader");r[0]&&(r[0].style.display="none"),console.log("bootstraped"),e.bootstrap(document,["myApp"])})};console.log("starting..."),e.element(document).ready(function(){window.cordova?(console.log("cordova initialized"),document.addEventListener("deviceready",i,!1)):i()})}(window.angular,window.snns),function(e){"use strict";var t=function(e,t,r){r.html5Mode(!0).hashPrefix("!");var i="",n="/";t.state("byt",{url:i,"abstract":!0,views:{mainContent:{templateUrl:"app.tpl.html",controller:"AppController",controllerAs:"crApp"}}}).state("byt.welcome",{url:n,views:{appContent:{templateUrl:"welcome/wlc.tpl.html",controller:"WlcController"}}}).state("byt.orderItem",{url:"/order/{id:int}?title=",views:{appContent:{templateUrl:"ord/order-item.tpl.html",controller:"OrderItemController"}},resolve:{q_id:["$stateParams",function(e){return e.id}],q_title:["$stateParams",function(e){return e.title}]},data:{ttl:"Заказ {id}: {title}",dscr:"Наименование, описание, условия заказа {id} на подбор мастера красоты: {title}"}}).state("byt.orderList",{url:"orders?region=",views:{appContent:{templateUrl:"ord/order-list.tpl.html",controller:"OrderListController"}},resolve:{q_region:["$stateParams",function(e){return e.region}]},data:{ttl:"Заказы на подбор мастеров красоты {region}",dscr:"Перечень заказов на подбор мастеров красоты в городе {region}: наименования, условия, описания, возможность ответа"}}).state("byt.orderCreator",{url:"/new-order?region&rubric",views:{appContent:{templateUrl:"ord/order-creator.tpl.html",controller:"OrderCreatorController"}},resolve:{q_region:["$stateParams",function(e){return e.region}],q_rubric:["$stateParams",function(e){return e.rubric}]},data:{ttl:"Заказать подбор мастера красоты",dscr:"Подбор мастера или салона красоты по вашим требованиям"}}).state("byt.orderEditor",{url:"/order-editor/:id",views:{appContent:{templateUrl:"ord/order-editor.tpl.html",controller:"OrderEditorController"}},resolve:{q_id:["$stateParams",function(e){return e.id}]},data:{ttl:"Редактирование заказа {id}",dscr:"Редактирование наименования, описания, условий заказа на подбор мастера красоты {id}"}}).state("byt.orderRemover",{url:"/order-remover/{id:int}?{key:int}",views:{appContent:{templateUrl:"ord/order-remover.tpl.html",controller:"OrderRemoverController"}},resolve:{q_id:["$stateParams",function(e){return e.id}],q_key:["$stateParams",function(e){return e.key}]},data:{ttl:"Удаление заказа {id}",dscr:"Безвозвратное удаление заказа на подбор мастера красоты {id}, а также всех связанных операций по заказу"}}).state("byt.aggloList",{url:"/города",views:{appContent:{templateUrl:"agglo-list/agglo-list.tpl.html",controller:"AggloListController"}},data:{ttl:"Выбор города",dscr:"Указание необходимого города из списка: Москва, Санкт-Петербург, Новосибирск, Алматы, Екатеринбург, Нижний Новгород, Казань, Челябинск, Омск, Самара и другие города"}}).state("byt.aggloItem",{url:"/города/:agglo_local_name","abstract":!0,views:{appContent:{templateUrl:"agglo-item/agglo-item.tpl.html",controller:"AggloItemController"}},resolve:{q_agglo_local_name:["$stateParams",function(e){return e.agglo_local_name}]}}).state("byt.about",{url:"/about",views:{appContent:{templateUrl:"about/about.tpl.html",controller:"AboutController"}},data:{ttl:"О проекте",dscr:"Описание предоставляемых услуг по поиску мастеров и салонов красоты, варианты поиска, контактная информация"}}).state("byt.agreement",{url:"/agreement",views:{appContent:{templateUrl:"agreement/agreement.tpl.html",controller:"AgreementController"}},data:{ttl:"Пользовательское соглашение",dscr:"Термины, предмет, пределы использования, территория, срок действия и прочие положения по соглашению"}}).state("byt.aggloItem.specList",{url:"/услуги",views:{aggloItemContent:{templateUrl:"agglo-item/spec-list/spec-list.tpl.html",controller:"SpecListController"}},data:{ttl:"{agglo_local_name} - мастера и салоны красоты",dscr:"Услуги мастеров и салонов красоты в городе {agglo_local_name}: прическа, маникюр, макияж, стрижка, шеллак, педикюр, наращивание ногтей, наращивание ресниц и другое"}}).state("byt.aggloItem.specItem",{url:"/услуги/:spec_name","abstract":!0,views:{aggloItemContent:{templateUrl:"agglo-item/spec-item/spec-item.tpl.html",controller:"SpecItemController"}},resolve:{q_spec_name:["$stateParams",function(e){return e.spec_name}]}}).state("byt.aggloItem.specItem.rubricItem",{url:"/рубрики/:rubric_name","abstract":!0,views:{specItemContent:{templateUrl:"agglo-item/spec-item/rubric-item/rubric-item.tpl.html",controller:"RubricItemController"}},resolve:{q_rubric_name:["$stateParams",function(e){return e.rubric_name}]}}).state("byt.aggloItem.specItem.rubricItem.mapView",{url:"/карта",views:{rubricItemContent:{templateUrl:"agglo-item/spec-item/rubric-item/map-view/map-view.tpl.html",controller:"MapViewController"}},data:{ttl:"{rubric_name} - {agglo_local_name} - на карте",dscr:"{rubric_name} на карте города {agglo_local_name}: адреса и контактные данные мастеров и салонов красоты"}}).state("byt.aggloItem.specItem.rubricItem.prtfPrev",{url:"/портфолио",resolve:{rdr:["$location","$state","$stateParams",function(e,t,r){e.url(t.href("byt.aggloItem.specItem.rubricItem.prtfView",r))}]}}).state("byt.aggloItem.specItem.rubricItem.prtfView",{url:"/фото",views:{rubricItemContent:{templateUrl:"agglo-item/spec-item/rubric-item/prtf-view/prtf-view.tpl.html",controller:"PrtfViewController"}},data:{ttl:"Фото - {rubric_name} - {agglo_local_name}",dscr:"Фотографии работ по услуге {rubric_name} в городе {agglo_local_name}: избранные работы в хорошем качестве"}}).state("byt.aggloItem.specItem.rubricItem.tblView",{url:"/каталог",views:{rubricItemContent:{templateUrl:"agglo-item/spec-item/rubric-item/tbl-view/tbl-view.tpl.html",controller:"TblViewController"}},data:{ttl:"Каталог - {rubric_name} - {agglo_local_name}",dscr:"Каталог мастеров и салонов красоты, предоставляющих услугу {rubric_name} в городе {agglo_local_name}: адреса, контактные данные, фотографии работ"}}).state("byt.splrManager",{url:"/manage{supplier_id:[0-9]{6,50}}",views:{appContent:{templateUrl:"splr-manager/splr-manager.tpl.html",controller:"SplrManagerController"}},data:{ttl:"Редактирование мастера / салона красоты",dscr:"Редактирование мастера или салона красоты: профиль, адрес, контактные данные, ссылки на другие источники"},resolve:{q_id:["$stateParams",function(e){return e.supplier_id}]}}).state("byt.splrManager.profile",{url:"/profile",views:{managerContent:{templateUrl:"splr-manager/profile/profile-edt.tpl.html",controller:"SplrProfileEdtController"}},data:{ttl:"Профиль - редактирование",dscr:"Редактирование профиля мастера или салона красоты: наименование, биография, описание, опыт работы и т.п."}}).state("byt.splrManager.servs",{url:"/servs",views:{managerContent:{templateUrl:"splr-manager/servs/servs-edt.tpl.html",controller:"SplrServsEdtController"}},data:{ttl:"Услуги - редактирование",dscr:"Редактирование услуг и работ мастера или салона красоты: экспорт из соотвествующего аккаунта"}}).state("byt.splrManager.address",{url:"/address",views:{managerContent:{templateUrl:"splr-manager/address/agglo-edt.tpl.html",controller:"SplrAggloEdtController"}},data:{ttl:"Адрес - редактирование",dscr:"Редактирование адреса мастера или салона красоты: выбор города, района, указание адреса, как пройти, проехать, выбор районов работы на выезде"}}).state("byt.splrManager.social",{url:"/socials",views:{managerContent:{templateUrl:"splr-manager/social/social-edt.tpl.html",controller:"SplrSocialEdtController"}},data:{ttl:"Соцконтакты - редактирование",dscr:"Редактирование контактов мастера или салона красоты: ссылки в социальных сетях и на личные сайты, контакты популярных мессенджеров: скайп, вибер, вотсап"}}).state("byt.splrManager.phone",{url:"/phone",views:{managerContent:{templateUrl:"splr-manager/phone/phone-edt.tpl.html",controller:"SplrPhoneEdtController"}},data:{ttl:"Телефон - редактирование",dscr:"Редактирование номера телефона мастера или салона красоты"}}).state("byt.splrManager.email",{url:"/email",views:{managerContent:{templateUrl:"splr-manager/email/email-edt.tpl.html",controller:"SplrEmailEdtController"}},data:{ttl:"Имэйл - редактирование",dscr:"Редактирование электронного адреса мастера или салона красоты"}}).state("byt.splrManager.removal",{url:"/removal",views:{managerContent:{templateUrl:"splr-manager/removal/removal.tpl.html",controller:"SplrRemovalController"}},data:{ttl:"Аккаунт - удаление",dscr:"Удаление аккаунта мастера или салона красоты: удаление всех связанных данных и выход из системы"}}).state("byt.splrLogin",{url:"/login-pwd",views:{appContent:{templateUrl:"splr-login/splr-login.tpl.html",controller:"SplrLoginController"}},data:{ttl:"Вход и регистрация для мастеров и салонов",dscr:"Вход или регистрация с последующим входом для мастеров и салонов красоты: форма входа по логину и паролю"}}).state("byt.oauthLogin",{url:"/login",views:{appContent:{templateUrl:"splr-login/oauth-login.tpl.html",controller:"OauthLoginController"}},data:{ttl:"Вход для мастеров и салонов",dscr:"Вход или регистрация для мастеров и салонов красоты с использованием аккаунта Инстаграм: автоматический экспорт работ и услуг, переход в личный кабинет"}}).state("byt.oauthCallback",{url:"/callback",views:{appContent:{templateUrl:"splr-login/oauth-callback.tpl.html"}},data:{ttl:"Идёт авторизация...",dscr:"Страница завершения авторизации через сторонние провайдеры аутентификации"}}).state("byt.splrItem",{url:"/id{supplier_id:[0-9]{6,50}}?hash&tpe&name","abstract":!0,views:{appContent:{templateUrl:"splr/splr-item.tpl.html",controller:"SplrItemController"}},resolve:{q_name:["$stateParams",function(e){return e.name}],q_id:["$stateParams",function(e){return e.supplier_id}],q_hash:["$stateParams",function(e){return e.hash}],q_tpe:["$stateParams",function(e){return e.tpe}]}}).state("byt.splrItem.main",{url:"",views:{splrItemContent:{templateUrl:"splr/main/splr-main.tpl.html",controller:"SplrMainController"}},data:{ttl:"Мастер / салон красоты {name} - id{supplier_id}",dscr:"Мастер / салон красоты {name} - адреса, контакты, телефон, имэйл, ссылки на страницы социальных сетей, фотографии работ и список предоставляемых услуг, id{supplier_id}"}}).state("byt.splrItem.servItem",{url:"/:serv_rubric_name",views:{splrItemContent:{templateUrl:"splr/serv-item/serv-item.tpl.html",controller:"ServItemController"}},resolve:{q_serv_rubric_name:["$stateParams",function(e){return e.serv_rubric_name}]},data:{ttl:"{serv_rubric_name} - {name}",dscr:"Услуга: {serv_rubric_name} - {name} - описание, выполненные работы, контактные данные"}}).state("byt.splrItem.servItem.workItem",{url:"/:serv_work_id",views:{servItemContent:{templateUrl:"splr/serv-item/work-item/work-item.tpl.html",controller:"WorkItemController"}},resolve:{q_serv_work_id:["$stateParams",function(e){return e.serv_work_id}]},data:{ttl:"Фото {serv_rubric_name} - {name} - работа {serv_work_id}",dscr:"Фотография {serv_rubric_name} от мастера / салона красоты: {name}. Идентификатор работы: {serv_work_id}"}}),e.otherwise(i+n)};e.module("myApp.routeConfig",["ui.router","ngMaterial","myApp.WlcController","myApp.AggloItemController","myApp.AggloListController","myApp.AboutController","myApp.AgreementController","myApp.SpecListController","myApp.SpecItemController","myApp.RubricItemController","myApp.MapViewController","myApp.PrtfViewController","myApp.TblViewController","myApp.OfferListController","myApp.SplrLoginController","myApp.SplrItemController","myApp.SplrMainController","myApp.ServItemController","myApp.WorkItemController","myApp.SplrManagerController","myApp.SplrProfileEdtController","myApp.SplrServsEdtController","myApp.SplrAggloEdtController","myApp.SplrSocialEdtController","myApp.SplrPhoneEdtController","myApp.SplrEmailEdtController","myApp.SplrRemovalController","myApp.UserStatusController","myApp.AppController","myApp.OrderItemController","myApp.OrderListController","myApp.OrderCreatorController","myApp.OrderEditorController","myApp.OrderRemoverController","myApp.OauthLoginController"]).config(["$urlRouterProvider","$stateProvider","$locationProvider",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i,n,a){console.log("loaded agglo item",a);var l=function(){var t=i.calcByLocalName(a);t?(e.cur_agglo=t,e.home_href=r.href("byt.aggloItem.specList",{agglo_local_name:t.local_name})):r.go("byt.welcome")};console.log("retrieve agglo if not yet loaded"),i.retrieveData().then(l)["catch"](function(t){console.log("aggloRetrieveError"),console.log(t),n.error("Технические неполадки: не удалось подключиться к серверу."),e.htmlReady()}),t(function(){e.is_prg=!0},500)};e.module("myApp.AggloItemController",["myApp.geoAggloRepo","myApp.notifFactory","myApp.searchDrct","myApp.scrollTopDrct"]).controller("AggloItemController",["$scope","$timeout","$state","geoAggloRepo","notifFactory","q_agglo_local_name",t])}(window.angular),function(e){"use strict";var t=function(e,t){e.href_welcome=t.href("byt.welcome"),e.htmlReady()};e.module("myApp.AboutController",[]).controller("AboutController",["$scope","$state",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){console.log("agglo list controller"),e.agglo_data=i.getData(),console.log("retrieve all agglos"),i.retrieveData()["catch"](function(e){r.error("Технические неполадки: не удалось подключиться к серверу."),console.log("aggloRetrieveError",e)})["finally"](function(){e.htmlReady()})};e.module("myApp.AggloListController",["myApp.notifFactory","myApp.geoAggloRepo"]).controller("AggloListController",["$scope","$state","notifFactory","geoAggloRepo",t])}(window.angular),function(e){"use strict";var t=function(e){e.htmlReady()};e.module("myApp.AgreementController",[]).controller("AgreementController",["$scope",t])}(window.angular),function(e){"use strict";e.module("myApp.appFilters",[]).filter("range",function(){return function(e,t){t=parseInt(t);for(var r=0;t>r;r++)e.push(r);return e}})}(window.angular),function(e){"use strict";var t=function(e,t,r){e.msg_body=r,e.hideDialog=function(){t.hide()}};e.module("myApp.AlrtController",["ngMaterial"]).controller("AlrtController",["$scope","$mdDialog","msg_body",t])}(window.angular),function(e){"use strict";e.module("myApp.drct",["myApp.scrollRepo"]).directive("onFinishRender",["$timeout",function(e){return{restrict:"A",link:function(t,r,i){t.$last===!0&&e(function(){t.$emit(i.onFinishRender)})}}}]).directive("scrollWatcher",["scrollRepo",function(e){return function(t,r){var i=r[0];r.bind("scroll",function(){e.setPos(i.scrollTop),t.$apply()})}}])}(window.angular),function(e){"use strict";var t=function(e,t,r){e.scrollToTop=function(){r.scrollToHash("top_block")},e.scroll_data=r.getData()},r=function(){return{restrict:"A",templateUrl:"drct/scroll-top.tpl.html",controller:["$scope","$location","scrollRepo",t]}};e.module("myApp.scrollTopDrct",["myApp.scrollRepo"]).directive("scrollTopDrct",[r])}(window.angular),function(e){"use strict";var t=function(t){var r=e.lowercase(t);return function(e){return e.name.toLowerCase().indexOf(r)>=0}},r=function(e,r){e.querySearch=function(r){return r?e.items.filter(t(r)):e.items},e.onSelectedItemChange=function(t){console.log("selected item change",t,e.qdata.qitem),t&&r.url(t.url)}},i=function(){return{restrict:"A",templateUrl:"drct/search.tpl.html",scope:{items:"=",qdata:"="},controllerAs:"ctrl",controller:["$scope","$location",r]}};e.module("myApp.searchDrct",[]).directive("searchDrct",[i])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){if(e.supItem.master_address){var n=i.calcById(e.supItem.master_address.geo_district_id);n&&(e.city_name=n.local_name);var a=e.supItem.master_address.description;a&&(e.supItem.sup_geo=r.calcAddrFromDescription(a),e.supItem.cus_geo=r.calcOutGeoFromDescription(a),e.supItem.sup_geo||e.supItem.cus_geo||console.log("dscr parsing problem",e.supItem.id,e.supItem.name,a))}e.saveHash=function(e){t.hash(e)}},r=function(e,r){var i=function(t,i,n){return n.index<=2?void(t.is_viewed=!0):void e.addListener(n.index,function(){r.isElemInViewport(i[0],200)&&(e.removeListener(n.index),t.is_viewed=!0)})};return{restrict:"A",templateUrl:"drct/tbl-item.tpl.html",scope:{supItem:"="},controller:["$scope","$location","splrAddressHelper","geoAggloRepo",t],link:i}};e.module("myApp.tblItemDrct",["myApp.splrAddressHelper","myApp.scrollRepo","myApp.hprFactory","myApp.geoAggloRepo"]).directive("tblItemDrct",["scrollRepo","hprFactory",r])}(window.angular),function(e){"use strict";var t=function(){var e=function(e,t,r){if(console.log("vkLikeDrct",t[0]),!r.pageId||!r.pageUrl)throw new Error("required pageId and pageUrl");if(console.log("pageUrl",r.pageUrl,decodeURI(r.pageUrl)),console.log("pageId",r.pageId),console.log("pageImage",r.pageImage),!window.VK)return void console.log("no vk like",r.id,r.pageUrl);var i={type:"button",url:r.pageUrl,pageUrl:r.pageUrl,title:r.pageTitle,pageTitle:r.pageTitle,description:r.pageDescription,pageDescription:r.pageDescription};r.pageImage&&(i.image=r.pageImage,i.pageImage=r.pageImage),console.log("opts",i),window.VK.Widgets.Like(r.id,i,r.pageId)};return{restrict:"A",link:e}};e.module("myApp.vkLikeDrct",[]).directive("vkLikeDrct",[t])}(window.angular),function(e){"use strict";var t=function(){var e=function(e,t,r){if(console.log("vksharedrct",t[0],r),!r.pageUrl)throw new Error("no pageUrl");if(!window.VK)return void console.log("no vk");if(!window.VK.Share)return void console.log("no vk.Share");if(!window.VK.Share.button)return void console.log("no vk.Share.button");var i={url:r.pageUrl,title:r.pageTitle,description:r.pageDescription};r.pageImage&&(i.image=r.pageImage);try{t[0].innerHTML=window.VK.Share.button(i,{type:"round",height:24,text:"Сохранить"})}catch(n){console.log("VK.Share.button() exc",n)}};return{restrict:"A",link:e}};e.module("myApp.vkShareDrct",[]).directive("vkShareDrct",[t])}(window.angular),function(e){"use strict";var t=function(e,t,r){e.arr_serv_work=r.arr_serv_work,e.cur_index=r.cur_index,e.moveNext=function(){e.cur_index<e.arr_serv_work.length-1&&e.cur_index++},e.movePrev=function(){e.cur_index>0&&e.cur_index--},e.hideDialog=function(){t.hide()}};e.module("myApp.FullWorkController",["ngMaterial"]).controller("FullWorkController",["$scope","$mdDialog","reqOpts",t])}(window.angular),function(e){"use strict";var t=function(e,t,r){e.item={splr_name:"",splr_contact:"",dscr:""},e.sendItem=function(i){e.is_progress=!0,r.sendGet("/sess/reg-free",{link:JSON.stringify(i)+" : "+JSON.stringify(e.orderItem)}).then(function(){alert("Ответ успешно отправлен. Если заказчика удовлетворит предложение или возникнут вопросы, он свяжется с вами. Также вы можете зарегистрироваться в системе для размещения в каталогах и уведомлений о новых заказах"),t.go("byt.oauthLogin")})["catch"](function(t){console.log(t),alert("Возникла непредвиденная ошибка. Попробуйте повторить запрос позже."),e.is_progress=!1})}},r=function(){return{restrict:"A",templateUrl:"ord/order-answer.tpl.html",scope:{orderItem:"="},controller:["$scope","$state","apimas",t]}};e.module("myApp.orderAnswerDrct",["myApp.apimas"]).directive("orderAnswerDrct",[r])}(window.angular),function(e){"use strict";var t=function(t,r,i,n,a,l,o){t.q_region=l,t.q_rubric=o,t.ord={email:"",dscr:""},a.retrieveData().then(function(e){t.groups=e.arr_serv_group})["catch"](function(e){t.err_groups={msg:"Ошибка загрузки категорий. Пожалуйста, попробуйте позже",reason:e},console.log(e)}),t.$watch("groups",function(r){var i,n=[];r&&e.forEach(r,function(t){e.forEach(t.arr_serv_rubric,function(e){var t={name:e.name};o&&e.name===o&&(i=t),n.push(t)})}),t.qdata={qitem:i},t.arr_search_item=n},!0),t.home_href=i.href("byt.aggloItem.specList",{agglo_local_name:l}),t.sendOrder=function(e){return t.qdata&&t.qdata.qitem?(console.log(e.email,e.dscr,t.qdata.qitem.name,l),t.is_progress=!0,void n.sendGet("/sess/reg-free",{link:e.email+": "+e.dscr+": "+t.qdata.qitem.name+": "+l}).then(function(){alert("Заказ успешно отправлен. Результаты подбора будут высланы на указанный имэйл"),r.url(t.home_href)})["catch"](function(e){console.log(e),alert("Возникла непредвиденная ошибка. Попробуйте повторить запрос позже."),t.is_progress=!1})):void alert("Необходимо указать услугу")}};e.module("myApp.OrderCreatorController",["myApp.rubricRepo","myApp.apimas"]).controller("OrderCreatorController",["$scope","$location","$state","apimas","rubricRepo","q_region","q_rubric",t])}(window.angular),function(e){"use strict";var t=function(e){e.foo="bar"};e.module("myApp.OrderEditorController",[]).controller("OrderEditorController",["$scope",t])}(window.angular),function(e){"use strict";var t=[],r=function(e,r,i,n){e.home_href=i.href("byt.welcome");var a=function(e){var i=t.filter(function(t){return t.id===e})[0];return console.log(i),i?r.when(i):r.reject("NotFound")};a(n).then(function(t){e.item=t,e.home_href=i.href("byt.aggloItem.specList",{agglo_local_name:e.item.region})})["catch"](function(t){e.err_obj="NotFound"===t?{msg:"Заказ "+n+" не найден либо уже был удалён",detail:t}:{msg:"Возникла непредвиденная ошибка при загрузке. Пожалуйста повторите позже",detail:t}})};e.module("myApp.OrderItemController",["myApp.orderAnswerDrct"]).controller("OrderItemController",["$scope","$q","$state","q_id",r])}(window.angular),function(e){"use strict";var t=function(e){e.foo="bar"};e.module("myApp.OrderListController",[]).controller("OrderListController",["$scope",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i,n,a){var l=r.toHashCode(n);return console.log(l),console.log(a),l!==a?void t.go("byt.welcome"):(e.item={id:n,key:a,state:"removed",created:"19.09.2015"},void(e.removeItem=function(){e.is_progress=!0,i.sendGet("/sess/reg-free",{link:JSON.stringify(e.item)}).then(function(){alert("Заказ успешно удалён. Спасибо за использование сервиса."),t.go("byt.welcome")})["catch"](function(t){console.log(t),alert("Возникла непредвиденная ошибка. Попробуйте повторить запрос позже."),e.is_progress=!1})}))};e.module("myApp.OrderRemoverController",["myApp.hprFactory","myApp.apimas"]).controller("OrderRemoverController",["$scope","$state","hprFactory","apimas","q_id","q_key",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i,n){e.splr={id:t,name:n}};e.module("myApp.SplrItemController",[]).controller("SplrItemController",["$scope","q_id","q_tpe","q_hash","q_name",t])}(window.angular),function(e,t){"use strict";var r=function(r,i,n,a,l){r.sendRegFree=function(e){e&&(r.reg_free_sended=!0,l.sendRegFree(e).then(function(){alert("Ссылка успешно отправлена. По возможности информация будет добавлена в каталог сервиса.")})["catch"](function(e){console.log(e),alert("Возникла непредвиденная ошибка. Попробуйте повторить запрос позже.")}))};var o=function(){var e=n.getData();i.go("byt.splrItem.main",{supplier_id:e.uid})},s=function(e){console.log(e)},d=function(e){return e.data?void n.updateSess(e.data.auth_token).then(o)["catch"](s):void c(new Error("no r.data"))},c=function(e){console.log(e)},u=function(e,r,i){var n="code"===r?i.code:i.access_token;return n?void l.sendOauth(n,r,t.OAUTH_CALLBACK,e).then(d)["catch"](c):void c("required: code or access_token")},m=function(e){console.log(e)};r.openOauth=function(){a.loginNstg(t.OAUTH_NSTG_ID,"code",t.OAUTH_CALLBACK,[]).then(e.bind(null,u,"nstg","code"))["catch"](m)}};e.module("myApp.OauthLoginController",["myApp.oauthEntry","myApp.apimas","myApp.sessRepo"]).controller("OauthLoginController",["$scope","$state","sessRepo","oauthEntry","apimas",r])}(window.angular,window.APPCONF),function(e){"use strict";var t=function(e,t,r,i){e.auth={lgn:"",pwd:""};var n=function(e){if(!e.data)return void a(new Error("no r.data"));var r=function(){var e=i.getData();t.go("byt.splrItem.main",{supplier_id:e.uid})};i.updateSess(e.data.auth_token).then(r)["catch"](a)},a=function(t){switch(t.status){case 422:if("validationError"===t.data.errkey){var r=t.data.details||{};e.err_msg="pwd"===r.property&&"is not correct"===r.msg?"неверный пароль":"lgn"===r.property?"неверный логин":JSON.stringify(t.data.details)}else e.err_msg=JSON.stringify(t.data);return;case 401:return void(e.err_msg="Ошибка авторизации: неверные данные")}console.log(t),e.err_msg="Непредвиденная ошибка"},l=function(){e.in_progress=!1};e.sendAuth=function(t,i){e.err_msg="",e.in_progress=!0,r.sendLogin({lgn:t,pwd:i}).then(n)["catch"](a)["finally"](l)}};e.module("myApp.SplrLoginController",["myApp.apimas","myApp.sessRepo"]).controller("SplrLoginController",["$scope","$state","apimas","sessRepo",t])}(window.angular),function(e){"use strict";var t=function(e,t,r){var i=function(t){t?(t.master_address||(t.master_address={master_profile_id:t.id}),e.supplier=t,console.log(e.supplier)):e.err_msg="Мастер / салон не найден. Возможно страница была удалена."},n=function(t){console.log("reason",t),e.err_msg="Возникла непредвиденная ошибка. Повторите запрос позже."},a=function(){e.htmlReady()};t.retrieveData(r,!0).then(i)["catch"](n)["finally"](a)};e.module("myApp.SplrManagerController",["myApp.supItemRepo"]).controller("SplrManagerController",["$scope","supItemRepo","q_id",t])}(window.angular),function(e){"use strict";var t=function(e,t,r){e.href_login=t.href("byt.oauthLogin",{}),e.logout=function(){r.deleteSess()};var i=function(){var i=function(e){alert("Ошибка авторизации"),console.log(e)},n=function(){e.sessData=r.getData(),e.sessData.is_supplier&&(e.href_manage=t.href("byt.splrManager.profile",{supplier_id:e.sessData.uid}),e.href_supplier=t.href("byt.splrItem.main",{supplier_id:e.sessData.uid}))};r.retrieveSess().then(n)["catch"](i)};i()};e.module("myApp.UserStatusController",["myApp.sessRepo"]).controller("UserStatusController",["$scope","$state","sessRepo",t])}(window.angular),function(e,t){"use strict";var r=function(e,r,i,n,a,l,o,s,d,c){var u=function(){l.error("Не удалось определить город. Попробуйте выбрать вручную")};e.isDefineSocCity=!!t.getSocCity,e.defineSocCity=function(){return e.isDefineSocCity?void t.getSocCity(function(e){if(e){var t=s.findElemByProp(o.getData().arr_geo_agglo,"local_name",e);if(!t)return void l.error("Ваше местоположение "+e+" не поддерживается приложением");m(t)}else u()}):void u()},e.loc_data=d.getData(),e.perm_data=c.getData();var m=function(e){r.go("byt.aggloItem.specList",{agglo_local_name:e.local_name})},p=function(){var t=d.getData().coords;o.calcAggloByCoords(t.lat,t.lng).then(function(t){t?(c.saveLocationPermission(),m(t)):(l.error("Местоположение не поддерживается сервисом. Попробуйте выбрать вручную."),e.htmlReady())})};e.defineLocation=function(){d.retrieveFromDevice().then(p)["catch"](function(t){l.error(t),e.htmlReady()})},e.cleanLocationPermission=function(){c.cleanLocationPermission()};var g=function(){c.checkLocationPermission().then(function(t){t,e.htmlReady()})};o.retrieveData().then(g)["catch"](function(t){l.error("Технические неполадки: не удалось подключиться к серверу."),console.log("aggloRetrieveError",t),e.htmlReady()}),a(function(){e.is_prg=!0},500)};e.module("myApp.WlcController",["ui.router","myApp.notifFactory","myApp.geoAggloRepo","myApp.hprFactory","myApp.locRepo","myApp.permRepo"]).controller("WlcController",["$scope","$state","$log","$http","$timeout","notifFactory","geoAggloRepo","hprFactory","locRepo","permRepo",r])}(window.angular,window.snns),function(e){"use strict";var t=function(){var e=this;e.offer_list=[]};e.module("myApp.OfferListController",[]).controller("OfferListController",[t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i,n,a,l,o){console.log("spec_item",o,l),a.retrieveData().then(function(e){var r=n.findElemByProp(e.arr_serv_group||[],"name",o);return r?t.when(r):t.reject("Не найдена специализация")}).then(function(t){e.cur_spec=t})["catch"](function(t){e.err_cur_spec={msg:"Ошибка загрузки специализации. Пожалуйста, попробуйте позже",reason:t},console.log("retrieveData",t),e.htmlReady()}),r(function(){e.is_prg=!0},500)};e.module("myApp.SpecItemController",["myApp.notifFactory","myApp.hprFactory","myApp.rubricRepo"]).controller("SpecItemController",["$scope","$q","$timeout","notifFactory","hprFactory","rubricRepo","q_agglo_local_name","q_spec_name",t])}(window.angular),function(e,t){"use strict";var r=function(r,i,n,a){return r.cur_agglo?(r.gnrtLink=function(e,t,i){return n.href("byt.aggloItem.specItem.rubricItem."+i,{agglo_local_name:r.cur_agglo.local_name,spec_name:e,rubric_name:t})},r.rubric_limit=6,a.retrieveData().then(function(e){r.groups=e.arr_serv_group,r.htmlReady()})["catch"](function(e){r.err_groups={msg:"Ошибка загрузки категорий. Пожалуйста, попробуйте позже",reason:e},console.log(e),r.htmlReady()}),r.$watch("groups",function(t){var i=[];t&&e.forEach(t,function(t){e.forEach(t.arr_serv_rubric,function(e){i.push({name:e.name,url:n.href("byt.aggloItem.specItem.rubricItem.tblView",{agglo_local_name:r.cur_agglo.local_name,spec_name:t.name,rubric_name:e.name})})})}),r.arr_search_item=i},!0),r.isShowLeftLinkBox=!t.is_left_link&&!!t.showLeftLinkBox,r.showLeftLinkBox=function(){r.isShowLeftLinkBox&&(t.showLeftLinkBox(),t.is_left_link=!0,r.isShowLeftLinkBox=!1)},void i(function(){r.is_prg=!0},500)):void n.go("byt.welcome")};e.module("myApp.SpecListController",["myApp.rubricRepo"]).controller("SpecListController",["$scope","$timeout","$state","rubricRepo",r])}(window.angular,window.snns),function(e,t){"use strict";var r=function(e){var t=[];for(var r in e)null!==e[r]&&"object"!=typeof e[r]&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")},i=function(e,i,n,a){a.removeAll();var l=function(a,l){var o=n.getData().token;return o?e({method:"POST",url:t.APIMAS_POST_ENDPOINT+a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Authorization:"Bearer "+o},data:r(l)}):i.reject("Данный запрос требует авторизации")},o=function(i){return e({method:"POST",url:t.APIMAS_POST_ENDPOINT+"/sess/login",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:r(i)})},s=function(i){return e({method:"POST",url:t.APIMAS_POST_ENDPOINT+"/sess/reg-free",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:r(i)})},d=function(i,n,a,l){var o={tkn:i,response_type:n,redirect_uri:a,issuer_id:l};return console.log(o),e({method:"POST",url:t.APIMAS_POST_ENDPOINT+"/sess/oauth",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:r(o)})},c=function(r,i){return e({method:"GET",url:t.APIMAS_ENDPOINT+r,
params:i})};return{sendPost:l,sendGet:c,sendLogin:o,sendRegFree:s,sendOauth:d}};e.module("myApp.apimas",["myApp.sessRepo"]).factory("apimasCache",["$cacheFactory",function(e){return e("apimas-cache")}]).factory("apimas",["$http","$q","sessRepo","apimasCache",i])}(window.angular,window.APPCONF),function(e,t){"use strict";var r=function(e,r){var i={key:t.APICOM_KEY,version:t.APICOM_VERSION},n=function(e){return 200!==e.status?r.reject("Ошибка запроса"):e.data?"404"===e.data.response_code?r.reject("Не найдено информации по салону"):"200"!==e.data.response_code?r.reject("Ошибка при получении информации о салоне"):(window.DG&&window.DG.apitracker.regBC(e.data.register_bc_url),e.data):r.reject("Ошибка запроса")},a=function(r,a){return i.id=r,i.hash=a,e({method:"GET",url:t.APICOM_ENDPOINT+"/profile",params:i}).then(n)};return{loadFirm:a}};e.module("myApp.firmItemFactory",[]).factory("firmItemFactory",["$http","$q",r])}(window.angular,window.APPCONF),function(e,t){"use strict";var r=function(e,r){var i={key:t.APICOM_KEY,version:t.APICOM_VERSION,sort:"distance",page:1,pagesize:50,what:""},n=function(e){return 200!==e.status?r.reject("Ошибка запроса"):e.data?"404"===e.data.response_code?{total:0,markers:[]}:"200"!==e.data.response_code?r.reject("Ошибка запроса"):{total:parseInt(e.data.total,10),result:e.data.result}:r.reject("Ошибка запроса")},a=function(r,a,l,o){return i.what=r,i.point=a.toString()+","+l.toString(),i.radius=o,e({method:"GET",url:t.APICOM_ENDPOINT+"/search",params:i}).then(n)};return{loadFirmsByPoint:a}};e.module("myApp.firmListFactory",[]).factory("firmListFactory",["$http","$q",r])}(window.angular,window.APPCONF),function(e){"use strict";var t=function(e,t){var r=function(){var r=e.defer();return"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(e){r.resolve(e.coords)},function(e){t.log("geoloc error",e),r.reject("Не удалось получить текущее местоположение")},{timeout:1e4}):r.reject("Не удалось получить текущее местоположение"),r.promise};return{getCurCoords:r}};e.module("myApp.geolocFactory",[]).factory("geolocFactory",["$q","$log",t])}(window.angular),function(e,t){"use strict";e.module("angulartics.dev",["angulartics"]).config(["$analyticsProvider",function(e){e.registerPageTrack(function(e){t.trackPage(e)}),e.registerEventTrack(function(e,r){t.trackEvent(e,r)})}])}(window.angular,window.LYTIC),function(e){"use strict";return e.module("anguphantom",[]).run(["$rootScope",function(e){var t=function(){console.log("htmlReady"),"function"==typeof window.callPhantom&&(window.callPhantom({appResult:"clientFinished"}),console.log("callPhantomFromClient"))},r=function(){window.setTimeout(t,0)};e.htmlReady=function(){e.$evalAsync(r)}}])}(window.angular),function(e){"use strict";function t(t,r,i){function n(t,r){var i=!0;return e.forEach(t,function(e,t){r[t]!==e&&(i=!1)}),i}function a(a,l,o){var s=r.defer(),d=i.get(a);if(d){var c=e.fromJson(d),u=c.filter(e.bind(null,n,l));o?s.resolve(u):u.length>1?s.reject("notOnlyOne"):s.resolve(u[0])}else t.log("tbl not found",d,a),s.resolve(o?[]:null);return s.promise}function l(t,n){var a=r.defer(),l=i.get(t),o=l?e.fromJson(l):[],s=o.filter(function(e,t){return e.id===n.id?(o[t]=n,!0):!1})[0];return s||o.push(n),i.set(t,e.toJson(o)),a.resolve(n),a.promise}function o(t,a){var l=r.defer(),o=i.get(t);if(o){var s=e.fromJson(o);e.forEach(s,function(e,t){n(a,e)&&s.splice(t,1)}),i.set(t,e.fromJson(s))}return l.resolve(),l.promise}return{writeToStorage:l,readFromStorage:a,delFromStorage:o}}e.module("myApp.localDb",["LocalStorageModule"]).factory("localDb",["$log","$q","localStorageService",t])}(window.angular),function(e,t,r){"use strict";var i={code:"?",token:"#"},n=function(e){var t=["cordova-plugin-inappbrowser","org.apache.cordova.inappbrowser"];return t.some(function(t){return e.hasOwnProperty(t)})},a=function(e){if(e.split){for(var t=e.split("&"),r={},i=0;i<t.length;i++)r[t[i].split("=")[0]]=t[i].split("=")[1];return r}return{}},l=function(e,t,n){var l=t.split(i[n])[1],o=a(l);o.access_token!==r&&null!==o.access_token?e.resolve({access_token:o.access_token}):o.code!==r&&null!==o.code?e.resolve({code:o.code}):e.reject("Problem authenticating")},o=function(e,t,r,i){var n=e.defer(),a=window.open(t,"windowName","location=0,status=0,width=800,height=400"),o=function(){console.log(a);try{if(a.document){var e=a.document.URL;e.indexOf(r)>=0&&(console.log(e),window.clearInterval(s),a.close(),l(n,e,i))}}catch(t){console.log("myexc",t)}a.closed&&(window.clearInterval(s),n.reject("Auth is cancelled"))},s=window.setInterval(o,1500);return n.promise},s=function(e,t,r,i){var a=e.defer(),o=window.cordova.require("cordova/plugin_list").metadata;if(n(o)!==!0)return a.reject("Could not find InAppBrowser plugin"),a.promise;var s=window.open(t,"_blank","location=no,clearsessioncache=yes,clearcache=yes"),d=function(e){0===e.url.indexOf(r)&&(s.removeEventListener("exit",function(){}),s.close(),l(a,e.url,i))};return s.addEventListener("loadstart",d),s.addEventListener("exit",function(){a.reject("The sign in flow was canceled")}),a.promise},d=function(e){return{loginVkn:function(r,i,n,a){var l=t.OAUTH_VKN_URI+"?client_id="+r+"&redirect_uri="+n+"&response_type="+i+"&display=touch";return a&&a.length>0&&(l+="&scope="+a.join(",")),window.cordova?s(e,l,n,i):o(e,l,n,i)},loginNstg:function(r,i,n,a){var l=t.OAUTH_NSTG_URI+"?client_id="+r+"&redirect_uri="+n+"&response_type="+i;return a&&a.length>0&&(l+="&scope="+a.join(" ")),window.cordova?s(e,l,n,i):o(e,l,n,i)}}};e.module("myApp.oauthEntry",[]).factory("oauthEntry",["$q",d])}(window.angular,window.APPCONF,void 0),function(e,t){"use strict";var r=function(e){e=e.substr(9,e.length-11);var t=e.split(",");return t.map(function(e){return{latitude:parseFloat(e.split(" ")[1]),longitude:parseFloat(e.split(" ")[0])}})},i=function(){var i=function(e,i,n){return t.isPointInside({latitude:i,longitude:n},r(e))},n=function(t,r,n){var a;return e.forEach(t,function(e){a||i(e.extent,r,n)&&(a=e)}),a};return{isPointInsideWkt:i,convertWktToArr:r,findAggloByCoords:n}};e.module("myApp.geoHelper",[]).factory("geoHelper",[i])}(window.angular,window.geolib),function(e){"use strict";var t=function(){function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var t=function(e,t){return 0===e.length?!0:0===t.length?!1:(e.sort(),t.sort(),("|"+t.join("|")+"|").indexOf("|"+e.join("|")+"|")>=0)},r=function(e,t,r){var i=e.map(function(e){return e[t]}).indexOf(r);return-1===i?null:e[i]},i=function(e,t){t=t||0;var r=e.getBoundingClientRect();return r.top>=0-t&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)+t&&r.right<=(window.innerWidth||document.documentElement.clientWidth)},n=function(e){e=e.substr(6,e.length-7);var t=e.split(" ");return{longitude:parseFloat(t[0]),latitude:parseFloat(t[1])}},a=function(e){var t,r,i=e.length;for(console.log("shuffle");i>0;)r=Math.floor(Math.random()*i),i--,t=e[i],e[i]=e[r],e[r]=t;return e},l=function(e){e+="";var t,r,i,n=0;if(0===e.length)return n;for(t=0,i=e.length;i>t;t++)r=e.charCodeAt(t),n=(n<<5)-n+r,n|=0;return n};return{findElemByProp:r,isArrInArr:t,randomIntFromInterval:e,coordsFromWktPoint:n,isElemInViewport:i,shuffle:a,toHashCode:l}};e.module("myApp.hprFactory",[]).factory("hprFactory",[t])}(window.angular),function(e){"use strict";var t=function(){var e=function(e){var t;try{t=JSON.parse(e)}catch(r){return console.log("tbl parse address",r),console.log("dscr",e),""}var i=[t.supRegion,t.supStreet,t.supComment];return i=i.filter(function(e){return!!e}),i.join(", ")},t=function(e){var t;try{t=JSON.parse(e)}catch(r){return console.log("tbl parse address",r),""}if(!t.cusRegions)return"";var i=t.cusRegions.join(", ");return t.cusConds&&(i+=" ("+t.cusConds+")"),i};return{calcAddrFromDescription:e,calcOutGeoFromDescription:t}};e.module("myApp.splrAddressHelper",[]).factory("splrAddressHelper",[t])}(window.angular),function(e){"use strict";var t=function(e,t){return{retrieveData:function(e,r){return t.loadFirm(e,r)}}};e.module("myApp.firmItemRepo",["myApp.firmItemFactory"]).factory("firmItemRepo",["$q","firmItemFactory",t])}(window.angular),function(e){"use strict";var t={map_markers:{},total:0},r={hair:{name:"Парикмахерские"},lashes:{name:"Услуги по уходу за ресницами / бровями"},nail:{name:"Ногтевые студии"},makeup:{name:"Услуги визажиста"}},i=function(e,t){var r='<md-button class="md-accent" style="margin:0" href="/id'+t.id+"?tpe=map&hash="+t.hash+"&name="+t.name+'">Подробнее</md-button>',i="";t.micro_comment&&(i='<div><small class="md-caption">'+t.micro_comment+"</small></div>",t.fas_warning&&(i+='<div><small class="md-caption" style="color: #bb0000">'+t.fas_warning+"</small></div>"),i+="</div>");var n='<md-content style="background-color: transparent; font-size: 0.9rem"><div style="margin-bottom:2px"><strong>'+t.name+"</strong></div><div>"+t.address+"</div><md-divider></md-divider>"+i+'<div class="text-right">'+r+"</div></md-content>";e[t.id]={lat:parseFloat(t.lat),lng:parseFloat(t.lon),message:n}},n=function(t){var r={};return e.forEach(t,e.bind(null,i,r)),r},a=function(e,i){var a={};return{getData:function(){return t},retrieveData:function(l,o,s){if(l===a.lng&&o===a.lat&&s===a.servGroupId){var d=e.defer();return d.resolve(),d.promise}return i.loadFirmsByPoint(r[s].name,l,o,3e3).then(function(e){t.map_markers=n(e.result),t.total=e.total,a.lng=l,a.lat=o,a.servGroupId=s})}}};e.module("myApp.firmListRepo",["myApp.firmListFactory"]).factory("firmListRepo",["$q","firmListFactory",a])}(window.angular),function(e){"use strict";var t={total:95,arr_geo_agglo:[{id:69,inter_code:"abakan",local_name:"Абакан",extent:"POLYGON((91.144335482004479 53.893079087973547,91.8176261348819 53.901599178319934,91.826689329887415 53.577495795555983,91.1585537795122 53.569075534862705,91.144335482004479 53.893079087973547))",centroid:"POINT(91.442472351153171 53.720644406705851)",geo_id:"9711311898279938",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:67,inter_code:"almaty",local_name:"Алматы",extent:"POLYGON((76.725995552456567 43.469106272843845,77.108400310397244 43.462692429549705,77.096182318096027 43.108051229816695,76.715990607945855 43.114386539985126,76.725995552456567 43.469106272843845))",centroid:"POINT(76.945298460335479 43.238478354093388)",geo_id:"9429836921569282",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:108,inter_code:"almetevsk",local_name:"Альметьевск",extent:"POLYGON((52.206023728990068 54.949955935243253,52.47867270882881 54.946945490268646,52.473188750433735 54.796868587553433,52.201550283446835 54.799862421315375,52.206023728990068 54.949955935243253))",centroid:"POINT(52.34066798154042 54.897822283437442)",geo_id:"15200073944137730",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:106,inter_code:"armawir",local_name:"Армавир",extent:"POLYGON((40.876282066938032 45.249443471002209,41.322577701512934 45.241236147067454,41.301688205121486 44.721790713701743,40.859400259069133 44.729851522110685,40.876282066938032 45.249443471002209))",centroid:"POINT(41.129398144807638 44.99938466561872)",geo_id:"14918598967427074",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:49,inter_code:"arkhangelsk",local_name:"Архангельск",extent:"POLYGON((39.467082414952948 64.829966359408544,41.321174854904761 64.812570417734932,41.276670773905408 64.284304663716341,39.458117864653723 64.301293512826163,39.467082414952948 64.829966359408544))",centroid:"POINT(40.515612173915883 64.540018387092047)",geo_id:"6896562131173378",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:8,inter_code:"astrakhan",local_name:"Астрахань",extent:"POLYGON((47.863046103119117 46.503347635888808,48.172299239773579 46.5114180332153,48.185811776538756 46.249256739678877,47.878030868274983 46.241259442499526,47.863046103119117 46.503347635888808))",centroid:"POINT(48.030051931405474 46.347508188290796)",geo_id:"1126325108604930",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:4,inter_code:"barnaul",local_name:"Барнаул",extent:"POLYGON((83.463813531621938 53.486694333286316,84.087933813386243 53.472187007691154,84.065362312403579 53.158597718589526,83.445791542112588 53.172941207939978,83.463813531621938 53.486694333286316))",centroid:"POINT(83.776983118658535 53.342748369985905)",geo_id:"563375155183616",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:46,inter_code:"belgorod",local_name:"Белгород",extent:"POLYGON((36.4192775789588 50.695000465894118,36.71987188057453 50.701270897984152,36.729778938269924 50.495879470694788,36.430487399185893 50.48965439970673,36.4192775789588 50.695000465894118))",centroid:"POINT(36.58702981234083 50.595298750732589)",geo_id:"6474349666107394",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:20,inter_code:"biysk",local_name:"Бийск",extent:"POLYGON((84.568894422022282 52.63167032213903,85.46742823774 52.646704585026832,85.492485288834942 51.914550477491581,84.608614162785813 51.899905449798077,84.568894422022282 52.63167032213903))",centroid:"POINT(85.180281806741547 52.533480569348527)",geo_id:"2815174968868864",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:52,inter_code:"blagoveshensk",local_name:"Благовещенск",extent:"POLYGON((127.34503503178934 50.596533702065393,127.75466718708628 50.601633799551479,127.76441254416513 50.2284948558913,127.35798287875966 50.223461506057227,127.34503503178934 50.596533702065393))",centroid:"POINT(127.53452756818793 50.257513388264371)",geo_id:"7318774596239362",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:51,inter_code:"bratsk",local_name:"Братск",extent:"POLYGON((101.08962953528244 56.502619239477731,102.05977687973824 56.482496796862989,102.01605097379655 55.929923395051908,101.05973789213185 55.949632485570881,101.08962953528244 56.502619239477731))",centroid:"POINT(101.63360604153334 56.151711485609034)",geo_id:"7178037107884034",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:62,inter_code:"bryansk",local_name:"Брянск",extent:"POLYGON((34.1229493680588 53.431556107665273,34.604425027383392 53.426058371411,34.593688929333375 53.138522343293367,34.115433106417164 53.143963154882833,34.1229493680588 53.431556107665273))",centroid:"POINT(34.363703026621451 53.243506538181748)",geo_id:"8726149479792642",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:25,inter_code:"vladivostok",local_name:"Владивосток",extent:"POLYGON((131.59201826773614 43.616150384979051,132.34368466206763 43.59661915401491,132.3006019534028 42.803446153244515,131.55859091791902 42.822446345556614,131.59201826773614 43.616150384979051))",centroid:"POINT(131.88122987037303 43.111232039034505)",geo_id:"3518862410645506",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:59,inter_code:"vladimir",local_name:"Владимир",extent:"POLYGON((40.17844289006176 56.467819730265425,40.695168121688766 56.461839146312691,40.6761143052715 56.02823993340867,40.165193175523157 56.0341238827671,40.17844289006176 56.467819730265425))",centroid:"POINT(40.388842362249392 56.1427926814219)",geo_id:"8303937014726658",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:33,inter_code:"volgograd",local_name:"Волгоград",extent:"POLYGON((43.970586365048575 48.922097499861657,44.930029742337922 48.926670316374995,44.930865222357916 48.318600653246065,43.982875495058146 48.314123999604483,43.970586365048575 48.922097499861657))",centroid:"POINT(44.50425 48.74362)",geo_id:"4644762317488130",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:78,inter_code:"vologda",local_name:"Вологда",extent:"POLYGON((39.61158487414324 59.337288344033631,40.07793935028625 59.33426642759602,40.072155702928846 59.150522626090471,39.608302915140492 59.153522682920958,39.61158487414324 59.337288344033631))",centroid:"POINT(39.891739311058238 59.220619638193661)",geo_id:"10977949293477890",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:31,inter_code:"voronezh",local_name:"Воронеж",extent:"POLYGON((38.991158599250973 51.91099467809218,39.6130839292656 51.909398324997717,39.607250673749832 51.47559061100231,38.99124272807466 51.47716246289108,38.991158599250973 51.91099467809218))",centroid:"POINT(39.200594 51.66073)",geo_id:"4363287340777472",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:105,inter_code:"dnepropetrovsk",local_name:"Днепропетровск",extent:"POLYGON((34.749304738986005 48.687967001234263,35.29675435657758 48.6783497043242,35.281568764028584 48.341384530266978,34.737733598867827 48.350889247854944,34.749304738986005 48.687967001234263))",centroid:"POINT(35.01564226202192 48.475977539069248)",geo_id:"14777861479071746",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:79,inter_code:"donetsk",local_name:"Донецк",extent:"POLYGON((37.510511476643565 48.182783007578,38.240527887366447 48.189924696824626,38.246188038185345 47.802814500323365,37.521608592853141 47.795768540129387,37.510511476643565 48.182783007578))",centroid:"POINT(37.805296120454607 48.002386359684849)",geo_id:"11118686781833218",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:9,inter_code:"ekaterinburg",local_name:"Екатеринбург",extent:"POLYGON((59.7143570683828 57.010251492898014,60.919831096123112 57.036096980380819,60.943223539006105 56.611802160036781,59.75125789557147 56.586368597190187,59.7143570683828 57.010251492898014))",centroid:"POINT(60.616420410349818 56.839656381384216)",geo_id:"1267062596960256",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:65,inter_code:"ivanovo",local_name:"Иваново",extent:"POLYGON((40.806876233270124 57.089556323166846,41.189404650489081 57.0834564281372,41.178150124728631 56.891313267164129,40.797585213198857 56.8973687930083,40.806876233270124 57.089556323166846))",centroid:"POINT(40.979866800927745 56.995626184156073)",geo_id:"9148361944858626",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:41,inter_code:"izhevsk",local_name:"Ижевск",extent:"POLYGON((52.951689540399556 57.057888962307487,53.495624612327639 57.048230231743652,53.470392629320806 56.667542646897004,52.931947453107739 56.6770629435701,52.951689540399556 57.057888962307487))",centroid:"POINT(53.19583035843246 56.851500656336775)",geo_id:"5770662224330754",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:11,inter_code:"irkutsk",local_name:"Иркутск",extent:"POLYGON((103.61885265925012 52.641504917176633,104.97019045795521 52.649550547041343,104.97080676586344 51.718224969484432,103.64739696288129 51.7104431825847,103.61885265925012 52.641504917176633))",centroid:"POINT(104.2807216736953 52.287790483604049)",geo_id:"1548537573670914",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:21,inter_code:"kazan",local_name:"Казань",extent:"POLYGON((48.291180134462522 55.977651226693808,49.519957097092991 55.998532199987714,49.535476656119485 55.587187032704954,48.319555285258481 55.566624008029088,48.291180134462522 55.977651226693808))",centroid:"POINT(49.103487955454554 55.797601775811387)",geo_id:"2955912457224192",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:61,inter_code:"kaluga",local_name:"Калуга",extent:"POLYGON((35.894811996059886 54.755460424945809,36.4553051199743 54.768523303849008,36.482232702062866 54.333879993197414,35.927649829011585 54.321023875665,35.894811996059886 54.755460424945809))",centroid:"POINT(36.258208314826511 54.514759549005682)",geo_id:"8585411991437314",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:84,inter_code:"karaganda",local_name:"Караганда",extent:"POLYGON((72.860051672883188 50.123994696164125,73.394973595011052 50.132622896545691,73.410629775839453 49.658415378928531,72.880917364283462 49.649929947931724,72.860051672883188 50.123994696164125))",centroid:"POINT(73.085339063150442 49.806780084197314)",geo_id:"11822374223609858",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:5,inter_code:"kemerovo",local_name:"Кемерово",extent:"POLYGON((85.945012206262092 55.53176179915426,86.258640836849736 55.534060891161495,86.26366353982317 55.264790035213821,85.952158931465164 55.2625138080209,85.945012206262092 55.53176179915426))",centroid:"POINT(86.061715141238665 55.344257917090872)",geo_id:"704112643538946",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:58,inter_code:"kirov",local_name:"Киров",extent:"POLYGON((49.036766378602785 58.786453796105832,49.936128138244342 58.797004309764482,49.947791309682515 58.410878543333652,49.058277502180658 58.400485836243618,49.036766378602785 58.786453796105832))",centroid:"POINT(49.681614310181054 58.594059995681043)",geo_id:"8163199526371330",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:34,inter_code:"kostroma",local_name:"Кострома",extent:"POLYGON((40.733013600425473 57.924382913954304,41.151864619399525 57.917978362865739,41.137487893296438 57.67573203432,40.7214314515157 57.682077131993381,40.733013600425473 57.924382913954304))",centroid:"POINT(40.926625847441152 57.767917431182511)",geo_id:"4785499805843458",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:23,inter_code:"krasnodar",local_name:"Краснодар",extent:"POLYGON((38.650082533080614 45.265381527628314,39.378568391258518 45.265290155888565,39.376447901540722 44.943555640357872,38.652042547509957 44.943645998476249,38.650082533080614 45.265381527628314))",centroid:"POINT(38.970325562475452 45.024565047103778)",geo_id:"3237387433934850",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:7,inter_code:"krasnoyarsk",local_name:"Красноярск",extent:"POLYGON((92.126845938232563 56.306635321606933,93.599290213428247 56.308263001815824,93.591657417585722 55.813004167051496,92.1379658783723 55.811406407284487,92.126845938232563 56.306635321606933))",centroid:"POINT(92.830744681366028 56.0054976788325)",geo_id:"985587620249600",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:10,inter_code:"kurgan",local_name:"Курган",extent:"POLYGON((65.163162307484114 55.530272583785909,65.482856432717583 55.524207980984848,65.473102622818885 55.368657323253281,65.154661854511986 55.374686981839552,65.163162307484114 55.530272583785909))",centroid:"POINT(65.32020080360202 55.441045351174623)",geo_id:"1407800085315586",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:73,inter_code:"kursk",local_name:"Курск",extent:"POLYGON((35.8893687666608 51.829944415979419,36.419837359585536 51.842786707040261,36.435346406314153 51.569516774303715,35.908055032776545 51.556798976547732,35.8893687666608 51.829944415979419))",centroid:"POINT(36.192664697356847 51.73065369993158)",geo_id:"10274261851701250",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:56,inter_code:"lipetsk",local_name:"Липецк",extent:"POLYGON((39.376422072975359 52.719878637677915,39.823360126065907 52.71761764345063,39.819112827258088 52.490546898654117,39.374480091888422 52.49278951163199,39.376422072975359 52.719878637677915))",centroid:"POINT(39.597059895423513 52.6048062674557)",geo_id:"7881724549660674",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:26,inter_code:"magnitogorsk",local_name:"Магнитогорск",extent:"POLYGON((58.547823093483487 53.927025181266771,59.504225648739762 53.910883752302063,59.464287537709275 53.229864600767982,58.52311898661091 53.245611680263757,58.547823093483487 53.927025181266771))",centroid:"POINT(58.980293403171672 53.407210526395232)",geo_id:"3659599899000834",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:87,inter_code:"miass",local_name:"Миасс",extent:"POLYGON((59.5457336702244 55.280217697050645,60.258398100161948 55.263265309673656,60.228026216847049 54.888193058215336,59.521984933269351 54.904911947300391,59.5457336702244 55.280217697050645))",centroid:"POINT(60.10763872835355 55.065317014609789)",geo_id:"12244586688675842",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:32,inter_code:"moscow",local_name:"Москва",extent:"POLYGON((36.758963018872876 56.091684699738778,38.205281355053039 56.109464597725818,38.225023875865055 55.121150964644158,36.81458740152047 55.104013136939514,36.758963018872876 56.091684699738778))",centroid:"POINT(37.62017 55.753466)",geo_id:"4504024829132800",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:96,inter_code:"murmansk",local_name:"Мурманск",extent:"POLYGON((32.701158297722834 69.064618600087528,33.225324591574989 69.064730923692323,33.222252523546643 68.761176005292469,32.705232664370932 68.761065435229142,32.701158297722834 69.064618600087528))",centroid:"POINT(33.080730547420615 68.964714194929769)",geo_id:"13511224083873794",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:29,inter_code:"nabchelny",local_name:"Набережные Челны",extent:"POLYGON((51.717261362116382 55.865182739723146,52.628180107921644 55.856502641175105,52.61493741097253 55.536675380739823,51.711425062295625 55.545252600861254,51.717261362116382 55.865182739723146))",centroid:"POINT(52.401880845387019 55.734542738096359)",geo_id:"4081812364066818",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:82,inter_code:"nahodka",local_name:"Находка",extent:"POLYGON((132.75081136503175 42.9021198305443,133.24133942102256 42.910709573735147,133.24819139957327 42.6682811698325,132.75957102832587 42.6597635322511,132.75081136503175 42.9021198305443))",centroid:"POINT(132.86403642960576 42.811415516056805)",geo_id:"11540899246899202",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:12,inter_code:"nizhnevartovsk",local_name:"Нижневартовск",extent:"POLYGON((75.931825806972554 61.190935279437156,77.028582653320541 61.178947886404515,77.007765939219837 60.851181471913407,75.922257475200382 60.863008884648629,75.931825806972554 61.190935279437156))",centroid:"POINT(76.558877320637222 60.939530351625024)",geo_id:"1689275062026242",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:40,inter_code:"kaliningrad",local_name:"Калининград",extent:"POLYGON((19.839082073056286 55.050469668180952,20.659198974680464 55.055527519042428,20.663515880687616 54.5390996594632,19.853783742229236 54.534137093014493,19.839082073056286 55.050469668180952))",centroid:"POINT(20.50916118390613 54.711545544407983)",geo_id:"5629924735975426",country_id:"ru",locale_id:"ru",tag1:"кёниг",tag2:null},{id:70,inter_code:"yoshkarola",local_name:"Йошкар-Ола",extent:"POLYGON((47.588902147379564 56.7614824238658,48.153297164314125 56.748478019884431,48.133249465789675 56.507529041868708,47.572431959402671 56.5204155691682,47.588902147379564 56.7614824238658))",centroid:"POINT(47.886430052962822 56.637266427574026)",geo_id:"9852049386635266",country_id:"ru",locale_id:"ru",tag1:"йошкар",tag2:null},{id:6,inter_code:"novokuznetsk",local_name:"Новокузнецк",extent:"POLYGON((86.5106241243864 54.121370963577071,87.463656218797951 54.121472777743321,87.456823068888667 53.497654008932862,86.517836283535331 53.497554480719629,86.5106241243864 54.121370963577071))",centroid:"POINT(87.118981089687622 53.747740480548345)",geo_id:"844850131894274",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:1,inter_code:"novosibirsk",local_name:"Новосибирск",extent:"POLYGON((82.532330959380545 55.249037723767081,83.396534485466447 55.235123397396073,83.356355292908617 54.553032011564838,82.506623322413631 54.566600589391122,82.532330959380545 55.249037723767081))",centroid:"POINT(82.921475 55.026472)",geo_id:"141162690117632",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:76,inter_code:"norilsk",local_name:"Норильск",extent:"POLYGON((85.986317811652455 69.559455016386934,88.5519182773052 69.555507259832666,88.5295349687517 69.242434578827954,86.000942156952448 69.2463175566213,85.986317811652455 69.559455016386934))",centroid:"POINT(88.194764231678718 69.352490232398438)",geo_id:"10696474316767234",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:103,inter_code:"noyabrsk",local_name:"Ноябрьск",extent:"POLYGON((74.304780171622681 63.879187312781205,76.263372143080687 63.875343002087476,76.2261553839682 63.018250747511821,74.325264572249651 63.021954469117986,74.304780171622681 63.879187312781205))",centroid:"POINT(75.442392930585441 63.186808196995557)",geo_id:"14496386502361090",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:14,inter_code:"odessa",local_name:"Одесса",extent:"POLYGON((30.512168086586616 46.649009925817353,30.896093518594746 46.656717722467654,30.911285923021328 46.261024901451826,30.530126470488231 46.253422253250214,30.512168086586616 46.649009925817353))",centroid:"POINT(30.73440007685485 46.474562907739013)",geo_id:"1970750038736898",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:2,inter_code:"omsk",local_name:"Омск",extent:"POLYGON((72.883518058147061 55.405679866052729,73.752470891902234 55.417631025901507,73.771664834002209 54.796804109918163,72.916062445818682 54.785124110520471,72.883518058147061 55.405679866052729))",centroid:"POINT(73.393009 54.962357)",geo_id:"281900178472960",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:48,inter_code:"orenburg",local_name:"Оренбург",extent:"POLYGON((54.920411236922469 51.927321806900267,55.487422465869727 51.935975156983375,55.496231354667522 51.67205158110761,54.932517297019636 51.6634793355125,54.920411236922469 51.927321806900267))",centroid:"POINT(55.09752868200291 51.767485566473354)",geo_id:"6755824642818050",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:42,inter_code:"penza",local_name:"Пенза",extent:"POLYGON((44.795476784635753 53.349081521631817,45.358809477577282 53.348717401137641,45.356452014988243 53.065565870740485,44.796820573709432 53.065926281597086,44.795476784635753 53.349081521631817))",centroid:"POINT(44.9887745965683 53.213475096684874)",geo_id:"5911399712686082",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:16,inter_code:"perm",local_name:"Пермь",extent:"POLYGON((55.610474882024015 58.236815864896919,56.656815295888194 58.243910590442376,56.662040209013263 57.692940341658755,55.631622491054515 57.685994903792285,55.610474882024015 58.236815864896919))",centroid:"POINT(56.223394926939079 58.009248091788066)",geo_id:"2252225015447552",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:80,inter_code:"petrozavodsk",local_name:"Петрозаводск",extent:"POLYGON((34.102722510109714 61.959476565922458,34.708850211664966 61.953295148729737,34.694352368462432 61.691472468946181,34.093363841697141 61.697586694845604,34.102722510109714 61.959476565922458))",centroid:"POINT(34.418349982910016 61.780603180142947)",geo_id:"11259424270188546",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:90,inter_code:"pskov",local_name:"Псков",extent:"POLYGON((28.168618694219671 57.889106047797313,28.491531100663885 57.885723824355829,28.484999183947011 57.727138270771491,28.163500032507752 57.730499905539894,28.168618694219671 57.889106047797313))",centroid:"POINT(28.341236953683545 57.815002115233582)",geo_id:"12666799153741826",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:24,inter_code:"rostov",local_name:"Ростов-на-Дону",extent:"POLYGON((39.358722448926528 47.368152478519846,39.924837669546243 47.364982784803892,39.919435361906579 47.0533140450719,39.356626716246808 47.056449566313518,39.358722448926528 47.368152478519846))",centroid:"POINT(39.69177143437188 47.222099166157996)",geo_id:"3378124922290178",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:44,inter_code:"ryazan",local_name:"Рязань",extent:"POLYGON((39.405890105319024 54.882191015660972,39.992107259095953 54.8788180174088,39.982605722646113 54.487342939335882,39.402002206778292 54.490667716930268,39.405890105319024 54.882191015660972))",centroid:"POINT(39.715995853191977 54.613938180782654)",geo_id:"6192874689396738",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:18,inter_code:"samara",local_name:"Самара",extent:"POLYGON((49.777726279347149 53.708124943272864,50.516957362286774 53.713385981623517,50.52447141235799 53.044184983572215,49.796734807187441 53.039049954152446,49.777726279347149 53.708124943272864))",centroid:"POINT(50.10423057974846 53.194952720681229)",geo_id:"2533699992158208",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:38,inter_code:"spb",local_name:"Санкт-Петербург",extent:"POLYGON((29.410887759829269 60.259338740820056,30.984449989460554 60.292561247851914,31.027970565823768 59.567535086405208,29.488251017254392 59.535262432197626,29.410887759829269 60.259338740820056))",
centroid:"POINT(30.283631 59.937577)",geo_id:"5348449759264768",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:85,inter_code:"saransk",local_name:"Саранск",extent:"POLYGON((44.867016969949368 54.30190282787823,45.511720377210558 54.300890753981562,45.507835953372066 53.984632314927261,44.868026481783183 53.985632760153926,44.867016969949368 54.30190282787823))",centroid:"POINT(45.186115533257343 54.180685955858507)",geo_id:"11963111711965186",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:43,inter_code:"saratov",local_name:"Саратов",extent:"POLYGON((45.736100028230993 51.699808689166886,46.314773159600286 51.694757596801644,46.304970793167946 51.35316262601102,45.730610684211257 51.358152652733672,45.736100028230993 51.699808689166886))",centroid:"POINT(46.034351830783351 51.53326995913482)",geo_id:"6052137201041410",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:63,inter_code:"smolensk",local_name:"Смоленск",extent:"POLYGON((31.755001505380516 54.88515405462482,32.2651028850388 54.889310612696818,32.268672709769255 54.692001842955932,31.761047959268073 54.687875376087057,31.755001505380516 54.88515405462482))",centroid:"POINT(32.046296507601475 54.781436530206285)",geo_id:"8866886968147970",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:30,inter_code:"sochi",local_name:"Сочи",extent:"POLYGON((38.936479778637654 44.354812281933441,40.488511351501977 44.345130359907309,40.464281404264305 43.363249574526357,38.937514212324992 43.372607108624379,38.936479778637654 44.354812281933441))",centroid:"POINT(39.367052023234692 43.893558300311106)",geo_id:"4222549852422146",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:57,inter_code:"stavropol",local_name:"Ставрополь",extent:"POLYGON((41.6581173946841 45.252393216036104,42.307255213779143 45.269558178203617,42.324114798839375 44.909882254122188,41.679024811363938 44.892929962064,41.6581173946841 45.252393216036104))",centroid:"POINT(41.975267230780531 45.035790971256176)",geo_id:"8022462038016002",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:89,inter_code:"minvody",local_name:"Пятигорск",extent:"POLYGON((42.596865650862462 44.289521923352446,43.518711525695785 44.30520188587527,43.53067931782909 43.823418497200706,42.616267375944275 43.807998359753782,42.596865650862462 44.289521923352446))",centroid:"POINT(43.070635103632036 44.039911677067067)",geo_id:"12526061665386498",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:74,inter_code:"novorossiysk",local_name:"Новороссийск",extent:"POLYGON((36.936306235974115 45.204638089926114,38.6681673273032 45.222804380758511,38.673277253114648 44.323571892652453,36.9680591176336 44.305963128876428,36.936306235974115 45.204638089926114))",centroid:"POINT(37.768458904226534 44.723419543732852)",geo_id:"10414999340056578",country_id:"ru",locale_id:"ru",tag1:"новорос",tag2:null},{id:71,inter_code:"orel",local_name:"Орёл",extent:"POLYGON((35.87092257942291 53.103738618654091,36.315297916585422 53.092180550562844,36.295963227971733 52.838995105059496,35.854170195447367 52.850448057623474,35.87092257942291 53.103738618654091))",centroid:"POINT(36.093095114336712 52.938558828625538)",geo_id:"9992786874990594",country_id:"ru",locale_id:"ru",tag1:"орел",tag2:null},{id:54,inter_code:"sterlitamak",local_name:"Стерлитамак",extent:"POLYGON((55.805672304839483 53.734237827384462,56.123974981211774 53.736987377245839,56.132830401871857 53.3055825450916,55.817743741010368 53.302875698537868,55.805672304839483 53.734237827384462))",centroid:"POINT(55.93072356432625 53.630498756947688)",geo_id:"7600249572950018",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:39,inter_code:"surgut",local_name:"Сургут",extent:"POLYGON((72.381759590974852 61.388552879878453,73.781358477233709 61.408288071439976,73.797163538040763 60.996564564167144,72.415680314915932 60.977160689959412,72.381759590974852 61.388552879878453))",centroid:"POINT(73.4097176395698 61.241106889473123)",geo_id:"5489187247620098",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:72,inter_code:"syktyvkar",local_name:"Сыктывкар",extent:"POLYGON((50.431525222778291 61.921812108776123,51.27508040653499 61.922710377272644,51.27196269641226 61.5712267532592,50.437967891742367 61.570341542294877,50.431525222778291 61.921812108776123))",centroid:"POINT(50.835404757755605 61.668567302443194)",geo_id:"10133524363345922",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:81,inter_code:"tambov",local_name:"Тамбов",extent:"POLYGON((41.282289347878283 52.826563344532339,41.601580008764486 52.819991293855693,41.58623997403599 52.561315858586106,41.268827761546532 52.567827021687229,41.282289347878283 52.826563344532339))",centroid:"POINT(41.45229188462546 52.721250684799465)",geo_id:"11400161758543874",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:47,inter_code:"tver",local_name:"Тверь",extent:"POLYGON((35.531082265855424 56.998794022704018,36.290293272261529 57.01754577728061,36.314300499485995 56.684110307804474,35.561786987377438 56.66559396172029,35.531082265855424 56.998794022704018))",centroid:"POINT(35.911840136021972 56.8596775743879)",geo_id:"6615087154462722",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:97,inter_code:"tobolsk",local_name:"Тобольск",extent:"POLYGON((68.027460875947611 58.3340514007613,68.627746786026819 58.337204967733392,68.63059078862166 58.06425747779074,68.034889839497822 58.061137096029526,68.027460875947611 58.3340514007613))",centroid:"POINT(68.253901207046582 58.200911411371628)",geo_id:"13651961572229122",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:22,inter_code:"togliatti",local_name:"Тольятти",extent:"POLYGON((48.96182705381522 53.697019755537433,49.777726279347149 53.708124943272864,49.796734804684895 53.039050044026304,48.993507534081942 53.028210740872524,48.96182705381522 53.697019755537433))",centroid:"POINT(49.419202973750679 53.508636934508878)",geo_id:"3096649945579520",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:3,inter_code:"tomsk",local_name:"Томск",extent:"POLYGON((84.768655689185934 56.588194878250626,85.235418558004042 56.595694305645495,85.246532018328466 56.355457490286973,84.782703581998021 56.348025649422631,84.768655689185934 56.588194878250626))",centroid:"POINT(84.948637311914382 56.4881279077931)",geo_id:"422637666828290",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:36,inter_code:"tula",local_name:"Тула",extent:"POLYGON((37.414044838547831 54.309531677788868,38.415847124693713 54.31854260125148,38.421584917004218 53.908416080614835,37.429615973338471 53.899539115912404,37.414044838547831 54.309531677788868))",centroid:"POINT(37.616346597598842 54.195142948742188)",geo_id:"5066974782554114",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:13,inter_code:"tyumen",local_name:"Тюмень",extent:"POLYGON((65.263355059819716 57.269890105758044,66.690851293840609 57.236045573131754,66.609234611634236 56.397677671981249,65.213221267695275 56.430463100713446,65.263355059819716 57.269890105758044))",centroid:"POINT(65.539874150423813 57.152203132707683)",geo_id:"1830012550381570",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:37,inter_code:"ulanude",local_name:"Улан-Удэ",extent:"POLYGON((107.37688937791609 52.056482577117876,107.99078931077067 52.04249165614695,107.96757014463141 51.691351260688961,107.35842404320417 51.705167806307628,107.37688937791609 52.056482577117876))",centroid:"POINT(107.59169215666174 51.827939439065275)",geo_id:"5207712270909442",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:55,inter_code:"ulyanovsk",local_name:"Ульяновск",extent:"POLYGON((48.031110667910831 54.455091542510452,48.755444409114467 54.470724390934336,48.7744246507962 54.120417013142195,48.0561969532765 54.104983276920727,48.031110667910831 54.455091542510452))",centroid:"POINT(48.403033113124842 54.314243463811124)",geo_id:"7740987061305346",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:83,inter_code:"ussuriysk",local_name:"Уссурийск",extent:"POLYGON((131.74924083630287 43.961672274480051,132.12990510427849 43.971877432749125,132.14205230042131 43.718194484530486,131.76299265818693 43.708078753098661,131.74924083630287 43.961672274480051))",centroid:"POINT(131.95190290874723 43.797268889147929)",geo_id:"11681636735254530",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:17,inter_code:"ufa",local_name:"Уфа",extent:"POLYGON((55.715089904271188 54.952485411225823,56.304346088549089 54.957284466483877,56.312416204503748 54.483240126843036,55.729992369955767 54.478524046172318,55.715089904271188 54.952485411225823))",centroid:"POINT(55.945969234546823 54.731778818354414)",geo_id:"2392962503802880",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:35,inter_code:"khabarovsk",local_name:"Хабаровск",extent:"POLYGON((134.87358214718344 48.60710367475442,135.25903574256375 48.606881742862306,135.25742199499913 48.288577887932107,134.87436971649 48.288797366086335,134.87358214718344 48.60710367475442))",centroid:"POINT(135.07191393738205 48.480238702344025)",geo_id:"4926237294198786",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:53,inter_code:"cheboksary",local_name:"Чебоксары",extent:"POLYGON((47.007780222436871 56.342026112313654,47.605760249180818 56.330889680297936,47.582159815581285 55.980844919276578,46.989585651330856 55.991836024515436,47.007780222436871 56.342026112313654))",centroid:"POINT(47.249266238967657 56.139751028509245)",geo_id:"7459512084594690",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:15,inter_code:"chelyabinsk",local_name:"Челябинск",extent:"POLYGON((61.185485791244218 55.312905444865265,61.734407616935727 55.319826282445419,61.744580331559028 54.997301133216176,61.200065741087627 54.990462385566289,61.185485791244218 55.312905444865265))",centroid:"POINT(61.40270938891512 55.157388843469953)",geo_id:"2111487527092224",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:64,inter_code:"chita",local_name:"Чита",extent:"POLYGON((113.1138450068069 52.1861143043843,113.63918359928475 52.175526873941912,113.62454254129095 51.926502007167976,113.10211240076015 51.936995541845,113.1138450068069 52.1861143043843))",centroid:"POINT(113.50090983413904 52.033364178629796)",geo_id:"9007624456503298",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:50,inter_code:"yakutsk",local_name:"Якутск",extent:"POLYGON((129.5324751947968 62.187830512363334,129.99230258145033 62.185301583720872,129.97986824302828 61.8005013951169,129.52580192588462 61.8029898695743,129.5324751947968 62.187830512363334))",centroid:"POINT(129.73174919941306 62.027566869852549)",geo_id:"7037299619528706",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:28,inter_code:"yaroslavl",local_name:"Ярославль",extent:"POLYGON((39.72289181445165 57.77619852488214,40.01288267137771 57.774213040689482,40.005806921939325 57.519309010121667,39.717841359005625 57.521275155641369,39.72289181445165 57.77619852488214))",centroid:"POINT(39.897301365126651 57.62507721286628)",geo_id:"3941074875711490",country_id:"ru",locale_id:"ru",tag1:null,tag2:null},{id:60,inter_code:"staroskol",local_name:"Старый Оскол",extent:"POLYGON((37.744861788782686 51.375661239641644,37.979311993162106 51.377938196319505,37.982166367888269 51.249128556196489,37.748371429506754 51.246861999682906,37.744861788782686 51.375661239641644))",centroid:"POINT(37.890519081569714 51.308991253624505)",geo_id:"8444674503081986",country_id:"ru",locale_id:"ru",tag1:"оскол",tag2:null},{id:109,inter_code:"k_uralskiy",local_name:"Каменск-Уральский",extent:"POLYGON((61.715750808778992 56.5711221217031,62.254705098223965 56.575520133433741,62.260467058616257 56.2797943014987,61.725677306678442 56.275444999109695,61.715750808778992 56.5711221217031))",centroid:"POINT(61.9891472374862 56.4256615776594)",geo_id:"15340811432493058",country_id:"ru",locale_id:"ru",tag1:"каменск",tag2:null},{id:88,inter_code:"yuzhnosakhalinsk",local_name:"Южно-Сахалинск",extent:"POLYGON((142.47294010235316 47.515633769043632,142.97175764653784 47.508139900825668,142.93795413187956 46.583208575988245,142.44767965044412 46.59046528876457,142.47294010235316 47.515633769043632))",centroid:"POINT(142.72803190115852 46.957628239125562)",geo_id:"12385324177031170",country_id:"ru",locale_id:"ru",tag1:"сахалинск",tag2:null},{id:91,inter_code:"ustkam",local_name:"Усть-Каменогорск",extent:"POLYGON((82.450724406655212 50.059192354668085,82.805717766588117 50.054211503925018,82.798391112904483 49.857958854929578,82.444836755529266 49.862905408170604,82.450724406655212 50.059192354668085))",centroid:"POINT(82.627996553938758 49.94828622812549)",geo_id:"12807536642097154",country_id:"ru",locale_id:"ru",tag1:"каменогорск",tag2:null},{id:45,inter_code:"ntagil",local_name:"Нижний Тагил",extent:"POLYGON((59.788600954709182 58.091706729467461,60.347886605868844 58.078228362453359,60.3173940952053 57.749298736474131,59.763184930823286 57.762607126017826,59.788600954709182 58.091706729467461))",centroid:"POINT(59.97226524778727 57.907637067330796)",geo_id:"6333612177752066",country_id:"ru",locale_id:"ru",tag1:"тагил",tag2:null},{id:77,inter_code:"v_novgorod",local_name:"Великий Новгород",extent:"POLYGON((31.13139396730713 58.678746286971723,31.505414932170435 58.683631143363534,31.514693693411594 58.46526244916079,31.142991808852649 58.460419032671972,31.13139396730713 58.678746286971723))",centroid:"POINT(31.270071234256346 58.522783888914347)",geo_id:"10837211805122562",country_id:"ru",locale_id:"ru",tag1:"вновгород",tag2:null},{id:95,inter_code:"p_kamchatskiy",local_name:"Петропавловск-Камчатский",extent:"POLYGON((158.19568713422865 53.346954385603809,159.02551942708621 53.349661949953038,159.02523029383553 52.858368333452091,158.20479876473345 52.855708398080964,158.19568713422865 53.346954385603809))",centroid:"POINT(158.76047240754346 53.010709530053944)",geo_id:"13370486595518466",country_id:"ru",locale_id:"ru",tag1:"камчатка",tag2:null},{id:94,inter_code:"komsomolsk",local_name:"Комсомольск-на-Амуре",extent:"POLYGON((136.79239130423781 50.721412961919654,137.25849332936036 50.713312738122958,137.23369577034421 50.189815298120337,136.77270397540423 50.197767107101015,136.79239130423781 50.721412961919654))",centroid:"POINT(137.01623036351938 50.554724753364141)",geo_id:"13229749107163138",country_id:"ru",locale_id:"ru",tag1:"комсасити",tag2:"комсомольск"},{id:19,inter_code:"n_novgorod",local_name:"Нижний Новгород",extent:"POLYGON((43.297073174129835 56.4680160917564,44.247071342449274 56.477411442321028,44.254810900154013 56.081492231567324,43.314569854929744 56.072235611284277,43.297073174129835 56.4680160917564))",centroid:"POINT(43.991050427169455 56.325883629590777)",geo_id:"2674437480513536",country_id:"ru",locale_id:"ru",tag1:"нижний",tag2:"нн"}]};e.module("myApp.ArrGeoAgglo",[]).value("ArrGeoAgglo",t)}(window.angular),function(e){"use strict";function t(e){for(var t,r,i=0;i<e.length;i++){var n=e[i];"moscow"===n.inter_code?(t=n,e.splice(i--,1)):"spb"===n.inter_code&&(r=n,e.splice(i--,1))}e.splice(0,0,r),e.splice(0,0,t)}var r={arr_geo_agglo:[],is_loaded:!1},i=function(i,n,a,l){var o=function(i){r.arr_geo_agglo.length=0;var n=i;t(n),e.extend(r.arr_geo_agglo,n),r.is_loaded=!0};return{getData:function(){return r},retrieveData:function(){return r.is_loaded?i.when():(o(a.arr_geo_agglo),i.when())},calcByInterCode:function(e){return r.arr_geo_agglo.filter(function(t){return t.inter_code===e})[0]},calcByLocalName:function(e){var t=e.toLowerCase();return r.arr_geo_agglo.filter(function(e){return e.local_name.toLowerCase()===t})[0]},calcById:function(e){return r.arr_geo_agglo.filter(function(t){return t.id===e})[0]},calcAggloByCoords:function(e,t){var n=l.findAggloByCoords(r.arr_geo_agglo,e,t),a=i.defer();return a.resolve(n),a.promise}}};e.module("myApp.geoAggloRepo",["myApp.geoHelper","myApp.ArrGeoAgglo"]).factory("geoAggloRepo",["$q","$http","ArrGeoAgglo","geoHelper",i])}(window.angular),function(e){"use strict";var t={arr_geo_region:[{city:1,stations:[[251,"Берёзовая роща"],[241,"Гагаринская"],[240,"Заельцовская"],[852,"Золотая нива"],[242,"Красный проспект"],[250,"Маршала Покрышкина"],[244,"Октябрьская"],[248,"Площадь Гарина-Михайловского"],[243,"Площадь Ленина"],[247,"Площадь Маркса"],[245,"Речной вокзал"],[249,"Сибирская"],[246,"Студенческая"]],districts:[[151,"Дзержинский"],[152,"Железнодорожный"],[150,"Заельцовский"],[153,"Калининский"],[154,"Кировский"],[155,"Ленинский"],[156,"Октябрьский"],[157,"Первомайский"],[158,"Советский"],[159,"Центральный"]]},{city:2,stations:[],districts:[[263,"Кировский"],[264,"Ленинский"],[265,"Октябрьский"],[266,"Советский"],[267,"Центральный"]]},{city:3,stations:[],districts:[[313,"Кировский"],[315,"Ленинский"],[314,"Октябрьский"],[316,"Советский"]]},{city:4,stations:[],districts:[[399,"Железнодорожный"],[402,"Индустриальный"],[400,"Ленинский"],[403,"Октябрьский"],[401,"Центральный"]]},{city:5,stations:[],districts:[[323,"Заводский"],[326,"Кировский"],[324,"Ленинский"],[327,"Рудничный"],[325,"Центральный"]]},{city:6,stations:[],districts:[[429,"Заводской"],[432,"Кузнецкий"],[430,"Куйбышевский"],[433,"Новоильинский"],[431,"Орджоникидзевский"],[434,"Центральный"]]},{city:7,stations:[],districts:[[206,"Железнодорожный"],[200,"Кировский"],[201,"Ленинский"],[202,"Октябрьский"],[204,"Свердловский"],[203,"Советский"],[205,"Центральный"]]},{city:8,stations:[],districts:[[388,"Кировский"],[390,"Ленинский"],[389,"Советский"],[391,"Трусовский"]]},{city:9,stations:[[1775,"Ботаническая"],[266,"Геологическая"],[264,"Динамо"],[262,"Машиностроителей"],[265,"Площадь 1905 года"],[260,"Проспект Космонавтов"],[261,"Уралмаш"],[263,"Уральская"],[2954,"Чкаловская"]],districts:[[146,"Верх-Исетский"],[149,"Железнодорожный"],[147,"Кировский"],[145,"Ленинский"],[148,"Октябрьский"],[143,"Орджоникидзевский"],[144,"Чкаловский"]]},{city:11,stations:[],districts:[[601,"Ершовский"],[271,"Ленинский"],[273,"Октябрьский"],[272,"Правобережный"],[274,"Свердловский"]]},{city:15,stations:[],districts:[[219,"Калининский"],[220,"Курчатовский"],[221,"Ленинский"],[222,"Металлургический"],[223,"Советский"],[224,"Тракторозаводский"],[225,"Центральный"]]},{city:19,stations:[[229,"Автозаводская"],[239,"Буревестник"],[238,"Бурнаковская"],[3565,"Горьковская"],[231,"Двигатель Революции"],[232,"Заречная"],[237,"Канавинская"],[227,"Кировская"],[228,"Комсомольская"],[233,"Ленинская"],[235,"Московская"],[226,"Парк Культуры"],[230,"Пролетарская"],[234,"Чкаловская"]],districts:[[170,"Автозаводский"],[171,"Канавинский"],[172,"Ленинский"],[173,"Московский"],[174,"Нижегородский"],[175,"Приокский"],[176,"Советский"],[177,"Сормовский"]]},{city:21,stations:[[3850,"Авиастроительная"],[270,"Аметьево"],[271,"Горки"],[850,"Козья слобода"],[267,"Кремлёвская"],[268,"Площадь Габдуллы Тукая"],[620,"Проспект Победы"],[3851,"Северный вокзал"],[269,"Суконная слобода"],[3852,"Яшьлек"]],districts:[[178,"Авиастроительный"],[179,"Вахитовский"],[180,"Кировский"],[181,"Московский"],[182,"Ново-Савиновский"],[183,"Приволжский"],[184,"Советский"]]},{city:23,stations:[],districts:[[212,"Западный"],[214,"Карасунский"],[213,"Прикубанский"],[215,"Центральный"]]},{city:32,stations:[[1,"Авиамоторная"],[2,"Автозаводская"],[3,"Академическая"],[4,"Александровский сад"],[5,"Алексеевская"],[3569,"Алма-Атинская"],[6,"Алтуфьево"],[7,"Аннино"],[8,"Арбатская"],[9,"Аэропорт"],[10,"Бабушкинская"],[11,"Багратионовская"],[12,"Баррикадная"],[13,"Бауманская"],[14,"Беговая"],[15,"Белорусская"],[16,"Беляево"],[17,"Бибирево"],[18,"Библиотека имени Ленина"],[20,"Борисово"],[21,"Боровицкая"],[22,"Ботанический сад"],[23,"Братиславская"],[24,"Бульвар адмирала Ушакова"],[25,"Бульвар Дмитрия Донского"],[145,"Бульвар Рокоссовского"],[26,"Бунинская аллея"],[27,"Варшавская"],[28,"ВДНХ"],[29,"Владыкино"],[30,"Водный стадион"],[31,"Войковская"],[32,"Волгоградский проспект"],[33,"Волжская"],[34,"Волоколамская"],[35,"Воробьёвы горы"],[38,"Выставочная"],[36,"Выставочный центр (монорельс)"],[37,"Выхино"],[39,"Динамо"],[40,"Дмитровская"],[41,"Добрынинская"],[42,"Домодедовская"],[2247,"Достоевская"],[43,"Дубровка"],[4511,"Жулебино"],[1946,"Зябликово"],[44,"Измайловская"],[46,"Калужская"],[47,"Кантемировская"],[48,"Каховская"],[49,"Каширская"],[50,"Киевская"],[51,"Китай-город"],[52,"Кожуховская"],[53,"Коломенская"],[54,"Комсомольская"],[55,"Коньково"],[487,"Красногвардейская"],[56,"Краснопресненская"],[57,"Красносельская"],[58,"Красные ворота"],[59,"Крестьянская застава"],[60,"Кропоткинская"],[61,"Крылатское"],[62,"Кузнецкий мост"],[63,"Кузьминки"],[64,"Кунцевская"],[65,"Курская"],[66,"Кутузовская"],[67,"Ленинский проспект"],[4512,"Лермонтовский проспект"],[68,"Лубянка"],[69,"Люблино"],[70,"Марксистская"],[71,"Марьина роща"],[72,"Марьино"],[73,"Маяковская"],[74,"Медведково"],[75,"Международная"],[76,"Менделеевская"],[648,"Митино"],[77,"Молодёжная"],[650,"Мякинино"],[78,"Нагатинская"],[79,"Нагорная"],[80,"Нахимовский проспект"],[81,"Новогиреево"],[3562,"Новокосино"],[82,"Новокузнецкая"],[83,"Новослободская"],[19,"Новоясеневская"],[84,"Новые Черёмушки"],[85,"Октябрьская"],[86,"Октябрьское поле"],[87,"Орехово"],[88,"Отрадное"],[89,"Охотный ряд"],[90,"Павелецкая"],[91,"Парк культуры"],[92,"Парк Победы"],[93,"Партизанская"],[94,"Первомайская"],[95,"Перово"],[96,"Петровско-Разумовская"],[97,"Печатники"],[98,"Пионерская"],[99,"Планерная"],[101,"Площадь Ильича"],[102,"Площадь Революции"],[103,"Полежаевская"],[104,"Полянка"],[105,"Пражская"],[106,"Преображенская площадь"],[107,"Пролетарская"],[108,"Проспект Вернадского"],[109,"Проспект Мира"],[488,"Профсоюзная"],[110,"Пушкинская"],[3568,"Пятницкое шоссе"],[111,"Речной вокзал"],[112,"Рижская"],[113,"Римская"],[114,"Рязанский проспект"],[115,"Савёловская"],[116,"Свиблово"],[117,"Севастопольская"],[118,"Семёновская"],[119,"Серпуховская"],[626,"Славянский бульвар"],[120,"Смоленская"],[121,"Сокол"],[122,"Сокольники"],[123,"Спортивная"],[489,"Строгино"],[124,"Студенческая"],[125,"Сухаревская"],[126,"Сходненская"],[127,"Таганская"],[128,"Тверская"],[129,"Театральная"],[130,"Текстильщики"],[131,"Телецентр (монорельс)"],[132,"Тёплый Стан"],[133,"Тимирязевская"],[134,"Тимирязевская (монорельс)"],[135,"Третьяковская"],[4516,"Тропарёво"],[136,"Трубная"],[137,"Тульская"],[138,"Тургеневская"],[139,"Тушинская"],[140,"Улица 1905 года"],[141,"Улица Академика Королёва (монорельс)"],[142,"Улица Академика Янгеля"],[143,"Улица Горчакова"],[144,"Улица Милашенкова (монорельс)"],[146,"Улица Сергея Эйзенштейна (монорельс)"],[147,"Улица Скобелевская"],[148,"Улица Старокачаловская"],[149,"Университет"],[150,"Филёвский парк"],[151,"Фили"],[152,"Фрунзенская"],[153,"Царицыно"],[154,"Цветной бульвар"],[155,"Черкизовская"],[156,"Чертановская"],[157,"Чеховская"],[158,"Чистые пруды"],[159,"Чкаловская"],[160,"Шаболовская"],[1945,"Шипиловская"],[161,"Шоссе Энтузиастов"],[162,"Щёлковская"],[163,"Щукинская"],[164,"Электрозаводская"],[165,"Юго-Западная"],[166,"Южная"],[167,"Ясенево "]],districts:[[89,"Академический"],[28,"Алексеевский"],[29,"Алтуфьевский"],[2,"Арбат"],[12,"Аэропорт"],[30,"Бабушкинский"],[3,"Басманный"],[13,"Беговой"],[14,"Бескудниковский"],[31,"Бибирево"],[73,"Бирюлёво Восточное"],[74,"Бирюлёво Западное"],[45,"Богородское"],[75,"Братеево"],[32,"Бутырский"],[46,"Вешняки"],[101,"Внуково"],[15,"Войковский"],[16,"Восточное Дегунино"],[48,"Восточное Измайлово"],[47,"Восточный"],[61,"Выхино-Жулебино"],[90,"Гагаринский"],[17,"Головинский"],[49,"Гольяново"],[76,"Даниловский"],[18,"Дмитровский"],[77,"Донской"],[102,"Дорогомилово"],[4,"Замоскворечье"],[19,"Западное Дегунино"],[91,"Зюзино"],[78,"Зябликово"],[50,"Ивановское"],[51,"Измайлово"],[62,"Капотня"],[565,"Кожухово"],[92,"Коньково"],[20,"Коптево"],[52,"Косино-Ухтомский"],[93,"Котловка"],[5,"Красносельский"],[103,"Крылатское"],[124,"Крюково"],[63,"Кузьминки"],[104,"Кунцево"],[114,"Куркино"],[21,"Левобережный"],[64,"Лефортово"],[33,"Лианозово"],[94,"Ломоносовский"],[34,"Лосиноостровский"],[65,"Люблино"],[35,"Марфино"],[36,"Марьина Роща"],[66,"Марьино"],[122,"Матушкино"],[53,"Метрогородок"],[6,"Мещанский"],[115,"Митино"],[105,"Можайский"],[22,"Молжаниновский"],[79,"Москворечье-Сабурово"],[81,"Нагатино-Садовники"],[80,"Нагатинский Затон"],[82,"Нагорный"],[67,"Некрасовка"],[68,"Нижегородский"],[106,"Ново-Переделкино"],[54,"Новогиреево"],[55,"Новокосино"],[95,"Обручевский"],[83,"Орехово-Борисово"],[84,"Орехово-Борисово Южное"],[37,"Останкинский"],[38,"Отрадное"],[107,"Очаково-Матвеевское"],[123,"Панфиловский"],[56,"Перово"],[69,"Печатники"],[116,"Покровское-Стрешнево"],[57,"Преображенское"],[7,"Пресненский"],[108,"Проспект Вернадского"],[109,"Раменки"],[39,"Ростокино"],[70,"Рязанский"],[4381,"Савёлки"],[23,"Савёловский"],[40,"Свиблово"],[96,"Северное Бутово"],[58,"Северное Измайлово"],[42,"Северное Медведково"],[117,"Северное Тушино"],[41,"Северный"],[24,"Сокол"],[59,"Соколиная Гора"],[60,"Сокольники"],[110,"Солнцево"],[118,"Строгино"],[8,"Таганский"],[9,"Тверской"],[71,"Текстильщики"],[97,"Тёплый Стан"],[25,"Тимирязевский"],[111,"Тропарёво-Никулино"],[112,"Филёвский Парк"],[113,"Фили-Давыдково"],[10,"Хамовники"],[26,"Ховрино"],[27,"Хорошевский"],[119,"Хорошёво-Мнёвники"],[88,"Царицыно"],[98,"Черёмушки"],[85,"Чертаново Северное"],[86,"Чертаново Центральное"],[87,"Чертаново Южное"],[120,"Щукино"],[99,"Южное Бутово"],[43,"Южное Медведково"],[121,"Южное Тушино"],[72,"Южнопортовый"],[11,"Якиманка"],[44,"Ярославский"],[100,"Ясенево"]]},{city:38,stations:[[184,"Автово"],[652,"Адмиралтейская"],[170,"Академическая"],[181,"Балтийская"],[653,"Бухарестская"],[205,"Василеостровская"],[178,"Владимирская"],[492,"Волковская"],[174,"Выборгская"],[194,"Горьковская"],[206,"Гостиный двор"],[169,"Гражданский проспект"],[168,"Девяткино"],[220,"Достоевская"],[209,"Елизаровская"],[493,"Звенигородская"],[202,"Звёздная"],[183,"Кировский завод"],[214,"Комендантский проспект"],[216,"Крестовский остров"],[203,"Купчино"],[223,"Ладожская"],[185,"Ленинский проспект"],[173,"Лесная"],[221,"Лиговский проспект"],[210,"Ломоносовская"],[207,"Маяковская"],[654,"Международная"],[201,"Московская"],[198,"Московские ворота"],[182,"Нарвская"],[195,"Невский проспект"],[222,"Новочеркасская"],[651,"Обводный канал"],[212,"Обухово"],[189,"Озерки"],[200,"Парк Победы"],[187,"Парнас"],[193,"Петроградская"],[191,"Пионерская"],[208,"Площадь Александра Невского"],[177,"Площадь Восстания"],[175,"Площадь Ленина"],[172,"Площадь Мужества"],[171,"Политехническая"],[204,"Приморская"],[211,"Пролетарская"],[224,"Проспект Большевиков"],[186,"Проспект Ветеранов"],[188,"Проспект Просвещения"],[179,"Пушкинская"],[213,"Рыбацкое"],[219,"Садовая"],[196,"Сенная площадь"],[619,"Спасская"],[218,"Спортивная"],[215,"Старая Деревня"],[180,"Технологический институт"],[190,"Удельная"],[225,"Улица Дыбенко "],[197,"Фрунзенская"],[176,"Чернышевская"],[192,"Чёрная речка"],[217,"Чкаловская"],[199,"Электросила"]],districts:[[125,"Адмиралтейский"],[126,"Василеостровский"],[127,"Выборгский"],[128,"Калининский"],[129,"Кировский"],[130,"Колпинский"],[131,"Красногвардейский"],[132,"Красносельский"],[133,"Кронштадтский"],[134,"Курортный"],[135,"Московский"],[136,"Невский"],[137,"Петроградский"],[138,"Петродворцовый"],[139,"Приморский"],[140,"Пушкинский"],[141,"Фрунзенский"],[142,"Центральный"]]},{city:46,stations:[],districts:[[318,"Восточный"],[319,"Западный"]]},{city:49,stations:[],districts:[[249,"Варавино-Фактория"],[252,"Исакогорский"],[255,"Ломоносовский"],[250,"Маймаксанский"],[253,"Майская Горка"],[256,"Октябрьский"],[251,"Северный"],[254,"Соломбальский"],[257,"Цигломенский"]]},{city:67,stations:[[1779,"Абай"],[1782,"Алатау"],[1778,"Алмалы"],[1780,"Байконур"],[1777,"Жибек Жолы"],[4518,"Москва"],[1776,"Райымбек батыр"],[4519,"Сайран"],[1781,"Театр имени Мухтара Ауэзова"]],districts:[[4451,"Алатауский"],[543,"Алмалинский"],[544,"Ауэзовский"],[545,"Бостандыкский"],[546,"Жетысуский"],[547,"Медеуский"],[4452,"Наурызбайский"],[548,"Турксибский"]]}]};e.module("myApp.ArrGeoRegion",[]).value("ArrGeoRegion",t)}(window.angular),function(e){"use strict";var t={arr_geo_region:[],is_loaded:!1},r=function(r,i){var n=function(r){t.arr_geo_region.length=0,e.extend(t.arr_geo_region,r),t.is_loaded=!0};return{getData:function(){return t},retrieveData:function(){return t.is_loaded?r.when():(n(i.arr_geo_region),r.when())},isStations:function(e){if(!t[e])return!1;var r=t[e].stations;return r&&r.length>0?!0:!1},getList:function(e){var r=t.arr_geo_region,i=r.filter(function(t){return t.city===e})[0];if(!i)return[];var n=i.stations;if(n&&n.length>0)return n.map(function(e){return{id:e[0],name:e[1]}});var a=i.districts;return a&&a.length>0?a.map(function(e){return{id:e[0],name:e[1]}}):[]}}};e.module("myApp.geoRegionRepo",["myApp.ArrGeoRegion"]).factory("geoRegionRepo",["$q","ArrGeoRegion",r])}(window.angular),function(e){"use strict";var t={is_defined:!1,is_device_progress:!1,coords:{lat:null,lng:null}},r=function(e,r){return{getData:function(){return t},retrieveFromDevice:function(){if(t.is_defined){var i=e.defer();return i.resolve(),i.promise}return t.is_device_progress=!0,r.getCurCoords().then(function(e){t.coords.lat=e.latitude,t.coords.lng=e.longitude,t.is_defined=!0})["finally"](function(){t.is_device_progress=!1})}}};e.module("myApp.locRepo",["myApp.geolocFactory"]).factory("locRepo",["$q","geolocFactory",r])}(window.angular),function(e){"use strict";var t="location_permission",r=null,i={is_perm_checked:!1},n=function(e,n){var a=function(){r=!0,n.writeToStorage(t,{id:0,is_allowed:!0})},l=function(e){return i.is_perm_checked=!0,r=e&&e.is_allowed===!0?!0:!1};return{getData:function(){return i},cleanLocationPermission:function(){r=!1,n.delFromStorage(t,{id:0})},saveLocationPermission:a,checkLocationPermission:function(){if(i.is_perm_checked){var a=e.defer();return a.resolve(r),a.promise}return n.readFromStorage(t,{id:0},!1).then(l)}}};e.module("myApp.permRepo",["myApp.localDb"]).factory("permRepo",["$q","localDb",n])}(window.angular),function(e){"use strict";var t={arr_prtf_work:[],is_loaded:!1},r=function(e,r){var i=function(e){t.arr_prtf_work.length=0,e.forEach(function(e){t.arr_prtf_work.push(e)}),t.is_loaded=!0},n=function(t,n){return r.sendGet("/work/get-portfolio",{geo_district_id:n,serv_rubric_id:t}).then(function(t){if(t.data){var r=t.data.arr_prtf_work.slice(0,99);return i(r),r}return console.log("error loading",t),e.reject()})};return{retrieveData:n}};e.module("myApp.prtfRepo",["myApp.apimas"]).factory("prtfRepo",["$q","apimas",r])}(window.angular),function(e){"use strict";var t={total:4,arr_serv_group:[{id:"nail",serv_area_id:"beauty",lang:"ru",name:"Ногти",description:"Уход за ногтями",tag1:null,tag2:null,arr_serv_rubric:[{id:"manicure",serv_group_id:"nail",lang:"ru",name:"Маникюр",description:null,tag1:null,tag2:null},{id:"pedicure",serv_group_id:"nail",lang:"ru",name:"Педикюр",description:null,tag1:null,tag2:null},{id:"strengthNail",serv_group_id:"nail",lang:"ru",name:"Укрепление ногтей",description:null,tag1:null,tag2:null},{id:"correctionNail",serv_group_id:"nail",lang:"ru",name:"Коррекция ногтей",description:null,tag1:null,tag2:null},{id:"extNail",serv_group_id:"nail",lang:"ru",name:"Наращивание ногтей",description:null,tag1:null,tag2:null},{id:"nailAll",serv_group_id:"nail",lang:"ru",name:"Ногти",description:null,tag1:null,tag2:null},{id:"nailShellac",serv_group_id:"nail",lang:"ru",name:"Шеллак",description:null,tag1:"shellac",tag2:"шелак"},{id:"manicureFrench",serv_group_id:"nail",lang:"ru",name:"Французский маникюр",description:null,tag1:"french",tag2:"фрэнч"}]},{id:"hair",serv_area_id:"beauty",lang:"ru",name:"Парикмахер",description:null,tag1:null,tag2:null,arr_serv_rubric:[{id:"styleHair",serv_group_id:"hair",lang:"ru",name:"Прическа",description:null,tag1:"прически",tag2:"причёска"},{id:"settingHair",serv_group_id:"hair",lang:"ru",name:"Укладка волос",description:null,tag1:"укладка",tag2:null},{id:"cutHair",serv_group_id:"hair",lang:"ru",name:"Стрижка",description:null,tag1:"стрижки",tag2:null},{id:"colorationHair",serv_group_id:"hair",lang:"ru",name:"Окрашивание волос",description:null,tag1:null,tag2:null},{id:"styleHairWedding",serv_group_id:"hair",lang:"ru",name:"Свадебная прическа",
description:null,tag1:"свадебныепрически",tag2:"свадебнаяпричёска"},{id:"laminationHair",serv_group_id:"hair",lang:"ru",name:"Ламинирование волос",description:null,tag1:null,tag2:null},{id:"cutHairMan",serv_group_id:"hair",lang:"ru",name:"Мужская стрижка",description:null,tag1:"мужскиестрижки",tag2:null},{id:"coloringHair",serv_group_id:"hair",lang:"ru",name:"Колорирование",description:null,tag1:"колорированиеволос",tag2:null},{id:"hairAll",serv_group_id:"hair",lang:"ru",name:"Парикмахер",description:null,tag1:null,tag2:null},{id:"straightHair",serv_group_id:"hair",lang:"ru",name:"Выпрямление волос",description:null,tag1:null,tag2:null},{id:"extHair",serv_group_id:"hair",lang:"ru",name:"Наращивание волос",description:"Добавление прядей к естественным волосам",tag1:null,tag2:null},{id:"styleHairEvening",serv_group_id:"hair",lang:"ru",name:"Вечерние прически",description:null,tag1:"вечерняяприческа",tag2:"вечерниепричёски"},{id:"highlightHair",serv_group_id:"hair",lang:"ru",name:"Мелирование",description:null,tag1:null,tag2:null},{id:"braidingHair",serv_group_id:"hair",lang:"ru",name:"Плетение косичек",description:null,tag1:null,tag2:null},{id:"toningHair",serv_group_id:"hair",lang:"ru",name:"Тонирование",description:null,tag1:null,tag2:null}]},{id:"makeup",serv_area_id:"beauty",lang:"ru",name:"Визажист",description:null,tag1:"визаж",tag2:"makeup",arr_serv_rubric:[{id:"makeupAll",serv_group_id:"makeup",lang:"ru",name:"Визажист",description:null,tag1:"визаж",tag2:"makeup"},{id:"makeupEvening",serv_group_id:"makeup",lang:"ru",name:"Вечерний макияж",description:null,tag1:null,tag2:null},{id:"makeupDaytime",serv_group_id:"makeup",lang:"ru",name:"Дневной макияж",description:null,tag1:null,tag2:null},{id:"makeupWedding",serv_group_id:"makeup",lang:"ru",name:"Свадебный макияж",description:null,tag1:null,tag2:null},{id:"stylistWedding",serv_group_id:"makeup",lang:"ru",name:"Свадебный стилист",description:null,tag1:null,tag2:null},{id:"stylist",serv_group_id:"makeup",lang:"ru",name:"Стилист",description:null,tag1:null,tag2:null},{id:"makeupUsual",serv_group_id:"makeup",lang:"ru",name:"Макияж",description:null,tag1:null,tag2:null}]},{id:"lashes",serv_area_id:"beauty",lang:"ru",name:"Ресницы",description:"Услуги по уходу за ресницами, бровями",tag1:null,tag2:null,arr_serv_rubric:[{id:"correctionEyebrows",serv_group_id:"lashes",lang:"ru",name:"Коррекция бровей",description:null,tag1:null,tag2:null},{id:"colorationEyelashes",serv_group_id:"lashes",lang:"ru",name:"Окрашивание ресниц",description:null,tag1:null,tag2:null},{id:"extEyelashes",serv_group_id:"lashes",lang:"ru",name:"Наращивание ресниц",description:null,tag1:null,tag2:null},{id:"modelingEyebrows",serv_group_id:"lashes",lang:"ru",name:"Моделирование бровей",description:null,tag1:null,tag2:null},{id:"laminationEyelashes",serv_group_id:"lashes",lang:"ru",name:"Ламинирование ресниц",description:null,tag1:null,tag2:null},{id:"lashesAll",serv_group_id:"lashes",lang:"ru",name:"Ресницы",description:null,tag1:null,tag2:null}]}]};e.module("myApp.ArrRubric",[]).value("ArrRubric",t)}(window.angular),function(e){"use strict";var t={arr_serv_group:[],lang:"ru",is_loaded:!1},r=function(r,i,n,a){var l=function(r){return t.arr_serv_group.length=0,e.extend(t.arr_serv_group,r.data.arr_serv_group),t.is_loaded=!0,t},o=function(){var e=r.defer();return e.resolve({data:a}),e.promise},s=function(e){return t.is_loaded=!1,o(e).then(l)};return{retrieveData:function(){return t.is_loaded?r.when(t):s("ru")}}};e.module("myApp.rubricRepo",["myApp.ArrRubric"]).factory("rubricRepo",["$q","$http","$timeout","ArrRubric",r])}(window.angular),function(e){"use strict";var t={pos:0},r=function(e){var t=document.getElementById("aggloWrap");t.scrollTop=e},i={},n=function(){return{addListener:function(e,t){i[e]=t},removeListener:function(e){delete i[e]},cleanListeners:function(){console.log("cleanListeners"),i={}},setPos:function(e){t.pos=e;for(var r in i)i[r](e)},getData:function(){return t},scrollToHash:function(e){if(e){var t=document.getElementById(e);if(t){var i=t.offsetTop;i-=100,r(i)}}}}};e.module("myApp.scrollRepo",[]).factory("scrollRepo",[n])}(window.angular),function(e,t,r){"use strict";var i={exp:null,uid:null,perms:null,is_loaded:!1},n=function(t){var r="",i=t.split(".")[1];if(!i)return null;try{r=e.atob(i)}catch(n){return console.log(n),null}var a;try{a=JSON.parse(r)}catch(n){return console.log(n),null}return a},a=function(e,t){var a="sess",l=0,o=function(e){console.log(e),i.token=e.token,i.exp=e.exp,i.perms=e.perms,i.uid=e.uid,i.is_supplier=e.is_supplier,i.fname=e.fname,i.lname=e.lname,i.avatar=e.avatar,i.is_loaded=!0},s=function(){console.log("no auth: clean data"),i.exp=null,i.perms=null,i.uid=null,i.avatar=null,i.fname=null,i.lname=null,i.is_loaded=!0};return{getData:function(){return i},retrieveSess:function(){if(i.is_loaded)return e.when();if(r.getAuthUser){var d=e.defer();r.getAuthUser(function(e,t){e?d.reject(e.message):d.resolve(t)});var c=d.promise;return c.then(function(e){console.log("setDataAuthUser",e),o({uid:e.id,is_supplier:!1,fname:e.first_name,lname:e.last_name,avatar:e.photo_50})}),c}return t.readFromStorage(a,{id:l},!1).then(function(t){if(console.log(t),!t||!t.token)return s(),null;var r=n(t.token);return r?(o({uid:r.uid,token:t.token,is_supplier:!0}),null):e.reject("Ошибка авторизации: неправильный токен")})},updateSess:function(r){var i=n(r);return i?(o({uid:i.uid,token:r,is_supplier:!0}),t.writeToStorage(a,{id:l,token:r})):e.reject("Ошибка авторизации: неправильный токен")},deleteSess:function(){return s(),t.delFromStorage(a,{id:l})}}};t.module("myApp.sessRepo",["myApp.localDb"]).factory("sessRepo",["$q","localDb",a])}(window,window.angular,window.snns),function(e){"use strict";var t=function(e,t){var r=function(r,i){var n={id:r};return i&&(n.v=Math.floor((new Date).getTime()/1e3)),t.sendGet("/master/get-profile",n).then(function(t){switch(t.status){case 204:return null;case 200:return t.data;default:return e.reject(t.status)}})};return{retrieveData:r}};e.module("myApp.supItemRepo",["myApp.apimas"]).factory("supItemRepo",["$q","apimas",t])}(window.angular),function(e){"use strict";var t={arr_supplier:[]},r=function(r,i,n,a){var l=function(){t.arr_supplier.length=0},o=function(e){e.forEach(function(e){e.master_serv.arr_serv_work=[],e.arr_master_serv=[],t.arr_supplier.push(e)})},s=function(e){t.arr_supplier.forEach(function(t){var r=[];e.forEach(function(e){t.master_serv.id===e.master_serv_id&&r.push(e)}),r.length>0&&(t.master_serv.arr_serv_work=r)})},d=function(t){var r=function(r){var i={};e.forEach(r.arr_serv_group,function(t){e.forEach(t.arr_serv_rubric,function(e){i[e.id]=e.name})}),e.forEach(t,function(e){e.master_serv.serv_rubric_name=i[e.master_serv.serv_rubric_id]})};a.retrieveData().then(r)},c=10,u=function(e,t){var r=e.slice(t,t+c);r.length>0&&n.sendGet("/work/get-by-servs",{ids_master_serv:r.join("__")}).then(function(r){r.data.arr_serv_work&&(s(r.data.arr_serv_work),u(e,t+c))})},m=function(e){var t=e.map(function(e){return e.master_serv.id});u(t,0)},p=function(e,t,i){return n.sendGet("/master/get-by-group",{serv_group_id:e,geo_district_id:t,req_name:i}).then(function(e){var t=e.data.arr_master_detail;return t?(t=t.slice(0,99),l(),d(t),o(t),m(t),t):r.reject("no arr_master_detail")})},g=function(e,t,i){return n.sendGet("/master/get-by-rubric",{serv_rubric_id:e,geo_district_id:t,req_name:i}).then(function(e){var t=e.data.arr_master_detail;return t?(t=t.slice(0,99),l(),d(t),o(t),m(t),t):r.reject("no arr_master_detail")})};return{getArr:function(){return t.arr_supplier},retrieveByGroup:p,retrieveByRubric:g,cleanArrSupplier:l}};e.module("myApp.supListRepo",["myApp.rubricRepo","myApp.apimas"]).factory("supListRepo",["$q","$window","apimas","rubricRepo",r])}(window.angular),function(e){"use strict";function t(e){var t=function(t){e.show({templateUrl:"alrt/alrt.tpl.html",controller:"AlrtController",clickOutsideToClose:!0,parent:r,locals:{msg_body:t}})};return{error:function(e){t(e)},success:function(e){t(e)},info:function(e){t(e)}}}var r=e.element(document.body);e.module("myApp.notifFactory",["ngMaterial","myApp.AlrtController"]).factory("notifFactory",["$mdDialog",t])}(window.angular),function(e){"use strict";var t=function(e){var t=function(t,r){e.show(e.simple().content(t).position("top right").hideDelay(r||1500))};return{showToast:t}};e.module("myApp.toastFactory",["ngMaterial"]).factory("toastFactory",["$mdToast",t])}(window.angular),function(e,t){"use strict";var r=function(e,t,r,i,n,a,l){var o=function(e){e?l(null,e):l({msg:"Мастер / салон не найден. Возможно страница была удалена.",dtl:"no tmpSupplier"})},s=function(e){l({msg:"Возникла непредвиденная ошибка. Повторите запрос позже.",dtl:e})},d=function(){switch(n){case"map":if("function"==typeof window.callPhantom)return void l({msg:"Данные карты не загружаются по запросам поисковых роботов",dtl:"window.callPhantom is not allowed"});e.retrieveData(i,a).then(o)["catch"](s);break;default:t.retrieveData(i).then(o)["catch"](s)}};r.retrieveData().then(function(){d()})},i=function(t,r,i,n,a,l,o,s,d,c){var u={map:function(t){var r={id:t.id,name:t.name,city_name:t.city_name,address:t.address,contacts:[],ads_article:t.article,ads_ref:t.link,ads_warning:t.fas_warning,avatar:null,bio:null,is_company:!0,lon:t.lon,lat:t.lat};return e.forEach(t.contacts,function(t){e.forEach(t.contacts,function(e){r.contacts.push(e)})}),r},tbl:function(e){var t={id:e.id,name:e.name,contacts:[],ads_article:null,ads_ref:null,ads_warning:null,avatar:e.avatar,bio:e.bio,is_company:e.is_company,lon:null,lat:null};if(e.master_address){var r=o.calcById(e.master_address.geo_district_id);r?t.city_name=r.local_name:console.log("no city name for "+e.master_address),e.master_address.description&&(t.address=a.calcAddrFromDescription(e.master_address.description),t.out_geo=a.calcOutGeoFromDescription(e.master_address.description))}e.main_phone&&t.contacts.push({type:"phone",value:e.main_phone,alias:null,comment:""}),e.landline&&t.contacts.push({type:"landline",value:e.landline,alias:null,comment:""}),e.main_email&&t.contacts.push({type:"email",value:e.main_email,alias:null,comment:""});var i=["website","whatsapp","vkontakte","facebook","viber","twitter","skype","odnoklassniki"];return i.forEach(function(r){e[r]&&t.contacts.push({type:r,value:e[r],alias:e[r].replace("http://","").replace("https://",""),comment:""})}),e.nstg_id&&t.contacts.push({type:"instagram",value:"https://instagram.com/"+e.username,alias:"instagram.com/"+e.username,comment:""}),t}},m=function(t,r){e.forEach(r,function(r){e.forEach(t,function(e){r.id===e.master_serv_id&&(r.arr_serv_work||(r.arr_serv_work=[]),r.arr_serv_work.push(e))})}),c()},p=function(e){var t=e.map(function(e){return e.id});return 0===t.length?void c():void s.sendGet("/work/get-by-servs",{ids_master_serv:t.join("__")}).then(function(t){m(t.data.arr_serv_work,e)})["catch"](function(e){c({msg:"Не удалось загрузить список работ. Попробуйте позже.",dtl:e})})},g=function(e){c({msg:"Не удалось загрузить список услуг. Попробуйте позже.",dtl:e})},v=function(t){var r=function(r){var i={};e.forEach(r.arr_serv_group,function(t){e.forEach(t.arr_serv_rubric,function(e){i[e.id]=e.name})}),e.forEach(t,function(e){e.serv_rubric_name=i[e.serv_rubric_id]})};l.retrieveData().then(r)},f=function(e){v(e.data.arr_master_serv),t.arr_master_serv=e.data.arr_master_serv,p(t.arr_master_serv)},_=function(e){return"tbl"!==d?void c():void s.sendGet("/master/get-servs-by-master",{master_profile_id:e}).then(f)["catch"](g)};t.vfirm=u[d](r),l.retrieveData().then(function(){_(r.id)})["catch"](function(e){c({msg:"Не удалось загрузить список рубрик. Попробуйте позже",dtl:e})})},n=function(e,n,a,l,o,s,d,c,u,m,p,g,v,f){v=v||"tbl",e.supplier_url=a.href("byt.splrItem.main",{supplier_id:g,name:p}),e.isAddToBookmarks=!!t.addToBookmarks,e.addToBookmarks=function(){e.isAddToBookmarks&&t.addToBookmarks()},e.sessData=u.getData(),e.isWallPostSupplier=!!t.wallPost,e.wallPostSupplier=function(){if(e.isWallPostSupplier){var r=e.vfirm;if(r){var i=r.name;if(r.city_name&&(i+=" "+r.city_name),e.arr_master_serv){var n=e.arr_master_serv.map(function(e){return e.serv_rubric_name});n.length>0&&(i+=": "+n.join(", "))}t.wallPost(i,"http://miskra.ru/id"+r.id+"?name="+encodeURIComponent(r.name)+"&_escaped_fragment_=")}}},n(function(){e.is_prg=!0},500),r(o,l,c,g,v,f,function(t,r){return t?(e.err_msg=t.msg,console.log("err",JSON.stringify(t)),void e.htmlReady()):void i(e,r,l,o,s,d,c,m,v,function(t){t&&(e.err_msg=t.msg,console.log("err",JSON.stringify(t))),e.htmlReady()})})};e.module("myApp.SplrMainController",["myApp.supItemRepo","myApp.firmItemRepo","myApp.splrAddressHelper","myApp.rubricRepo","myApp.apimas","myApp.geoAggloRepo","myApp.sessRepo"]).controller("SplrMainController",["$scope","$timeout","$state","supItemRepo","firmItemRepo","splrAddressHelper","rubricRepo","geoAggloRepo","sessRepo","apimas","q_name","q_id","q_tpe","q_hash",n])}(window.angular,window.snns),function(e){"use strict";var t=function(e,t){if(e.splr){console.log("load msrv");var r={currency_id:null,id:2299,is_out:!1,master_profile_id:863323,price_from:null,price_to:null,serv_rubric_id:"manicure",serv_rubric_name:t,time_from:null,time_to:null};e.msrv=r}};e.module("myApp.ServItemController",[]).controller("ServItemController",["$scope","q_serv_rubric_name",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){var n=function(e){switch(e.status){case 422:r.error("Ошибка ввода: "+JSON.stringify(e.data));break;default:r.error("Непредвиденная ошибка. Не удалось сохранить. Попробуйте позже")}console.log(e)},a=function(e){console.log(e),i.showToast("Сохранено успешно")};e.updateEmail=function(r){e.update_progress=!0,t.sendPost("/master/update-email",r).then(a)["catch"](n)["finally"](function(){e.update_progress=!1})}};e.module("myApp.SplrEmailEdtController",["myApp.apimas","myApp.notifFactory","myApp.toastFactory"]).controller("SplrEmailEdtController",["$scope","apimas","notifFactory","toastFactory",t])}(window.angular),function(e){"use strict";var t=function(e){var t=e.filter(function(e){return e.is_selected===!0});return t.map(function(e){return e.name})},r=function(t,r){if(!t)return[];var i=[],n=function(e){var r={id:e.id,name:e.name};r.is_selected=t.indexOf(r.name)>=0,i.push(r)};return e.forEach(r,n),i},i=function(i,n,a,l,o){var s=function(e){switch(e.status){case 422:a.error("Ошибка ввода: "+JSON.stringify(e.data));break;default:a.error("Непредвиденная ошибка. Не удалось сохранить. Попробуйте позже")}console.log(e)},d=function(e){console.log(e),l.showToast("Сохранено успешно")};if(i.clearSupRegion=function(e){e.supRegion=void 0},i.updateAddress=function(e,r,a){i.update_progress=!0,console.log(r),r.cusRegions=t(a),e.description=JSON.stringify(r),console.log(e),n.sendPost("/master/upsert-address",e).then(d)["catch"](s)["finally"](function(){i.update_progress=!1})},i.selectAll=function(t){e.forEach(t,function(e){e.is_selected=!0})},i.unselectAll=function(t){e.forEach(t,function(e){e.is_selected=!1})},!i.mdr||!i.mdr.geo_district_id)return void console.log("no mdr or gid");try{i.ggg=JSON.parse(i.mdr.description||"{}")}catch(c){console.log(c),i.ggg={}}o.retrieveData().then(function(){i.geoRegionList=r(i.ggg.cusRegions||[],o.getList(i.mdr.geo_district_id))})},n=function(){return{restrict:"A",templateUrl:"splr-manager/address/address-edt.tpl.html",scope:{mdr:"="},controller:["$scope","apimas","notifFactory","toastFactory","geoRegionRepo",i]}};e.module("myApp.addressEdtDrct",["myApp.apimas","myApp.notifFactory","myApp.toastFactory","myApp.geoRegionRepo"]).directive("addressEdtDrct",[n])}(window.angular),function(e){"use strict";var t=function(t){var r=e.lowercase(t);return function(e){return e.local_name.toLowerCase().indexOf(r)>=0}},r=function(e,r){if(!e.supplier)return console.log("no $scope.supplier"),void alert("Непредвиденная ошибка");var i=e.supplier.master_address;return i?(e.slc_data={agglo_item:null},r.retrieveData().then(function(){e.agglo_data=r.getData(),i.geo_district_id&&(e.slc_data.agglo_item=r.calcById(i.geo_district_id))}),e.querySearch=function(e,r){return r?e.filter(t(r)):e},void(e.onSelectedItemChange=function(e){i.geo_district_id=e?e.id:null})):(console.log("no master_address aggglo_edt"),void alert("Непредвиденная ошибка"))};e.module("myApp.SplrAggloEdtController",["myApp.addressEdtDrct","myApp.geoAggloRepo"]).controller("SplrAggloEdtController",["$scope","geoAggloRepo",r])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){var n=function(e){switch(e.status){case 422:r.error("Ошибка ввода: "+JSON.stringify(e.data));break;default:r.error("Непредвиденная ошибка. Не удалось сохранить. Попробуйте позже")}console.log(e)},a=function(e){console.log(e),i.showToast("Сохранено успешно")};e.updatePhone=function(r){e.update_progress=!0,t.sendPost("/master/update-phone",r).then(a)["catch"](n)["finally"](function(){e.update_progress=!1})}};e.module("myApp.SplrPhoneEdtController",["myApp.apimas","myApp.notifFactory","myApp.toastFactory"]).controller("SplrPhoneEdtController",["$scope","apimas","notifFactory","toastFactory",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){var n=function(e){switch(e.status){case 422:r.error("Ошибка ввода: "+JSON.stringify(e.data));break;default:r.error("Непредвиденная ошибка. Не удалось сохранить. Попробуйте позже")}console.log(e)},a=function(e){console.log(e),i.showToast("Сохранено успешно")};e.updateProfile=function(r){e.update_progress=!0,console.log(r),t.sendPost("/master/update-profile",r).then(a)["catch"](n)["finally"](function(){e.update_progress=!1})}};e.module("myApp.SplrProfileEdtController",["myApp.apimas","myApp.notifFactory","myApp.toastFactory"]).controller("SplrProfileEdtController",["$scope","apimas","notifFactory","toastFactory",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){var n=function(){r.deleteSess(),t.go("byt.welcome")},a=function(t){console.log(t),e.err_msg="Непредвиденная ошибка: не удалось удалить. Попробуйте позже"},l=function(){e.is_progress=!1,e.htmlReady()};e.removeAccount=function(t){console.log("removed",t),e.is_progress=!0,i.sendPost("/master/delete-master",{id:t.id}).then(n)["catch"](a)["finally"](l)}};e.module("myApp.SplrRemovalController",["myApp.sessRepo"]).controller("SplrRemovalController",["$scope","$state","sessRepo","apimas",t])}(window.angular),function(e){"use strict";var t=function(e){e.htmlReady()};e.module("myApp.SplrServsEdtController",[]).controller("SplrServsEdtController",["$scope",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){var n=function(e){switch(e.status){case 422:r.error("Ошибка ввода: "+JSON.stringify(e.data));break;default:r.error("Непредвиденная ошибка. Не удалось сохранить. Попробуйте позже")}console.log(e)},a=function(e){console.log(e),i.showToast("Сохранено успешно")};e.updateProfile=function(r){e.update_progress=!0,console.log(r),t.sendPost("/master/update-profile",r).then(a)["catch"](n)["finally"](function(){e.update_progress=!1})}};e.module("myApp.SplrSocialEdtController",["myApp.apimas","myApp.notifFactory","myApp.toastFactory"]).controller("SplrSocialEdtController",["$scope","apimas","notifFactory","toastFactory",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i,n,a,l){return e.cur_spec?(a.retrieveData().then(function(){var t=n.findElemByProp(e.cur_spec.arr_serv_rubric||[],"name",l);return t?r.when(t):r.reject("Не найдена услуга: "+l)}).then(function(t){e.cur_rubric=t})["catch"](function(t){e.err_cur_rubric={msg:"Ошибка загрузки услуги. Пожалуйста, попробуйте позже",reason:t},console.log("retrieveData",t),e.htmlReady()}),void t(function(){e.is_prg=!0},500)):(e.err_cur_rubric={msg:"Не найдена специализация"},void e.htmlReady())};e.module("myApp.RubricItemController",["myApp.drct","myApp.rubricRepo","myApp.hprFactory"]).controller("RubricItemController",["$scope","$timeout","$q","$state","hprFactory","rubricRepo","q_rubric_name",t])}(window.angular),function(e){"use strict";var t=function(e,t,r,i){var n=function(e){i({msg:"Не удалось загрузить работу. Повторите позже",dtl:e})},a=function(){t.sendGet("/work/get-work",{id:r}).then(function(t){e.sw=t.data,i()})["catch"](n)};a()},r=function(e,r,i,n,a,l){if(e.splr&&e.msrv){var o=i.absUrl();e.url_to_share=o,e.link_supplier=n.href("byt.splrItem.main",{supplier_id:e.splr.id,name:e.splr.name}),e.is_vk_share=!!window.VK,e.is_vk_like=!!window.VK,t(e,a,l,function(t){t?(e.err_msg=t.msg,console.log(JSON.stringify(t))):console.log("a work is loaded"),e.htmlReady()})}};e.module("myApp.WorkItemController",["myApp.apimas","myApp.vkLikeDrct","myApp.vkShareDrct"]).controller("WorkItemController",["$scope","$window","$location","$state","apimas","q_serv_work_id",r])}(window.angular),function(e,t){"use strict";var r={},i=null;t.Icon.Default.imagePath="./images/";var n=function(t,n,a,l,o,s,d,c,u,m){if("function"==typeof window.callPhantom)return void t.htmlReady();t.cur_agglo.id!==i&&(r={}),i=t.cur_agglo.id,t.firm_list_data=s.getData(),t.map_defaults={tileLayer:"https:////{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",tileLayerOptions:{detectRetina:!0,reuseTiles:!0,attribution:'© <a target="_blank" href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors | <a target="_blank" href="http://api.2gis.ru/">Предоставлено 2ГИС</a>'},zoomControlPosition:"topleft"},t.map_events={map:{enable:["moveend"],logic:"emit"}},t.map_paths={p1:{weight:2,stroke:!0,opacity:.5,fillOpacity:0,clickable:!1,color:"green",latlngs:[40,40],radius:3e3,type:"circle"}},t.zurpos={lng:null,lat:null,zoom:null};var p=!0,g=function(){l.error("Ошибка загрузки салонов. Попробуйте позже.")},v=function(e){};t.$on("leafletDirectiveMap.moveend",function(i){var n=i.targetScope.center,a=!0;if(t.zurpos.lng){var o=Math.max(Math.abs(n.lng-t.zurpos.lng),Math.abs(n.lat-t.zurpos.lat));.0015>o&&(a=!1,console.log("delta",o))}if(t.zurpos.lng=n.lng,t.zurpos.lat=n.lat,t.zurpos.zoom=n.zoom,r.lng=n.lng,r.lat=n.lat,r.zoom=n.zoom,n.zoom<14)t.map_paths.p1.radius=0;else if(a){var d=t.cur_spec.id;d?(s.retrieveData(t.zurpos.lng,t.zurpos.lat,d)["catch"](e.bind(null,g))["finally"](e.bind(null,v,p)),t.map_paths.p1.latlngs=[n.lat,n.lng],t.map_paths.p1.radius=3e3):l.error("Для показа салонов необходимо выбрать рубрику")}p=!1});var f=null;t.$on("leafletDirectiveMarker.popupopen",function(e,t){f=t.leafletEvent.popup._source}),t.perm_data=d.getData(),t.loc_data=c.getData(),t.map_center={lat:null,lng:null,zoom:14};var _=function(e,r,i){i&&(t.map_center.zoom=i),t.map_center.lat=e,t.map_center.lng=r},y=function(){var e=o.coordsFromWktPoint(t.cur_agglo.centroid);_(e.latitude,e.longitude)},h=function(){var e=c.getData().coords;m.calcAggloByCoords(e.lat,e.lng).then(function(r){r?(console.log("tmpAgglo",r),r.id===t.cur_agglo.id?(_(e.lat,e.lng),console.log("device coords")):y()):y()})},b=function(e){console.log("handleLocPerm"),e?c.retrieveFromDevice().then(h)["catch"](y):y()};r.lng?_(r.lat,r.lng,r.zoom):d.checkLocationPermission().then(b),u.retrieveData().then(function(e){t.groups=e.arr_serv_group})["catch"](function(e){t.err_groups={msg:"Ошибка загрузки категорий. Пожалуйста, попробуйте позже",reason:e},console.log(e)}),t.$watch("groups",function(r){var i,a=[];r&&e.forEach(r,function(r){e.forEach(r.arr_serv_rubric,function(e){var l={name:e.name,url:n.href("byt.aggloItem.specItem.rubricItem.mapView",{agglo_local_name:t.cur_agglo.local_name,spec_name:r.name,rubric_name:e.name})};e.id===t.cur_rubric.id&&(i=l),a.push(l)})}),t.qdata={qitem:i},t.arr_search_item=a},!0)};e.module("myApp.MapViewController",["ngSanitize","leaflet-directive","ngMaterial","myApp.notifFactory","myApp.hprFactory","myApp.firmListRepo","myApp.permRepo","myApp.locRepo","myApp.rubricRepo","myApp.geoAggloRepo"]).config(["$mdGestureProvider",function(e){e.skipClickHijack()}]).controller("MapViewController",["$scope","$state","$mdDialog","notifFactory","hprFactory","firmListRepo","permRepo","locRepo","rubricRepo","geoAggloRepo",n])}(window.angular,window.L),function(e){"use strict";var t=function(e,t,r){e.saveHash=function(e){t.hash(e)};var i={supplier_id:e.pw.master_profile_id,name:e.pw.master_profile_name};e.workInfoLink=r.href("byt.splrItem.servItem.workItem",{supplier_id:e.pw.master_profile_id,serv_rubric_name:e.rubricName,serv_work_id:e.pw.id,name:e.pw.master_profile_name}),e.masterInfoLink=r.href("byt.splrItem.main",i)},r=function(e,r){var i=function(t,i,n){return n.index<=3?void(t.is_viewed=!0):void e.addListener(n.index,function(){r.isElemInViewport(i[0],200)&&(e.removeListener(n.index),t.is_viewed=!0)})};return{restrict:"A",templateUrl:"agglo-item/spec-item/rubric-item/prtf-view/prtf-item.tpl.html",scope:{pw:"=",rubricName:"="},controller:["$scope","$location","$state",t],link:i}};e.module("myApp.prtfItemDrct",["myApp.scrollRepo","myApp.hprFactory"]).directive("prtfItemDrct",["scrollRepo","hprFactory",r])}(window.angular),function(e){"use strict";var t=function(t,r,i,n,a,l,o){var s=function(e){o({msg:"Ошибка загрузки фотографий. Попробуйте позже.",dtl:e})},d=function(e){o(null,e)};n.cleanListeners(),a.retrieveData(t.cur_rubric.id,t.cur_agglo.id).then(d)["catch"](s),l.retrieveData().then(function(e){t.groups=e.arr_serv_group}),t.$watch("groups",function(i){var n,a=[];i&&e.forEach(i,function(i){e.forEach(i.arr_serv_rubric,function(e){var l={name:e.name,url:r.href("byt.aggloItem.specItem.rubricItem.prtfView",{agglo_local_name:t.cur_agglo.local_name,spec_name:i.name,rubric_name:e.name})};e.id===t.cur_rubric.id&&(n=l),a.push(l)})}),t.qdata={qitem:n},t.arr_search_item=a},!0)},r=function(e,r,i,n,a,l){t(e,r,i,n,a,l,function(t,r){return t?(e.err_arr_prtf_work=t,void e.htmlReady()):(e.$on("servListRepeatFinished",function(){console.log("servListRepeatFinished");var t=i.hash();t&&n.scrollToHash("work"+t),e.htmlReady()}),void(e.arr_prtf_work=r))})};e.module("myApp.PrtfViewController",["myApp.drct","myApp.prtfRepo","myApp.scrollRepo","myApp.prtfItemDrct","myApp.rubricRepo"]).controller("PrtfViewController",["$scope","$state","$location","scrollRepo","prtfRepo","rubricRepo",r])}(window.angular),function(e){"use strict";var t=function(t,r,i,n,a,l){var o=t.cur_rubric.id,s=t.cur_spec.id,d=function(){t.err_msg="Ошибка загрузки мастеров и салонов. Попробуйте позже"},c=function(){t.is_loaded=!0,t.htmlReady()};n.cleanListeners(),t.$on("supplierListRepeatFinished",function(){var e=i.hash();e&&n.scrollToHash("supplier"+e)}),a.retrieveData().then(function(e){t.groups=e.arr_serv_group})["catch"](function(e){t.err_groups={msg:"Ошибка загрузки категорий. Пожалуйста, попробуйте позже",reason:e},console.log(e)}),t.$watch("groups",function(i){var n,a=[];i&&e.forEach(i,function(i){e.forEach(i.arr_serv_rubric,function(e){var l={name:e.name,url:r.href("byt.aggloItem.specItem.rubricItem.tblView",{agglo_local_name:t.cur_agglo.local_name,spec_name:i.name,rubric_name:e.name})};e.id===t.cur_rubric.id&&(n=l),a.push(l)})}),t.qdata={qitem:n},t.arr_search_item=a},!0),t.arr_supplier=l.getArr(),o===s?l.retrieveByGroup(s,t.cur_agglo.id,"")["catch"](d)["finally"](c):l.retrieveByRubric(o,t.cur_agglo.id,"")["catch"](d)["finally"](c)};e.module("myApp.TblViewController",["myApp.tblItemDrct","myApp.rubricRepo","myApp.supListRepo","myApp.scrollRepo"]).controller("TblViewController",["$scope","$state","$location","scrollRepo","rubricRepo","supListRepo",t])}(window.angular),angular.module("myApp.templateFactory",[]).run(["$templateCache",function(e){e.put("app.tpl.html",'<div class="full-height" ui-view="appContent" role="main"></div>'),e.put("about/about.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ui-sref="byt.welcome"><span class="fa fa-home"></span></a><h1 class="app-toolbar__header">О проекте МисКра</h1><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div layout-margin="" layout-padding=""><p>Проект "МисКра" предоставляет услуги по поиску и подбору мастеров и салонов красоты</p><h2>Виды услуг</h2><div layout-padding=""><ul><li>Ногти<ul><li>Маникюр</li><li>Педикюр</li><li>Укрепление ногтей</li><li>Коррекция ногтей</li><li>Наращивание ногтей</li><li>Ногти</li><li>Шеллак</li><li>Французский маникюр</li></ul></li><li>Парикмахер<ul><li>Прическа</li><li>Укладка волос</li><li>Стрижка</li><li>Окрашивание волос</li><li>Свадебная прическа</li><li>Ламинирование волос</li><li>Мужская стрижка</li><li>Колорирование</li><li>Парикмахер</li><li>Выпрямление волос</li><li>Наращивание волос</li><li>Вечерние прически</li><li>Мелирование</li><li>Плетение косичек</li><li>Тонирование</li></ul></li><li>Визажист<ul><li>Визажист</li><li>Вечерний макияж</li><li>Дневной макияж</li><li>Свадебный макияж</li><li>Свадебный стилист</li><li>Стилист</li><li>Макияж</li></ul></li><li>Ресницы<ul><li>Коррекция бровей</li><li>Окрашивание ресниц</li><li>Наращивание ресниц</li><li>Моделирование бровей</li><li>Ламинирование ресниц</li><li>Ресницы</li></ul></li></ul></div><h2>Варианты поиска</h2><ul><li>по карте города: расположение салонов красоты</li><li>по фотографиям работ: портфолио</li><li>по каталогу исполнителей</li></ul><h2>География</h2><p>Проект поддерживает большинство крупных и средних городов по территории РФ и некоторые зарубежные города.</p></div></div>'),e.put("agglo-item/agglo-item.tpl.html",'<div class="full-height" ng-if="cur_agglo" ui-view="aggloItemContent"></div><div ng-if="is_prg"><div ng-if="!cur_agglo"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка локации...</div></div></div>'),e.put("agglo-list/agglo-list.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ui-sref="byt.welcome"><span class="fa fa-home"></span></a><h1 class="app-toolbar__header">Выбор города</h1><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div ng-if="agglo_data.is_loaded"><div layout="row"><md-input-container md-no-float="" flex="" style="margin: 16px 16px 0 16px"><md-icon md-font-icon="fa fa-search fa-2x"></md-icon><input type="text" placeholder="Найти город" ng-model="agglo_search.local_name"></md-input-container></div><ul><li class="agglo-list-item" ng-repeat="agg in agglo_data.arr_geo_agglo | filter:agglo_search"><a class="agglo-list-link" ng-bind="agg.local_name" ui-sref="byt.aggloItem.specList({agglo_local_name:agg.local_name})"></a></li></ul></div></div></div></div>'),e.put("agreement/agreement.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ui-sref="byt.welcome"><span class="fa fa-home"></span></a><h1 class="app-toolbar__header">Лицензионное соглашение</h1><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div layout-margin="" layout-padding=""><p>Настоящее лицензионное соглашение (далее «Соглашение») регулирует отношения между Администрацией Платформы МисКра, именуемое в дальнейшем «Лицензиар» и Вами, Лицензиатом (далее «Лицензиат»), в отношении Платформы.</p><ul style="list-style: none"><li><h2>1. Термины, используемые в настоящем Соглашении</h2><p>В настоящем документе и вытекающих или связанным с ним отношениях Сторон применяются следующие термины и определения</p><ul><li>1.1 Платформа МисКра (или Платформа) - ресурс, состоящий из совокупности (а) Программ для ЭВМ и (б) информации (Контента), размещенной в них Администрацией и/или Пользователями</li><li>1.2 Программы для ЭВМ Платформы МисКра (или Программы для ЭВМ) – представленные в объективной форме совокупности данных и команд, исполняющиеся на ЭВМ Пользователя, порождающие аудиовизуальные отображения и выполняющие определенные функции Платформы и/или отвечающие за функционирование Платформы в целом. Программы для ЭВМ включают в себя соответствующие веб-сайт, приложения в социальных сетях и мобильные приложения.</li><li>1.3 Контент Платформы МисКра (или Контент) - информация, размещённая в Платформе Администрацией и/или Пользователями</li><li>1.4 Лицензиат (или Пользователь) — дееспособное физическое лицо, присоединившееся к настоящему Соглашению в собственном интересе либо выступающее от имени и в интересах представляемого им юридического лица. Лицензиат является Стороной настоящего Соглашения.</li><li>1.5 Лицензиар (или Администрация) - лицо или группа лиц, обладающих необходимыми правами на предоставление Пользователю права использования Платформы. Лицензиар является Стороной настоящего Соглашения.</li><li>1.6 Соглашение — настоящее соглашение со всеми дополнениями и изменениями.</li><li>1.7 Дополнительный функционал Платформы - программные коды, исполняющиеся на ЭВМ в составе Платформы, которые могут использоваться Пользователем для получения определенного дополнительного функционала. Право использования Дополнительного функционала Платформы предоставляется Пользователю по решению Администрации.</li><li>1.8 Аккаунт Пользователя (или Аккаунт) - учетная запись Лицензиата, создаваемая в момент регистрации в Платформе, позволяющая Лицензиару идентифицировать (авторизовать) каждого Лицензиата посредством уникальных аутентификационных данных.</li></ul></li><li><h2>2. Предмет соглашения</h2><p>По настоящему Соглашению и при условии соблюдения Лицензиатом его соответствующих условий и закрепленных в нем правил использования Платформы Лицензиар предоставляет Лицензиату на условиях простой неисключительной лицензии право использования Платформы, как программного обеспечения и базы данных, в том числе, доступ к основным функциям Платформы и размещенной в ней информации, а также к Дополнительному функционалу Платформы, в пределах, определенных настоящим Соглашением. Предоставление прав использования Контента, загружаемого в Платформу Лицензиатами, в предмет настоящего Соглашения не входит. Право использования Платформы, за исключением ее Дополнительного функционала, предоставляется Лицензиату бесплатно. Приобретение прав использования Дополнительного функционала Платформы и их оплата не являются необходимым условием присутствия Лицензиата в Платформе, либо получения прав использования Платформы в целом. Права использования Дополнительного функционала Платформы предоставляются по запросу и желанию Лицензиата. Дополнительный функционал Платформы может быть использован Лицензиатом только в связи с использованием Платформы.</p></li><li><h2>3. Пределы использования Платформы и ее Дополнительного функционала</h2><ul><li>3.1 Пользователь вправе:<ul><li>3.1.1 использовать Программы для ЭВМ в соответствии с их назначением и функциональными возможностями;</li><li>3.1.2 воспроизводить элементы Платформы, включая Дополнительный функционал Платформы, в виде размещенной в ней информации и Контента для личного использования посредством копирования в память своего персонального компьютера и/или мобильного устройства (скачивания). В том случае, если элементы Контента являются объектом авторских прав или личными изображениями (фотографиями) других Лицензиатов или третьих лиц, Лицензиат при таком их воспроизведении обязан дополнительно получать согласие таких лиц на такое воспроизведение;</li></ul></li><li>3.2 Пользователь не вправе:<ul><li>3.2.1 воспроизводить, дублировать, копировать, продавать, распространять, осуществлять торговые операции и перепродавать право использования и/или сами Программы для ЭВМ для каких-либо целей, за исключением случаев, когда такие действия были прямо разрешены Пользователю в соответствии с условиями настоящего Соглашения;</li><li>3.2.2 переводить Программы для ЭВМ на другие языки;</li><li>3.2.3 распространять вне Платформы в коммерческих или некоммерческих целях аудиовизуальные и/или графические отображения, присутствующие в Программах для ЭВМ, а также любые элементы их дизайна или пользовательского интерфейса, при отсутствии письменного разрешения соответствующих правообладателей на совершение данных действий;</li><li>3.2.4 использовать Программы для ЭВМ иными способами, не предусмотренными настоящим Соглашением и выходящими за рамки обычного процесса функционирования Программ для ЭВМ</li></ul></li></ul></li><li><h2>4. Территория и срок действия Соглашения</h2><ul><li>4.1 Лицензиат вправе использовать Платформу способами, описанными в настоящем Соглашении, на всей территории Российской Федерации, а также иных территориях, на которых она доступна с использованием стандартных компьютерных средств и программ.</li><li>4.2 Настоящее Соглашение действует с момента принятия его условий Лицензиатом и действует в течение 1 (одного) календарного года.</li><li>4.3 Действие настоящего Соглашения автоматически продлевается еще на каждый последующий 1 (один) год, если до истечения указанного срока действия Соглашения: (а) Лицензиар не примет решение об изменении положений настоящего Соглашения, о необходимости заключения с Лицензиатами нового соглашения, прекращении администрирования и обслуживания Платформы и прекращении к ней доступа, прекращении настоящего Соглашения в отношении Лицензиата, или прекращения доступа к использованию Платформы в отношении Лицензиата; (б) Лицензиат не примет решение о прекращении использования Платформы и не удалит Аккаунт, зарегистрированный данным Лицензиатом.</li><li>4.4 Лицензиар вправе в любое время без уведомления Лицензиата и без объяснения причин прекратить настоящее Соглашение в одностороннем внесудебном порядке с немедленным прекращением доступа и возможности использовать Платформу и без возмещения каких-либо затрат, убытков или возврата полученного по Соглашению, в том числе в случае: (а) закрытия Платформы; (б) любого, в том числе однократного, нарушения Лицензиатом условий настоящего Соглашения.</li><li>4.5 Лицензиар вправе в любое время без уведомления Лицензиата и без объяснения причин приостановить доступ и возможность использовать Платформу без возмещения каких-либо затрат, убытков или возврата полученного по Соглашению, в том числе в случае любого, в том числе однократного, нарушения Лицензиатом условий настоящего Соглашения.</li><li>4.6 Лицензиат вправе в любое время без уведомления Лицензиара и без объяснения причин прекратить настоящее Соглашение в одностороннем внесудебном порядке путем удаления Аккаунта Лицензиата без возмещения каких-либо затрат, убытков или возврата полученного по Соглашению.</li><li>4.7 Лицензиат соглашается и полностью признает, что все исключительные права или необходимые лицензии на программное обеспечение, составляющее элемент Платформы и/или используемое для ее администрирования и функционирования, включая входящие в его состав аудиовизуальные отображения, а также графический дизайн Программ ЭВМ, фотографии, анимации, видеоизображения, видеоклипы, звуковые записи, звуковые эффекты, музыка, текстовое наполнение и приложения Платформы, за исключением Контента, загружаемого в Платформу Лицензиатами, принадлежат Лицензиару, если иное в явном виде не указано в Соглашении, в Платформе..</li><li>4.8 Настоящее Соглашение не предусматривает уступку каких-либо исключительных прав или выдачу исключительной лицензии на любые составляющие Платформы от Лицензиара к Лицензиату.</li><li>4.9 В случае, если Лицензиату в соответствии с законами его государства запрещено пользоваться сетью Интернет или существуют иные законодательные ограничения, включая ограничения по возрасту допуска к такому программному обеспечению, Лицензиат не вправе использовать Платформу. В таком случае Лицензиат самостоятельно несет ответственность за использование Платформы на территории своего государства в нарушение местного законодательства.</li></ul></li><li><h2>5. Заключительные положения</h2><ul><li>5.1 Настоящее Соглашение может быть изменено Лицензиаром без какого-либо предварительного уведомления. Любые изменения в Соглашении, осуществленные Лицензиаром в одностороннем порядке вступают в силу в день, следующий за днем опубликования таких изменений на Интернет сайте Лицензиара. Лицензиат обязуется самостоятельно проверять Соглашение на предмет изменений. Неосуществление Лицензиатом действий по ознакомлению с Соглашением и/или измененной редакцией Соглашения не может служить основанием для неисполнения Лицензиатом своих обязательств и несоблюдения Лицензиатом ограничений, установленных Соглашением.</li><li>5.2 Недействительность одного или нескольких положений Соглашения, признанная в установленном порядке вступившим в силу решением суда, не влечет для Сторон недействительности соглашения в целом. В случае признания одного или нескольких положений Соглашения в установленном порядке недействительными, Стороны обязуются исполнять взятые на себя по Соглашению обязательства максимально близким к подразумеваемым Сторонами при заключении и/или согласованном изменении Соглашения способом.</li><li>5.3 Настоящее Соглашение и взаимоотношения Сторон в связи с настоящим Соглашением и использованием Социальной сети регулируются законодательством Российской Федерации.</li><li>5.4 В отношении формы и способа заключения настоящего Соглашения применяются нормы Гражданского Кодекса РФ («ГК РФ»), регулирующие порядок и условия заключения договора путем акцепта публичной оферты.</li><li>5.5 Все споры сторон по настоящему соглашению подлежат разрешению путем переписки и переговоров с использованием обязательного досудебного (претензионного) порядка. В случае невозможности достичь согласия между сторонами путем переговоров в течение 60 (шестидесяти) календарных дней с момента получения другой Стороной письменной претензии, рассмотрение спора должно быть передано любой заинтересованной стороной в суд общей юрисдикции по месту нахождения Лицензиара (с исключением подсудности дела любым иным судам).</li></ul></li></ul><div>Редакция от «19» июня 2015 года</div></div></div>'),
e.put("alrt/alrt.tpl.html",'<md-dialog aria-label="Уведомление"><md-dialog-content><p ng-bind="msg_body"></p></md-dialog-content><div class="md-actions"><md-button class="md-accent" ng-click="hideDialog()">Понятно</md-button></div></md-dialog>'),e.put("drct/scroll-top.tpl.html",'<div><div id="top_block"></div><md-button ng-click="scrollToTop()" aria-label="наверх" class="md-fab md-mini md-primary" style="position: fixed; bottom: 20px; left:0; margin:1px; padding: 0; opacity: 0.3" ng-show="scroll_data.pos > 300" analytics-on="" analytics-category="scroll" analytics-event="scroll-top"><md-icon md-font-icon="fa fa-arrow-up fa-2x"></md-icon></md-button></div>'),e.put("drct/search.tpl.html",'<div ng-if="items"><div layout="row"><form ng-submit="$event.preventDefault()" flex=""><md-autocomplete md-no-cache="true" md-autofocus="false" md-autoselect="true" md-delay="0" md-selected-item="qdata.qitem" md-search-text="someSearchText" md-items="item in querySearch(someSearchText)" md-item-text="item.name" md-min-length="0" md-selected-item-change="onSelectedItemChange(item)" placeholder="выбор услуги"><md-item-template><a ng-href="{{item.url}}" style="display: block; text-decoration: none; color: rgb(68,138,255)" md-highlight-text="someSearchText" md-highlight-flags="^i">{{item.name}}</a></md-item-template><md-not-found>Не найдено: "{{someSearchText}}".</md-not-found></md-autocomplete></form></div></div>'),e.put("drct/tbl-item.tpl.html",'<div itemscope="" itemtype="http://schema.org/BeautySalon"><div layout-padding=""><div style="margin: 0 0 4px"><a style="text-decoration: none; color: rgb(68,138,255)" itemprop="url" ui-sref="byt.splrItem.main({supplier_id:supItem.id, name: supItem.name})" ng-click="saveHash(supItem.id)" analytics-on="" analytics-category="masterinfo" analytics-event="masterinfo-tbl"><span ng-bind="supItem.name" itemprop="name"></span></a></div><div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress"><div><span itemprop="addressLocality" style="display:none" ng-bind="city_name"></span> <span ng-bind="supItem.sup_geo" ng-if="supItem.sup_geo" style="color: gray" itemprop="streetAddress"></span></div><div style="color: gray" ng-if="supItem.cus_geo">Выезд: <span ng-bind="supItem.cus_geo"></span></div></div></div><div style="height: 120px; position: relative"><div ng-if="is_viewed" class="fade"><div style="width: 50px; height: 50px; position: absolute; top: -20px; right: 25px;"><a aria-label="Информация о мастере" ng-click="saveHash(supItem.id)" ui-sref="byt.splrItem.main({supplier_id:supItem.id, name: supItem.name})" analytics-on="" analytics-category="masterinfo" analytics-event="masterinfo-tbl"><span ng-if="is_viewed"><span ng-if="!supItem.avatar" class="person-block back-img" style="box-shadow: #555 -2px 2px 4px"></span> <span ng-if="supItem.avatar"><img ng-src="{{supItem.avatar}}" alt="аватар" itemprop="logo" style="width: 50px; height: 50px; border-radius: 25px; box-shadow: #555 -2px 2px 4px" onerror="this.src = \'https://vk.com/images/camera_100.png\'"></span></span></a></div><div style="background-color: #777" layout="row"><div ng-repeat="nmb in [] | range: 5" style="height: 120px; width: 120px"><div ng-if="supItem.master_serv.arr_serv_work[nmb]"><a class="back-img fade" style="height: 120px; width: 120px; cursor: pointer; display: block" ui-sref="byt.splrItem.servItem.workItem({supplier_id: supItem.id, name: supItem.name, serv_rubric_name: supItem.master_serv.serv_rubric_name, serv_work_id: supItem.master_serv.arr_serv_work[nmb].id})" ng-click="saveHash(supItem.id)" ng-style="{\'background-image\': \'url({{supItem.master_serv.arr_serv_work[nmb].preview_img}})\'}"></a></div><div ng-if="!supItem.master_serv.arr_serv_work[nmb]"><div class="text-center" style="height: 118px; width: 118px; border: 1px dashed #aaa;"><div class="rotate-45" style="margin-top: 50px; color: #aaa">нет фото</div></div></div></div></div></div></div></div>'),e.put("footer/footer.tpl.html",'<div class="app-footer"><a ui-sref="byt.about">о проекте</a> <a ui-sref="byt.agreement">регламент</a> <a href="https://vk.com/miskra_club" target="_blank">группа ВКонтакте</a> <a href="https://vk.com/miskra_app" target="_blank">приложение ВКонтакте</a> <a href="http://miskra.ru" target="_blank">веб-сайт</a></div>'),e.put("full-work/full-work.tpl.html",'<md-dialog aria-label="Уведомление" style="width: 100%; height: 100%; min-width: 100%; min-height:100%; border-radius: 0"><md-dialog-content style="width: 100%; height:100%; padding: 0"><div class="back-img back-grey" style="width: 100%; height: 100%; border: 1px dashed #dedede; border: 0" ng-style="{\'background-image\': \'url({{curWork.main_img}})\'}" ng-repeat="curWork in arr_serv_work" ng-if="$index === cur_index" ng-click="moveNext()" md-swipe-left="moveNext()" md-swipe-right="movePrev()"></div><div style="position: absolute; right: 0; top: 0"><md-button class="md-icon-button" aria-label="закрыть" style="margin:0; color: #fff" ng-click="hideDialog()"><md-icon md-font-icon="fa fa-close fa-2x" style="color: #fff"></md-icon></md-button></div><div class="column-move-prev" ng-click="movePrev()"></div></md-dialog-content></md-dialog>'),e.put("ord/order-answer.tpl.html",'<div class="mrgn" style="font-size: 1.4rem">Ответить на заказ</div><form name="answerForm" ng-submit="sendItem(item)"><ul class="mrgn"><li class="form-item"><div class="lbl bld">Имя мастера/салона</div><div><input class="full-width inp" name="splr_name" required="" ng-minlength="3" ng-maxlength="30" ng-model="item.splr_name"></div><div ng-class="{\'hidden\' : answerForm.splr_name.$valid}"><span class="err-msg small">*требуется от 3 до 30 символов</span></div></li><li class="form-item"><div class="lbl"><span class="bld">Email или телефон</span> <span>(email/телефон раскрывается только заказчику)</span></div><div><input class="full-width inp" name="splr_contact" required="" ng-minlength="3" ng-maxlength="50" ng-model="item.splr_contact"></div><div ng-class="{\'hidden\' : answerForm.splr_contact.$valid}"><span class="err-msg small">*требуется от 3 до 50 символов</span></div></li><li class="form-item"><div class="lbl"><span class="bld">Ответ</span> <span>ваше предложение и комментарии по заказу</span></div><div><textarea class="full-width inp" name="dscr" ng-model="item.dscr" columns="1" required="" ng-minlength="10" ng-maxlength="1000" placeholder="Также можно указать ссылку на ваш сайт или публичную страницу, ориентировочную цену за услугу, дополнительные контактные данные и т.п." rows="5">\n		</textarea></div><div ng-class="{\'hidden\' : answerForm.dscr.$valid}"><span class="err-msg small">*требуется от 10 до 1000 символов</span></div></li><li class="form-item"><div class="text-right"><md-button class="md-primary md-raised" type="submit" ng-disabled="answerForm.$invalid || is_progress">Ответить на заказ</md-button></div></li></ul></form><div class="mrgn">для доступа к другим заказам - <a ui-sref="byt.oauthLogin">зарегистрируйтесь в системе</a></div>'),e.put("ord/order-creator.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ng-href="{{home_href}}"><span class="fa fa-home"></span></a><h1 class="app-toolbar__header">Подбор мастера</h1><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><ul class="list-simple mrgn"><li>Опишите, какую услугу вы бы хотели получить</li><li>Мы постараемся подобрать вам мастера с учётом всех требований</li><li>Вы получите результат на имэйл и сможете связаться с мастером лично для выяснения подробностей</li></ul><form name="orderForm" ng-submit="sendOrder(ord)"><ul class="mrgn"><li class="form-item"><span class="lbl"><span class="bld">Город</span>: {{q_region}}</span></li><li class="form-item"><label><span class="lbl"><span class="bld">Услуга</span>: выберите из списка</span><div ng-if="arr_search_item" class="fade"><div search-drct="" items="arr_search_item" qdata="qdata"></div></div></label><div ng-class="{\'hidden\' : qdata.qitem}"><span class="err-msg small">*требуется указать услугу</span></div></li><li class="form-item"><label><span class="lbl"><span class="bld">Описание</span>: подробности заказа, удобное время, район города, желаемый диапазон цен и прочее</span><div><textarea class="full-width inp" name="dscr" ng-model="ord.dscr" columns="1" required="" ng-minlength="20" ng-maxlength="1000" rows="5">\n				</textarea></div></label><div ng-class="{\'hidden\' : orderForm.dscr.$valid}"><span class="err-msg small">*требуется от 20 до 1000 символов</span></div></li><li class="form-item"><label><span class="lbl"><span class="bld">Email</span>: куда отправить результаты (email нигде не публикуется и не раскрывается)</span><div><input class="full-width inp" type="email" name="email" required="" ng-model="ord.email"></div></label><div ng-class="{\'hidden\' : orderForm.email.$valid}"><span class="err-msg small">*требуется корректный имэйл</span></div></li><li class="form-item"><div class="text-right"><md-button class="md-primary md-raised" type="submit" ng-disabled="orderForm.$invalid || is_progress">Отправить заказ</md-button></div></li></ul></form><div class="text-center mrgn"><a ng-href="{{home_href}}">вернуться к выбору услуг</a></div></div></div></div>'),e.put("ord/order-editor.tpl.html","<div>editor</div>"),e.put("ord/order-item.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ng-href="{{home_href}}"><span class="fa fa-home"></span></a><div class="app-toolbar__header">Заказ на услугу</div><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div ng-if="item"><div class="md-whiteframe-z2 mrgn pdng"><h1 class="mrgn">Заказ №{{item.id}}</h1><ul class="mrgn"><li class="form-item"><div class="lbl bld">Город</div><div ng-bind="item.region"></div></li><li class="form-item"><div class="lbl bld">Услуга</div><div ng-bind="item.serv"></div></li><li class="form-item"><div class="lbl bld">Описание заказа</div><div ng-bind="item.dscr"></div></li><li class="form-item"><div class="lbl bld">Создан</div><div ng-bind="item.created"></div></li></ul></div><div class="md-whiteframe-z2 mrgn pdng"><div class="mrgn" order-answer-drct="" order-item="item"></div></div></div><div ng-if="err_obj"><div class="mrgn text-center"><span class="err-msg" ng-bind="err_obj.msg"></span></div><div class="mrgn text-center"><a ui-sref="byt.welcome">вернуться на главную</a></div></div></div></div></div>'),e.put("ord/order-list.tpl.html","<div>list</div>"),e.put("ord/order-remover.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ui-sref="byt.welcome"><span class="fa fa-home"></span></a><div class="app-toolbar__header">Удаление заказа</div><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div ng-if="item"><div class="mrgn"><h1>Удаление заказа №{{item.id}}</h1><p>Данный заказ был создан {{item.created}} и удалится автоматически через две недели.</p><p>Также вы можете удалить его вручную:</p><div><md-button class="md-warn md-raised" ng-disabled="is_progress" ng-click="removeItem(item)">Удалить вручную</md-button></div></div></div></div></div></div>'),e.put("splr/splr-item.tpl.html",'<div class="full-height"><div ng-if="splr" class="full-height"><div ui-view="splrItemContent" class="full-height fade"></div></div></div>'),e.put("splr-login/oauth-callback.tpl.html","<div>идёт авторизация...</div>"),e.put("splr-login/oauth-login.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ui-sref="byt.welcome"><span class="fa fa-home"></span></a><h1 class="app-toolbar__header">Вход: мастера и салоны</h1><span flex=""></span></div><div class="app-content" style="position: relative"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div layout-margin="" layout-padding=""><div style="margin-top: 16px; font-weight: bold">Шаг 1. Регистрация / Вход</div><p>Для регистрации необходим действующий аккаунт Инстаграм с загруженными фотографиями работ.</p><div class="text-center"><md-button class="md-raised md-primary" ng-click="openOauth()" analytics-on="" analytics-category="login" analytics-event="login-nstg"><md-icon md-font-icon="fa fa-instagram fa-lg" style="vertical-align: -10%"></md-icon><span style="margin-left: 8px; margin-top:4px;">Войти через Instagram</span></md-button></div><div ng-if="!reg_free_sended"><p><small>Если у Вас нет возможности зарегистрироваться, пожалуйста, оставьте ссылку на свой сайт или публичную страницу. По возможности информация будет добавлена в каталоги сервиса.</small></p><form name="regFreeForm" ng-submit="sendRegFree(reg_free)"><div layout="row" layout-sm="column"><div flex=""><label><input type="text" style="width: 100%; box-sizing: border-box; padding: 4px" required="" name="link" maxlength="320" minlength="3" ng-model="reg_free.link"></label></div><div class="text-right"><button style="padding: 4px; box-sizing: border-box" type="submit" ng-disabled="regFreeForm.$invalid">Отправить ссылку</button></div></div></form></div><div style="margin-top: 16px; font-weight: bold">Шаг 2. Заполнение данных</div><p>После регистрации вам будет доступен личный кабинет мастера.</p><p>После заполнения основных данных (город, контакты и т.п.) анкета мастера/салона проверяется модератором и публикуется в каталогах.</p><div style="margin-top: 8px; font-weight: bold">Шаг 3. Экспорт работ и услуг</div><p>Фотографии работ автоматически подгружаются из вашего профиля Instagram. Наименования услуг определяются по тэгам к фотографиям.</p></div></div></div></div>'),e.put("splr-login/splr-login.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ui-sref="byt.welcome"><span class="fa fa-home"></span></a><h1 class="app-toolbar__header">Вход для мастеров и салонов красоты</h1><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content" style="position: relative"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div layout-padding="" layout-margin=""><md-button class="md-primary" ng-if="prevUrl" aria-label="назад" title="назад" onclick="history.back()"><md-icon md-font-icon="fa fa-arrow-left" style="margin: 6px 6px 0 0"></md-icon>вернуться назад</md-button><div ng-if="err_msg" style="color: red">Ошибка входа: <span ng-bind="err_msg"></span></div><form name="loginForm" ng-submit="sendAuth(auth.lgn, auth.pwd)"><md-input-container><label>Логин</label> <input type="text" name="lgn" maxlength="10" minlength="6" required="" ng-model="auth.lgn"><div role="alert" class="fade" ng-messages="loginForm.lgn.$error" ng-show="loginForm.lgn.$dirty"><div ng-message="required" ng-show="loginForm.lgn.$error.required">обязательное поле</div><div ng-message="minlength" ng-show="loginForm.lgn.$error.minlength">6 цифр: идентификатор мастера/салона</div><div ng-message="maxlength" ng-show="loginForm.lgn.$error.maxlength">6 цифр: идентификатор мастера/салона</div></div></md-input-container><md-input-container><label>Пароль</label> <input type="password" name="pwd" required="" maxlength="50" minlength="6" ng-model="auth.pwd"><div role="alert" ng-messages="loginForm.pwd.$error" ng-show="loginForm.pwd.$dirty"><div ng-message="minlength" ng-show="loginForm.pwd.$error.minlength">обязательное поле: от 6 до 50 символов</div><div ng-message="maxlength" ng-show="loginForm.pwd.$error.maxlength">обязательное поле: от 6 до 50 символов</div><div ng-message="required" ng-show="loginForm.pwd.$error.required">обязательное поле: от 6 до 50 символов</div></div></md-input-container><div><md-button class="md-primary md-raised" type="submit" ng-disabled="loginForm.$invalid">Войти</md-button></div></form><p><small>*логин и пароль для входа выдаются администрацией сервиса после верификации мастера/салона</small></p></div></div></div></div>'),e.put("splr-manager/splr-manager.tpl.html",'<div ng-if="err_msg"><div layout-padding="" layout-margin=""><span ng-bind="err_msg"></span><br><a ui-sref="byt.welcome">Вернуться на главную</a></div></div><div ng-if="supplier" class="fade full-height"><div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="к просмотру профиля" ui-sref="byt.splrItem.main({supplier_id: supplier.id})"><span class="fa fa-user"></span></a><h1 class="app-toolbar__header">Редактирование</h1><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content" ng-if="supplier" style="position: relative"><div layout="row" layout-sm="column"><div flex-gt-sm="25"><div class="sup-edt-menu md-whiteframe-z1" style="margin-top: 8px"><div class="clearfix pdng mrgn"><h2 ng-bind="supplier.name" class="pull-left"></h2><div class="pull-left" style="margin-left: 2px"><sup style="font-size: 0.75rem;" ng-if="supplier.is_company">салон</sup> <sup style="font-size: 0.75rem" ng-if="supplier.is_company === false">мастер</sup></div></div><ul><li><md-button class="md-primary" ui-sref="byt.splrManager.profile">Профиль</md-button></li><li><md-button class="md-primary" ui-sref="byt.splrManager.servs">Услуги</md-button></li><li><md-button class="md-primary" ui-sref="byt.splrManager.address">Адрес</md-button></li><li><md-button class="md-primary" ui-sref="byt.splrManager.phone">Телефон</md-button></li><li><md-button class="md-primary" ui-sref="byt.splrManager.email">Имэйл</md-button></li><li><md-button class="md-primary" ui-sref="byt.splrManager.social">Контакты</md-button></li><li><md-button class="md-primary" ui-sref="byt.splrManager.removal">Удаление</md-button></li></ul></div></div><div flex-gt-sm="75" layout-padding="" ui-view="managerContent" class="fade">выберите раздел</div></div></div></div>'),e.put("user-status/user-status.tpl.html",'<div ng-controller="UserStatusController"><div ng-if="!sessData.is_loaded"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular></div></div><div ng-if="sessData.is_loaded"><div class="text-center" ng-if="!sessData.uid"><a ng-href="{{href_login}}" style="display: inline-block; line-height: 0.8; padding: 4px; border-radius: 2px; color: #fff; text-decoration: none"><span style="font-size: 1.2rem">вход</span></a></div><div ng-if="sessData.uid"><md-menu md-position-mode="target-right target"><div ng-click="$mdOpenMenu()" style="cursor:pointer; width: 40px; height: 40px;margin-top: 4px" title="открыть меню пользователя" aria-label="открыть меню пользователя"><div class="back-img" style="width: 40px; height: 40px" ng-if="sessData.avatar" ng-style="{\'background-image\': \'url({{sessData.avatar}})\'}"></div><div class="text-center" style="color: #fff; padding: 5px 0 0;" ng-if="!sessData.avatar"><span class="fa fa-user" style="font-size: 1.8rem"></span></div></div><md-menu-content width="4"><md-menu-item ng-if="sessData.is_supplier"><md-button ng-href="{{href_supplier}}" style="padding-top:4px">Просмотреть профиль</md-button></md-menu-item><md-menu-item ng-if="sessData.is_supplier"><md-button ng-href="{{href_manage}}" style="padding-top:4px">Редактировать профиль</md-button></md-menu-item><md-menu-item ng-if="!sessData.is_supplier"><md-button ui-sref="byt.welcome" style="padding-top:4px">Изменить город</md-button></md-menu-item><md-menu-item ng-if="sessData.is_supplier"><md-button ng-click="logout()">Выход</md-button></md-menu-item></md-menu-content></md-menu></div></div></div>'),e.put("welcome/no-location.tpl.html",'<div style="margin: 8px; padding: 16px; color: #555;"><div>укажите местоположение</div><md-divider></md-divider><div layout="row" layout-sm="column" layout-align="space-around center" style="margin-top: 12px"><div layout="column" layout-align="center center"><md-button class="md-fab md-primary" ng-click="defineLocation()" title="приблизительные координаты" aria-label="автоопределение" analytics-on="" analytics-category="locdef" analytics-event="locdef-auto"><md-icon md-font-icon="fa fa-street-view fa-2x"></md-icon></md-button><div><small>автоопределение</small></div></div><div layout="column" layout-align="center center"><md-button class="md-primary md-fab" ui-sref="byt.aggloList" ng-click="cleanLocationPermission();" title="центр города" aria-label="вручную" analytics-on="" analytics-category="locdef" analytics-event="locdef-manual"><md-icon md-font-icon="fa fa-list-ul fa-2x"></md-icon></md-button><div><small>выбрать вручную</small></div></div><div layout="column" layout-align="center center" ng-if="isDefineSocCity"><md-button class="md-fab md-primary" ng-click="defineSocCity()" title="центр города" aria-label="из социальной сети" analytics-on="" analytics-category="locdef" analytics-event="locdef-vk"><md-icon md-font-icon="fa fa-vk fa-2x"></md-icon></md-button><div><small>из социальной сети</small></div></div></div></div>'),e.put("welcome/wlc.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="на главную" ui-sref="byt.welcome"><span class="fa fa-home"></span></a><h1 class="app-toolbar__header">Мастера и салоны красоты</h1><span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div layout-margin=""></div><div ng-if="is_prg"><div ng-if="!perm_data.is_perm_checked"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка</div></div></div><div ng-if="perm_data.is_perm_checked"><ng-include src="\'welcome/no-location.tpl.html\'"></ng-include><div class="text-center" style="margin-top: 20px"><small>*вход для мастеров и салонов красоты на сайте: <a href="http://miskra.ru/login" target="_blank">miskra.ru/login</a></small></div></div></div></div><div style="margin-top: 20px"><div ng-include="\'footer/footer.tpl.html\'"></div></div></div>'),e.put("agglo-item/spec-item/spec-item.tpl.html",'<div class="full-height" ng-if="cur_spec" ui-view="specItemContent"></div><div ng-if="err_cur_spec"><div layout-margin="" layout-padding="" class="err-msg" ng-bind="err_cur_spec.msg"></div></div><div ng-if="is_prg"><div ng-if="!err_cur_spec && !cur_spec"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка специализации...</div></div></div>'),e.put("agglo-item/offer-list/offer-list.tpl.html",'<div ng-controller="OfferListController as ctrl" flex="33" ng-if="ctrl.offer_list.length > 0"><div style="margin:8px 8px 0; color: rgba(0,0,0,0.54)"><span>действующие скидки</span></div><div class="md-whiteframe-z2" style="margin: 20px 8px 4px; color: #555; font-size: 0.9rem" ng-repeat="ofr in ctrl.offer_list"><div style="float: right; background: yellow; padding: 8px"><span ng-bind="ofr.percent"></span>%</div><div layout-padding=""><div layout="row" layout-wrap=""><div ng-repeat="rbr in ofr.rubric_names" style="padding: 0 4px 0 0"><span ng-bind="rbr"></span></div></div></div><div layout-padding=""><span ng-bind="ofr.conditions"></span><br>окончание акции: <span ng-bind="ofr.end_time*1000 | date : \'d MMMM\'"></span></div><div layout-padding="" layout="row" style="padding-bottom: 0"><div style="margin-right: 4px"><md-icon md-font-icon="fa fa-home"></md-icon></div><div><span ng-bind="ofr.master_address.description"></span></div></div><div layout="row"><md-button flex="" class="md-accent" title="информация о мастере" aria-label="инфомация о мастере" analytics-on="" analytics-category="offer" analytics-event="offer-{{$index+1}}" ui-sref="byt.splrItem.view({supplier_id:ofr.master_profile.id, name: ofr.master_profile.name})"><span ng-bind="ofr.master_profile.name"></span></md-button></div></div><div layout-padding=""><small>Вы - мастер? Оставьте свою скидку в <a target="_blank" href="//vk.com/topic-92002771_31699472">группе приложения</a></small></div></div>'),e.put("agglo-item/spec-list/serv-groups.tpl.html",'<div ng-if="is_prg"><div ng-if="!groups && !err_groups"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка категорий...</div></div></div><div ng-if="err_groups"><div class="mrgn pdng"><span class="err-msg" ng-bind="err_groups.msg"></span></div></div><div ng-if="groups"><div layout-gt-sm="row" layout-sm="column" layout-wrap=""><div flex="50" ng-repeat="grp in groups"><div class="md-whiteframe-z3 mrgn" style="position: relative"><div style="height: 224px; overflow-y: scroll; overflow-x: hidden;"><ul style="margin: 0 0 0 20px; padding:0"><li ng-repeat="rbrItem in grp.arr_serv_rubric" ng-if="grp.name !== rbrItem.name" style="padding: 0; list-style:none"><div style="position: relative"><div><md-button class="md-accent btn-link" style="padding: 10px 8px 6px 8px; margin: 0;" ng-href="{{gnrtLink(grp.name, rbrItem.name, \'tblView\')}}" title="Каталог - {{rbrItem.name}} - {{cur_agglo.local_name}}">{{rbrItem.name}}</md-button></div><div style="position: absolute; top: 0; right: 0" layout-padding=""><a style="padding: 8px" title="Фото - {{rbrItem.name}} - {{cur_agglo.local_name}}" aria-label="Фото - {{rbrItem.name}} - {{cur_agglo.local_name}}" ng-href="{{gnrtLink(grp.name, rbrItem.name, \'prtfView\')}}"><span class="fa fa-camera icon-link"></span></a> <a style="padding: 8px" title="Карта - {{rbrItem.name}} - {{cur_agglo.local_name}}" aria-label="Карта - {{rbrItem.name}} - {{cur_agglo.local_name}}" ng-href="{{gnrtLink(grp.name, rbrItem.name, \'mapView\')}}"><span class="fa fa-globe fa-lg icon-link"></span></a></div></div></li></ul></div><div style="position: absolute; top: 0; left: 0px; bottom:0; width: 20px; background-color: rgb(233,30,99)"><div class="rotated-text"><span style="color: #ededed; font-weight: bold; text-transform: uppercase; letter-spacing: 1.1px; font-size: 12px">{{grp.name}}</span></div></div></div></div></div></div>'),e.put("agglo-item/spec-list/spec-list.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="Мастера и салоны красоты" ng-href="{{home_href}}"><span class="fa fa-home"></span></a><div flex="" style="margin: 0 8px"><div ng-if="arr_search_item" class="fade"><div search-drct="" items="arr_search_item"></div></div></div><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content"><div class="mrgn"><div><h1>Мастера и салоны красоты: {{cur_agglo.local_name}}</h1><div style="margin-top: 8px"><div class="text-center"><md-button class="md-primary md-raised" ui-sref="byt.orderCreator({region: cur_agglo.local_name})"><span class="fa fa-get-pocket fa-lg button-icon"></span> Заказать услугу</md-button></div><div>или выбрать самостоятельно в каталогах, фотографиях и на картах:</div></div></div><div style="min-height: 200px" ng-include="\'agglo-item/spec-list/serv-groups.tpl.html\'"></div><div ng-if="isShowLeftLinkBox" layout-padding=""><span style="cursor:pointer; color: rgb(68,138,255)" ng-click="showLeftLinkBox()" analytics-on="click" analytics-category="leftlink" analytics-event="leftlink-on">&#171;--- выводить ссылку на приложение в меню слева</span></div><div class="text-center"><a ui-sref="byt.aggloList">сменить город</a></div></div><div ng-include="\'footer/footer.tpl.html\'"></div></div>'),e.put("splr/main/splr-ad.tpl.html",'<div layout-margin="" layout-padding=""><md-divider></md-divider><small style="color: gray">специальное предложение</small><div><div ng-if="vfirm.ads_ref"><md-button class="md-accent md-raised" aria-label="спец предложение" style="margin-left: 0" target="_blank" ng-href="{{vfirm.ads_ref.link}}"><span ng-bind="vfirm.ads_ref.text"></span></md-button></div></div><p></p><p ng-if="vfirm.ads_article"><span ng-bind-html="vfirm.ads_article"></span></p><p ng-if="vfirm.ads_warning"><small ng-bind="vfirm.ads_warning"></small></p><p></p></div>'),e.put("splr/main/splr-address.tpl.html",'<md-list style="clear:both" ng-if="vfirm.city_name"><md-list-item class="md-2-line contact-item"><div class="md-list-item-inner"><md-icon md-font-icon="fa fa-home fa-2x"></md-icon><div class="md-list-item-text"><div itemprop="address" itemscope="" itemtype="http://schema.org/PostalAddress"><span itemprop="addressLocality" ng-bind="vfirm.city_name"></span> <span ng-if="vfirm.address"><span>,</span> <span itemprop="streetAddress" ng-bind="vfirm.address"></span></span></div><p>адрес мастера / салона</p></div></div></md-list-item><md-list-item ng-if="vfirm.out_geo" class="md-2-line contact-item"><div class="md-list-item-inner"><md-icon md-font-icon="fa fa-sign-out fa-2x"></md-icon><div class="md-list-item-text"><div><span ng-bind="vfirm.out_geo"></span></div><p>районы, работа на выезде</p></div></div></md-list-item></md-list>'),e.put("splr/main/splr-contacts.tpl.html",'<md-list style="clear:both"><md-list-item class="md-2-line contact-item" ng-repeat="ctct in vfirm.contacts"><div ng-if="ctct.type === \'phone\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-mobile fa-2x"></md-icon><div class="md-list-item-text"><div><span ng-show="is_phone_open"><span itemprop="telephone" ng-bind="ctct.value"></span></span> <span ng-show="!is_phone_open" style="cursor:pointer" analytics-on="click" analytics-category="contact" analytics-event="contact-phone" ng-click="is_phone_open = true"><span ng-bind="ctct.value.substr(0, 7)"></span> <span>...</span> <small style="color: rgb(68,138,255)">показать</small></span></div><p>мобильный телефон <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div ng-if="ctct.type === \'landline\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-phone fa-2x"></md-icon><div class="md-list-item-text"><div><span ng-show="is_landline_open"><span ng-bind="ctct.value"></span></span> <span ng-show="!is_landline_open" style="cursor:pointer" analytics-on="click" analytics-category="contact" analytics-event="contact-landline" ng-click="is_landline_open = true"><span ng-bind="ctct.value.substr(0, 7)"></span> <span>...</span> <small style="color: rgb(68,138,255)">показать</small></span></div><p>стационарный телефон <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div ng-if="ctct.type === \'whatsapp\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-whatsapp fa-2x"></md-icon><div class="md-list-item-text"><div><span ng-show="is_whatsapp_open"><span ng-bind="ctct.value"></span></span> <span ng-show="!is_whatsapp_open" style="cursor:pointer" analytics-on="click" analytics-category="contact" analytics-event="contact-whatsapp" ng-click="is_whatsapp_open = true"><span ng-bind="ctct.value.substr(0, 7)"></span> <span>...</span> <small style="color: rgb(68,138,255)">показать</small></span></div><p>whatsapp<span ng-bind="ctct.comment"></span></p></div></div><div ng-if="ctct.type === \'viber\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-phone-square fa-2x"></md-icon><div class="md-list-item-text"><div><span ng-show="is_viber_open"><span ng-bind="ctct.value"></span></span> <span ng-show="!is_viber_open" style="cursor:pointer" analytics-on="click" analytics-category="contact" analytics-event="contact-viber" ng-click="is_viber_open = true"><span ng-bind="ctct.value.substr(0, 7)"></span> <span>...</span> <small style="color: rgb(68,138,255)">показать</small></span></div><p>viber<span ng-bind="ctct.comment"></span></p></div></div><div ng-if="ctct.type === \'fax\'" class="md-list-item-inner"><md-icon md-font-icon="fa fa-fax fa-2x"></md-icon><div class="md-list-item-text"><div itemprop="faxNumber" ng-bind="ctct.value"></div><p>факс <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'email\'"><md-icon md-font-icon="fa fa-envelope fa-2x"></md-icon><div class="md-list-item-text"><div><span ng-show="is_email_open"><span itemprop="email" ng-bind="ctct.value"></span></span> <span ng-show="!is_email_open" style="cursor:pointer" analytics-on="click" analytics-category="contact" analytics-event="contact-email" ng-click="is_email_open = true"><span ng-bind="ctct.value.substr(0, 7)"></span> <span>...</span> <small style="color: rgb(68,138,255)">показать</small></span></div><p>email <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'skype\'"><md-icon md-font-icon="fa fa-skype fa-2x"></md-icon><div class="md-list-item-text"><div ng-bind="ctct.value"></div><p>Skype <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'icq\'"><md-icon md-font-icon="fa fa-comments fa-2x"></md-icon><div class="md-list-item-text"><div ng-bind="ctct.value"></div><p>icq <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'jabber\'"><md-icon md-font-icon="fa fa-comments-o fa-2x"></md-icon><div class="md-list-item-text"><div ng-bind="ctct.value"></div><p>jabber <span ng-bind="ctct.alias"></span> <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'website\'"><md-icon md-font-icon="fa fa-globe fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" style="margin: 0; padding:0" aria-label="website" ng-if="ctct.value" analytics-on="" analytics-category="contact" analytics-event="contact-website" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a> <span ng-if="!ctct.value">нет данных</span><p>веб-сайт (новая вкладка) <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'vkontakte\'"><md-icon md-font-icon="fa fa-vk fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" analytics-on="" analytics-category="contact" analytics-event="contact-vkn" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>ВКонтакте <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'odnoklassniki\'"><md-icon md-font-icon="fa fa-users fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" analytics-on="" analytics-category="contact" analytics-event="contact-odnoklassniki" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Одноклассники <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'facebook\'"><md-icon md-font-icon="fa fa-facebook fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" analytics-on="" analytics-category="contact" analytics-event="contact-fbk" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Facebook <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'instagram\'"><md-icon md-font-icon="fa fa-instagram fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" style="margin: 0; padding: 0" aria-label="instagram" analytics-on="" analytics-category="contact" analytics-event="contact-nstg" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Instagram (новая вкладка) <span ng-bind="ctct.comment"></span></p></div></div><div class="md-list-item-inner" ng-if="ctct.type === \'twitter\'"><md-icon md-font-icon="fa fa-twitter fa-2x"></md-icon><div class="md-list-item-text"><a target="_blank" analytics-on="" analytics-category="contact" analytics-event="contact-twitter" ng-href="{{ctct.value}}"><span ng-bind="ctct.alias"></span></a><p>Twitter <span ng-bind="ctct.comment"></span></p></div></div></md-list-item></md-list>'),
e.put("splr/main/splr-main.tpl.html",'<div class="full-height"><div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" ng-if="vfirm" title="{{vfirm.city_name}} - перейти к списку услуг" ui-sref="byt.aggloItem.specList({agglo_local_name:vfirm.city_name})"><span class="fa fa-home"></span></a> <span flex=""></span><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div ng-if="err_msg"><div layout-padding="" layout-margin=""><span ng-bind="err_msg"></span><br><a ui-sref="byt.welcome">Вернуться на главную</a></div></div><div class="app-content fade" ng-if="vfirm" itemscope="" itemtype="http://schema.org/BeautySalon" style="position: relative"><div layout="row"><div flex="" offset-gt-md="25" flex-gt-md="50"><div><md-button class="md-primary" ng-if="prevUrl" aria-label="назад" title="назад" onclick="history.back()"><md-icon md-font-icon="fa fa-arrow-left" style="margin: 6px 6px 0 0"></md-icon>вернуться назад</md-button></div><div ng-if="is_prg"><div ng-if="!vfirm && !err_msg"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка информации...</div></div></div><div layout-gt-sm="row" layout="column" ng-if="vfirm"><div flex-gt-sm="80" layout-padding="" layout-margin=""><h1 itemprop="name" ng-bind="vfirm.name"></h1><div><span itemprop="description" ng-bind="vfirm.bio" ng-if="vfirm.bio"></span> <span ng-if="!vfirm.bio" style="color: #bbb">нет описания</span></div></div><div ng-if="vfirm.avatar" flex-gt-sm="20" layout-padding=""><div layout-margin="" class="md-whiteframe-z1"><div style="width: 96px; margin: auto"><img style="width: 96px; height: 96px; margin: auto" ng-src="{{vfirm.avatar}}" itemprop="logo" onerror="this.src = \'https://vk.com/images/camera_100.png\'"></div></div></div></div><div ng-if="sessData.is_supplier && vfirm.id === sessData.uid"><md-button class="md-primary" ui-sref="byt.splrManager.profile({supplier_id: vfirm.id})"><md-icon md-font-icon="fa fa-pencil fa-lg" style="margin-right: 8px"></md-icon>Редактировать профиль</md-button></div><div ng-include="\'splr/main/splr-address.tpl.html\'"></div><div ng-include="\'splr/main/splr-contacts.tpl.html\'"></div><div ng-if="vfirm.ads_article"><div ng-include="\'splr/main/splr-ad.tpl.html\'"></div></div><div ng-include="\'splr/main/splr-servs.tpl.html\'"></div><div layout-padding="" ng-if="arr_master_serv.length > 0" layout-wrap="" layout="row" layout-sm="column"><div ng-if="isAddToBookmarks"><md-button class="md-primary" title="Добавить информацию о мастере или салоне в закладки браузера" ng-click="addToBookmarks()" analytics-on="" analytics-category="bookmark" analytics-event="bookmark-browser"><md-icon md-font-icon="fa fa-bookmark fa-lg" style="margin-right: 8px"></md-icon>Добавить в закладки</md-button></div><div ng-if="isWallPostSupplier"><md-button class="md-primary" title="Добавить информацию о мастере или салоне на стену в социальной сети" ng-click="wallPostSupplier()" analytics-on="" analytics-category="share" analytics-event="share-supplier-wall"><md-icon md-font-icon="fa fa-share fa-lg" style="margin-right: 8px"></md-icon>Добавить на стену</md-button></div></div><div class="mrgn pdng text-center"><a style="text-decoration: none" ng-href="{{supplier_url}}" itemprop="url">id{{splr.id}}</a></div></div></div></div></div>'),e.put("splr/main/splr-servs.tpl.html",'<div layout-padding="" layout-margin=""><md-grid-list md-cols-sm="3" md-cols-md="6" md-cols-gt-md="6" md-row-height="1:1" md-gutter="4px"><md-grid-tile class="back-grey md-whiteframe-z2" ng-repeat="msrv in arr_master_serv"><a class="back-img" style="width: 100%; height: 100%; display: block" ng-style="{\'background-image\': \'url({{msrv.arr_serv_work[0].preview_img}})\'}" ng-if="msrv.arr_serv_work.length > 0" ui-sref="byt.splrItem.servItem.workItem({serv_rubric_name: msrv.serv_rubric_name, serv_work_id: msrv.arr_serv_work[0].id})"></a><div style="position: absolute; bottom: 0; left: 0; right: 0"><div class="img-title-dark" itemscope="" itemtype="http://schema.org/Service"><span ng-bind="msrv.serv_rubric_name" itemprop="name"></span></div></div></md-grid-tile></md-grid-list></div>'),e.put("splr/serv-item/serv-item.tpl.html",'<div ng-if="msrv" class="full-height"><div ui-view="servItemContent" class="full-height"></div></div>'),e.put("splr-manager/email/email-edt.tpl.html",'<div layout-padding=""><form name="emailForm" ng-submit="updateEmail(supplier)"><md-input-container><label>Email</label> <input ng-model="supplier.main_email"></md-input-container><md-button class="md-primary" md-disabled="update_progress" type="submit">Сохранить</md-button></form></div>'),e.put("splr-manager/address/address-edt.tpl.html",'<div><form name="addressForm"><h2 style="margin: 16px 0 0">Работа в салоне (на дому у мастера)</h2><div layout-padding="" style="padding-top: 0"><div layout="row" ng-if="geoRegionList.length > 0"><md-select flex="" placeholder="Район/метро" ng-model="ggg.supRegion"><md-option ng-repeat="rgn in geoRegionList" value="{{rgn.name}}">{{rgn.name}}</md-option></md-select><md-button class="md-icon-button" ng-click="clearSupRegion(ggg)" ng-disabled="!ggg.supRegion" style="margin: 14px 0 0 0"><md-icon md-font-icon="fa fa-close fa-lg"></md-icon></md-button></div><md-input-container><label>Адрес: улица, номер дома</label> <input ng-model="ggg.supStreet"></md-input-container><md-input-container><label>Комментарий (как найти, пройти)</label> <input ng-model="ggg.supComment"></md-input-container></div><h2 style="margin-bottom: 0">Работа на выезде (на дом к заказчику)</h2><div layout-padding="" style="padding-top:2px"><div ng-if="geoRegionList.length > 0"><div ng-repeat="rgn in geoRegionList"><md-checkbox ng-model="rgn.is_selected" aria-label="{{rgn.name}}">{{rgn.name}}</md-checkbox></div><md-button class="md-primary" aria-label="выбрать все районы" ng-click="selectAll(geoRegionList)">Выбрать все</md-button><md-button class="md-primary" aria-label="убрать все районы" ng-click="unselectAll(geoRegionList)">Убрать все</md-button></div><div><md-input-container><label>Условия работы на выезде</label> <input ng-model="ggg.cusConds"></md-input-container></div></div><md-button class="md-primary md-raised" ng-click="updateAddress(mdr, ggg, geoRegionList)">Сохранить</md-button></form></div>'),e.put("splr-manager/address/agglo-edt.tpl.html",'<div layout-padding=""><div ng-if="agglo_data.arr_geo_agglo.length > 0"><md-autocomplete md-no-cache="true" md-autofocus="false" md-autoselect="true" md-delay="0" md-selected-item="slc_data.agglo_item" md-search-text="slc_data.search_text" md-items="item in querySearch(agglo_data.arr_geo_agglo, slc_data.search_text)" md-item-text="item.local_name" md-min-length="0" md-selected-item-change="onSelectedItemChange(slc_data.agglo_item)" placeholder="выберите город"><md-item-template><span md-highlight-text="slc_data.search_text" md-highlight-flags="^i">{{item.local_name}}</span></md-item-template><md-not-found>Не найдено</md-not-found></md-autocomplete></div><div ng-if="supplier.master_address.geo_district_id" class="fade"><div address-edt-drct="" mdr="supplier.master_address"></div></div></div>'),e.put("splr-manager/fio/fio.tpl.html",'<div layout-padding=""></div>'),e.put("splr-manager/phone/phone-edt.tpl.html",'<div layout-padding=""><form name="phoneForm" ng-submit="updatePhone(supplier)"><md-input-container><label>Phone</label> <input ng-model="supplier.main_phone"></md-input-container><md-button class="md-primary" md-disabled="update_progress" type="submit">Сохранить</md-button></form></div>'),e.put("splr-manager/profile/profile-edt.tpl.html",'<div layout-padding=""><form name="profileForm" ng-submit="updateProfile(supplier)"><md-radio-group ng-model="supplier.is_company"><md-radio-button ng-value="false">Мастер</md-radio-button><md-radio-button ng-value="true">Салон</md-radio-button></md-radio-group><md-input-container><label>Имя/Название</label> <input ng-model="supplier.name" required=""></md-input-container><md-input-container><label>Описание, биография</label> <input ng-model="supplier.bio"></md-input-container><md-button class="md-primary md-raised" md-disabled="update_progress" type="submit">Сохранить</md-button></form></div>'),e.put("splr-manager/removal/removal.tpl.html",'<div class="text-center"><p>Из системы удаляются все данные аккаунта, в том числе контакты, услуги и работы.</p><div ng-if="!is_progress"><div><md-button class="md-warn md-raised" ng-click="removeAccount(supplier)">Удалить аккаунт</md-button></div><div><small>*последующее восстановление аккаунта невозможно</small></div></div><div ng-if="is_progress"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular></div></div></div>'),e.put("splr-manager/servs/servs-edt.tpl.html",'<div layout-padding=""><p style="margin-top: 0">Фотографии работ и наименования услуг экспортируются автоматически из вашего аккаунта Инстаграм.</p><p>Первоначальный экспорт запускается в ближайшие пару дней после создания кабинета.</p><p>Дальнейший экспорт (обновление работ и услуг) происходит примерно раз в неделю.</p><p>Для того, чтобы ваши фотографии были экспортированы, необходимо выставить соответствующие тэги к фотографиям в формате #городуслуга или #услугагород, например: #москваманикюр #педикюрмосква #наращиваниересницнабережныечелны #спбстрижка и т.п.</p><p>Тэг должен включать название вашего города и наименование услуги. Название города может быть как полным, так и частоупотребляемым сокращением, например: #санктпетербург или #спб; #ростовнадону или #рнд; #новосибирск или #новосиб</p><p>Пробелы и дефисы не разрешены в тэгах. Регистр букв не важен.</p></div>'),e.put("splr-manager/social/social-edt.tpl.html",'<div layout-padding=""><form name="contactForm" ng-submit="updateProfile(supplier)"><md-input-container><label>Skype</label> <input ng-model="supplier.skype"></md-input-container><md-input-container><label>Twitter</label> <input ng-model="supplier.twitter"></md-input-container><md-input-container><label>Viber</label> <input ng-model="supplier.viber"></md-input-container><md-input-container><label>Vkontakte</label> <input ng-model="supplier.vkontakte"></md-input-container><md-input-container><label>Odnoklassniki</label> <input ng-model="supplier.odnoklassniki"></md-input-container><md-input-container><label>Facebook</label> <input ng-model="supplier.facebook"></md-input-container><md-input-container><label>WhatsApp</label> <input ng-model="supplier.whatsapp"></md-input-container><md-input-container><label>Website</label> <input ng-model="supplier.website"></md-input-container><md-input-container><label>Стационарный телефон</label> <input ng-model="supplier.landline"></md-input-container><md-button class="md-primary" md-disabled="update_progress" type="submit">Сохранить</md-button></form></div>'),e.put("agglo-item/spec-item/rubric-item/rubric-item.tpl.html",'<div class="full-height" ng-if="cur_rubric" ui-view="rubricItemContent">no choosen</div><div ng-if="err_cur_rubric"><div layout-margin="" layout-padding="" class="err-msg" ng-bind="err_cur_rubric.msg"></div></div><div ng-if="is_prg"><div ng-if="!cur_rubric && !err_cur_rubric"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка услуги...</div></div></div>'),e.put("splr/serv-item/work-item/work-item.tpl.html",'<div ng-if="err_msg" layout-padding="">Ошибка загрузки фотографии. Попробуйте позже. <span ng-bind="err_msg"></span></div><div class="work-item"><div class="work-item__img-wrap fade" ng-if="sw" ng-style="{\'background-image\': \'url({{sw.main_img}})\'}"></div><div class="abs-bottom" ng-if="sw"><div class="work-item__dscr-wrap"><span class="work-item__dscr"><span ng-bind="sw.created * 1000 | date: \'dd.MM.yyyy\'"></span> <span ng-bind="sw.description"></span></span></div></div><div class="abs-top"><div layout="row"><md-button class="md-primary md-raised work-item__back-link" aria-label="назад" title="назад" onclick="history.back()" ng-if="prevUrl"><md-icon md-font-icon="fa fa-arrow-left fa-lg"></md-icon></md-button><md-button class="md-primary md-raised work-item__splr-link" ng-if="sw" ng-href="{{link_supplier}}" aria-label="ссылка на мастера, салон" title="ссылка на мастера, салон"><span ng-if="splr.name" ng-bind="splr.name"></span> <span ng-if="!splr.name">Мастер/Салон</span></md-button></div></div><div ng-if="sw"><div class="work-item__soc-wrap"><div style="display: inline-block; margin: 0 12px;"><div vk-share-drct="" data-page-url="{{url_to_share}}" data-page-title="{{msrv.serv_rubric_name}}: {{splr.name}}" data-page-description="МисКра: мастера и салоны красоты" data-page-image="{{sw.preview_img}}"></div></div><div style="display: inline-block; margin: 0 12px"><div vk-like-drct="" id="worklike{{sw.id}}" data-page-url="{{url_to_share}}" data-page-title="{{msrv.serv_rubric_name}}: {{splr.name}}" data-page-description="МисКра: мастера и салоны красоты" data-page-id="{{sw.id}}" data-page-image="{{sw.preview_img}}"></div></div></div></div></div>'),e.put("agglo-item/spec-item/rubric-item/map-view/map-view.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="мастера и салоны красоты {{cur_agglo.local_name}}" ng-href="{{home_href}}"><span class="fa fa-home"></span></a><div flex="" style="margin: 0 8px"><div ng-if="arr_search_item" class="fade"><div search-drct="" items="arr_search_item" qdata="qdata"></div></div></div><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content" style="position: relative"><div class="full-height"><div class="full-height"><div class="padding text-center" ng-if="!map_center.lng">загрузка карты...<br><ion-spinner></ion-spinner></div><div class="full-height" ng-if="map_center.lng" data-tap-disabled="true"><leaflet class="my-map custom-popup" center="map_center" defaults="map_defaults" markers="firm_list_data.map_markers" event-broadcast="map_events" paths="map_paths"></leaflet><div class="abs-bottom" style="margin: 0 0 20px"><div class="text-center" style="background: rgba(255,255,255,0.7); width: 310px; margin: 0 auto; color: #333; padding: 4px"><span ng-if="zurpos.zoom < 14"><span class="err-msg blink-me">приблизьте карту для просмотра меток</span></span><span ng-show="zurpos.zoom >= 14"><span>найдено салонов: <span class="bld" ng-bind="firm_list_data.total"></span> (в радиусе 3км)</span></span></div></div><div style="top: 8px; right: 4px; position: absolute"><div style="background: rgba(255,255,255,0.6); color: #333"><div><md-button class="md-icon-button md-primary" style="margin:0; padding: 0;" title="{{cur_rubric.name}} фото работ" ui-sref="byt.aggloItem.specItem.rubricItem.prtfView"><md-icon md-font-icon="fa fa-camera fa-lg"></md-icon></md-button></div><div style="border-top: 1px solid #aaa"><md-button class="md-icon-button md-primary" style="margin:0; padding:0" title="{{cur_rubric.name}} - каталог мастеров и салонов красоты" ui-sref="byt.aggloItem.specItem.rubricItem.tblView"><md-icon md-font-icon="fa fa-group fa-lg"></md-icon></md-button></div></div></div></div></div></div></div>'),e.put("agglo-item/spec-item/rubric-item/prtf-view/prtf-item.tpl.html",'<div class="prtf-item"><a class="prtf-item__img-wrap" ng-href="{{workInfoLink}}" ng-click="saveHash(pw.id)"><span class="back-img back-grey fade prtf-item__img" ng-style="{\'background-image\': \'url({{pw.preview_img}})\'}" ng-if="is_viewed"></span></a><div class="prtf-item__name-wrap"><div class="white-shadow" ng-bind="pw.master_profile_name"></div></div><div class="prtf-item__icon-wrap"><a class="prtf-item__icon-link" ng-href="{{masterInfoLink}}" ng-click="saveHash(pw.id)" aria-label="информация о мастере" analytics-on="" analytics-category="masterinfo" analytics-event="masterinfo-prtf"><span class="prtf-item__icon fa fa-info-circle fa-2x"></span></a></div></div>'),e.put("agglo-item/spec-item/rubric-item/prtf-view/prtf-view.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="мастера и салоны красоты {{cur_agglo.local_name}}" ng-href="{{home_href}}"><span class="fa fa-home"></span></a><div flex="" style="margin: 0 8px"><div ng-if="arr_search_item" class="fade"><div search-drct="" items="arr_search_item" qdata="qdata"></div></div></div><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content" style="position: relative" id="aggloWrap" scroll-watcher=""><div scroll-top-drct=""></div><div ng-if="arr_prtf_work"><div layout="row" layout-sm="column"><div class="pdng"><h1>Фото {{cur_rubric.name}} {{cur_agglo.local_name}}</h1><div><div ng-if="arr_prtf_work.length === 0"><p>По данному запросу не найдены фотографии работ.</p><p>Попробуйте выбрать другую услугу или возвращайтесь попозже: фотографии работ пополняются с каждым днём.</p></div><div ng-if="arr_prtf_work.length > 0">найдено: <span ng-bind="arr_prtf_work.length" style="font-weight: bold"></span></div></div></div><div flex=""></div><div class="pdng text-right" ng-if="arr_prtf_work.length > 0"><md-button class="md-primary md-raised" ui-sref="byt.orderCreator({region: cur_agglo.local_name, rubric: cur_rubric.name})"><span class="fa fa-get-pocket fa-lg button-icon"></span> {{cur_rubric.name}}: заказать</md-button></div></div><div ng-if="arr_prtf_work.length > 0"><md-grid-list md-cols-sm="1" md-cols-md="2" md-cols-lg="3" md-cols-gt-lg="4" md-row-height="1:1" md-gutter="2px"><md-grid-tile ng-repeat="pw in arr_prtf_work" on-finish-render="servListRepeatFinished" id="work{{pw.id}}"><div class="prtf-view-block" prtf-item-drct="" pw="pw" rubric-name="cur_rubric.name" data-index="{{$index}}"></div></md-grid-tile></md-grid-list></div><div class="text-center"><md-button class="md-primary" ui-sref="byt.aggloItem.specItem.rubricItem.mapView"><span class="fa fa-globe fa-lg button-icon"></span> {{cur_rubric.name}} на карте</md-button><md-button class="md-primary" ng-if="arr_prtf_work.length > 0" ui-sref="byt.aggloItem.specItem.rubricItem.tblView"><span class="fa fa-group fa-lg button-icon"></span> {{cur_rubric.name}} салоны и мастера</md-button></div><div class="text-center"><md-button class="md-primary" ui-sref="byt.orderCreator({region: cur_agglo.local_name, rubric: cur_rubric.name})"><span class="fa fa-get-pocket fa-lg button-icon"></span> {{cur_rubric.name}}: заказать</md-button></div><div class="text-center"><md-button class="md-primary" ng-href="{{home_href}}"><span class="fa fa-home fa-lg button-icon"></span> Вернуться к выбору услуг</md-button></div></div><div ng-if="!arr_prtf_work && !err_arr_prtf_work"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка фото...</div></div><div ng-if="err_arr_prtf_work"><div layout="column" layout-padding="" layout-align="center center"><span ng-bind="err_arr_prtf_work.msg"></span></div></div></div>'),e.put("agglo-item/spec-item/rubric-item/tbl-view/tbl-view.tpl.html",'<div class="md-whiteframe-z1 app-toolbar" layout="row"><a class="app-toolbar__icon" title="мастера и салоны красоты {{cur_agglo.local_name}}" ng-href="{{home_href}}"><span class="fa fa-home"></span></a><div flex="" style="margin: 0 8px"><div ng-if="arr_search_item" class="fade"><div search-drct="" items="arr_search_item" qdata="qdata"></div></div></div><div ng-include="\'user-status/user-status.tpl.html\'"></div></div><div class="app-content" style="position: relative" id="aggloWrap" scroll-watcher=""><div scroll-top-drct=""></div><div class="full-height"><div layout="row"><div flex="" flex-gt-md="50" offset-gt-md="25"><div ng-if="!is_loaded"><div layout="column" layout-align="center center"><md-progress-circular md-mode="indeterminate" class="md-hue-3"></md-progress-circular>загрузка информации...</div></div><div ng-if="is_loaded && err_msg"><div layout-margin=""><span class="err-msg" ng-bind="err_msg"></span></div></div><div class="fade" ng-if="is_loaded && !err_msg"><div><div layout="row" layout-sm="column" layout-margin=""><div layout-padding=""><h1>Мастера и салоны {{cur_rubric.name}} {{cur_agglo.local_name}}</h1><div ng-if="arr_supplier.length === 0"><p>По данному запросу не найдено мастеров и салонов красоты.</p><p>Попробуйте выбрать другую услугу или возвращайтесь попозже: каталог пополняется с каждым днём.</p></div><div ng-if="arr_supplier.length > 0">Найдено: <span ng-bind="arr_supplier.length" style="font-weight: bold"></span></div></div><div flex=""></div><div class="text-right" ng-if="arr_supplier.length > 0"><md-button class="md-primary md-raised" ui-sref="byt.orderCreator({region: cur_agglo.local_name, rubric: cur_rubric.name})"><span class="fa fa-get-pocket fa-lg button-icon"></span> {{cur_rubric.name}}: заказать</md-button></div></div><div class="tbl-view-block" ng-repeat="supPart in arr_supplier" on-finish-render="supplierListRepeatFinished" id="supplier{{supPart.id}}"><div tbl-item-drct="" sup-item="supPart" data-index="{{$index}}"></div></div><div class="text-center"><md-button class="md-primary" ui-sref="byt.aggloItem.specItem.rubricItem.mapView"><span class="fa fa-globe fa-lg button-icon"></span> {{cur_rubric.name}} на карте</md-button><md-button class="md-primary" ng-if="arr_supplier.length > 0" ui-sref="byt.aggloItem.specItem.rubricItem.prtfView"><span class="fa fa-camera fa-lg button-icon"></span> {{cur_rubric.name}} фото работ</md-button></div><div class="text-center"><md-button class="md-primary" ui-sref="byt.orderCreator({region: cur_agglo.local_name, rubric: cur_rubric.name})"><span class="fa fa-get-pocket fa-lg button-icon"></span> {{cur_rubric.name}}: заказать</md-button></div><div class="text-center"><md-button class="md-primary" ng-href="{{home_href}}"><span class="fa fa-home fa-lg button-icon"></span> вернуться к выбору услуг</md-button></div></div></div></div></div></div></div>')}]);